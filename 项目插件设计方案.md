

## ğŸ—‚ï¸ è¿ç§»å‡†å¤‡æ¸…å•

### 1. æºç ä¸æ–‡æ¡£å‡†å¤‡
- [ ] **æ—§ç‰ˆ Max æ’ä»¶æºç **ï¼šå®Œæ•´çš„ `.ms` æ–‡ä»¶ï¼ˆåŒ…æ‹¬ `BigWorld_Common.ms`ã€UI è„šæœ¬ã€å¯¼å‡ºå™¨è„šæœ¬ç­‰ï¼‰ã€‚  
- [ ] **æ—§ç‰ˆæ–‡æ¡£**ï¼šå›¢é˜Ÿå†…éƒ¨çš„ä½¿ç”¨æ‰‹å†Œã€å‚æ•°è¯´æ˜ã€å¯¼å‡ºæµç¨‹æ–‡æ¡£ã€‚  
- [ ] **ç¤ºä¾‹èµ„äº§**ï¼šä¸€æ‰¹èƒ½è¦†ç›–å¸¸è§è¾¹ç•Œæƒ…å†µçš„ Max å·¥ç¨‹æ–‡ä»¶ï¼ˆå«æè´¨ã€åŠ¨ç”»ã€LODã€ç¢°æ’ä½“ï¼‰ã€‚  
- [ ] **BigWorld å¼•æ“æ¥å£æ–‡æ¡£**ï¼šç¡®è®¤å¯¼å‡ºæ–‡ä»¶æ ¼å¼ã€äºŒè¿›åˆ¶åè®®ã€è·¯å¾„è§„åˆ™ã€‚  

### 2. Blender ç¯å¢ƒå‡†å¤‡
- [ ] **Blender 4.5.3 å®‰è£…**ï¼ˆç¡®ä¿å›¢é˜Ÿç»Ÿä¸€ç‰ˆæœ¬ï¼‰ã€‚  
- [ ] **Blender Python API æ–‡æ¡£**ï¼ˆ4.5.3 å¯¹åº”çš„å®˜æ–¹ APIï¼‰ã€‚  
- [ ] **å¼€å‘ç¯å¢ƒ**ï¼šæ¨è VSCode + Blender æ’ä»¶è°ƒè¯•å·¥å…·ï¼ˆ`bpy` stubã€Blender Development æ’ä»¶ï¼‰ã€‚  
- [ ] **æµ‹è¯•ç”¨ä¾‹èµ„äº§**ï¼šå°† Max ç¤ºä¾‹èµ„äº§å¯¼å…¥ Blenderï¼ŒéªŒè¯å…¼å®¹æ€§ã€‚  

### 3. æŠ€æœ¯æ˜ å°„ä¸å¯¹ç…§
- [ ] **å­—æ®µå¯¹ç…§è¡¨**ï¼šMaxScript å…¨å±€å˜é‡/å‡½æ•° â†” Blender Python å¯¹åº”å®ç°ã€‚  
- [ ] **åæ ‡ç³»æ˜ å°„**ï¼šç¡®è®¤ Max â†’ BigWorld â†’ Blender çš„åæ ‡è½¬æ¢çŸ©é˜µã€‚  
- [ ] **å•ä½ç³»ç»Ÿ**ï¼šMax çš„ç³»ç»Ÿå•ä½ â†” Blender é»˜è®¤ç±³åˆ¶ã€‚  
- [ ] **UI/UX å¯¹ç…§**ï¼šMax rollout é¢æ¿ â†” Blender `bpy.types.Panel`ã€‚  
- [ ] **æ–‡ä»¶å¯¼å‡ºé€»è¾‘**ï¼šMax çš„ Writer/Validator â†” Blender Python æ–‡ä»¶ IOã€‚  

### 4. å·¥ç¨‹æ¶æ„ä¸è§„èŒƒ
- [ ] **æ’ä»¶éª¨æ¶**ï¼š`__init__.py` + æ¨¡å—åŒ–å­æ–‡ä»¶ï¼ˆcommonã€uiã€exportã€validatorï¼‰ã€‚  
- [ ] **å‘½åè§„èŒƒ**ï¼šç»Ÿä¸€ Python å‘½åé£æ ¼ï¼ˆPEP8ï¼‰ï¼Œå¹¶ä¿ç•™æ—§ç‰ˆå­—æ®µåˆ«åä»¥å…¼å®¹ã€‚  
- [ ] **Schema/Checklist**ï¼šä¸ºæ¯ä¸ªå¯¼å‡ºå‚æ•°ã€é”™è¯¯ç ã€æ ¡éªŒè§„åˆ™å»ºç«‹ schemaã€‚  
- [ ] **è‡ªåŠ¨åŒ–æµ‹è¯•**ï¼šç”¨ `pytest` æˆ– Blender å†…ç½®æµ‹è¯•æ¡†æ¶éªŒè¯å¯¼å‡ºç»“æœã€‚  
- [ ] **CI/CD**ï¼šé…ç½® GitHub Actions æˆ–æœ¬åœ° CIï¼Œä¿è¯æ¯æ¬¡æäº¤èƒ½è·‘é€šå¯¼å‡º/éªŒè¯ã€‚  

### 5. å›¢é˜Ÿåä½œä¸è¿ç§»ç­–ç•¥
- [ ] **ä»»åŠ¡æ‹†åˆ†**ï¼šUIã€å¯¼å‡ºå™¨ã€éªŒè¯å™¨ã€è·¯å¾„ç®¡ç†ã€å‡ ä½•å·¥å…·ï¼Œå„è‡ªç‹¬ç«‹æ¨¡å—ã€‚  
- [ ] **ç‰ˆæœ¬æ§åˆ¶**ï¼šGit ä»“åº“ï¼ˆå»ºè®®å’Œæ—§ç‰ˆ Max æ’ä»¶æºç åˆ†å¼€å­˜æ”¾ï¼‰ã€‚  
- [ ] **æ–‡æ¡£åŒæ­¥**ï¼šè¿ç§»è¿‡ç¨‹ä¸­æ›´æ–°å¼€å‘è€…æ‰‹å†Œï¼Œä¿è¯æ–°æˆå‘˜èƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚  
- [ ] **å›å½’æµ‹è¯•**ï¼šæ¯å®Œæˆä¸€ä¸ªæ¨¡å—ï¼Œå°±ç”¨æ—§ç‰ˆ Max æ’ä»¶å¯¼å‡ºçš„ç»“æœå¯¹æ¯” Blender æ’ä»¶å¯¼å‡ºçš„ç»“æœã€‚  
- [ ] **é£é™©æ¸…å•**ï¼šåˆ—å‡ºå¯èƒ½çš„å…¼å®¹æ€§é—®é¢˜ï¼ˆå¦‚æè´¨ã€åŠ¨ç”»ã€éª¨éª¼ï¼‰ï¼Œæå‰å‡†å¤‡éªŒè¯æ–¹æ¡ˆã€‚  

---

## ğŸš€ å»ºè®®çš„å¯åŠ¨é¡ºåº
1. **å»ºç«‹å­—æ®µå¯¹ç…§è¡¨**ï¼ˆMax â†” Blenderï¼‰ï¼Œé”å®šè¿ç§»èŒƒå›´ã€‚  
2. **æ­å»ºæ’ä»¶éª¨æ¶**ï¼ˆç©ºå‡½æ•° + TODOï¼‰ï¼Œä¿è¯èƒ½åœ¨ Blender ä¸­åŠ è½½ã€‚  
3. **ä¼˜å…ˆè¿ç§»è·¯å¾„/å¯¼å‡ºé€»è¾‘**ï¼Œå› ä¸ºè¿™æ˜¯æ•´ä¸ªæµç¨‹çš„æ ¸å¿ƒã€‚  
4. **é€æ­¥è¡¥é½ UIã€éªŒè¯å™¨ã€å‡ ä½•å·¥å…·**ã€‚  
5. **æœ€ååšå›å½’æµ‹è¯•**ï¼Œç¡®ä¿ 1:1 å¤åˆ»ã€‚  

---

 **1:1 å¤åˆ»æ—§ç‰ˆ Max æ’ä»¶åˆ° Blender 4.5.3**ï¼Œé‚£æˆ‘ä»¬éœ€è¦ä¸€ä¸ª**æå…¶è¯¦ç»†çš„è¿ç§»å‡†å¤‡æ¸…å•**ï¼Œè¦†ç›–æºç ã€ç¯å¢ƒã€åŠŸèƒ½ã€éªŒè¯ã€å›¢é˜Ÿåä½œç­‰æ‰€æœ‰ç¯èŠ‚ï¼Œé¿å…é—æ¼ã€‚ä¸‹é¢æˆ‘ç»™ä½ ä¸€ä¸ªåˆ†å±‚çº§çš„ **å…¨æ™¯ Checklist**ï¼Œä½ ä»¬å›¢é˜Ÿå¯ä»¥ç›´æ¥ç”¨æ¥åˆ†å·¥å’Œæ¨è¿›ã€‚

---

# ğŸ—‚ï¸ Blender æ’ä»¶è¿ç§»å…¨æ™¯æ¸…å•

## ä¸€ã€æºç ä¸éœ€æ±‚å‡†å¤‡
- [ ] **æ”¶é›†æ—§ç‰ˆ Max æ’ä»¶æºç **
  - `BigWorld_Common.ms`
  - å¯¼å‡ºå™¨è„šæœ¬ï¼ˆWriter/Validatorï¼‰
  - UI è„šæœ¬ï¼ˆrollout é¢æ¿ï¼‰
  - å·¥å…·è„šæœ¬ï¼ˆå‡ ä½•æ£€æŸ¥ã€æè´¨å¤„ç†ï¼‰
- [ ] **æ”¶é›†æ—§ç‰ˆæ–‡æ¡£**
  - å‚æ•°è¯´æ˜æ–‡æ¡£
  - ä½¿ç”¨æ‰‹å†Œ
  - å¼€å‘è€…æ³¨é‡Š
- [ ] **æ”¶é›†ç¤ºä¾‹èµ„äº§**
  - æ¨¡å‹ï¼ˆLODã€å¤šæè´¨ã€éª¨éª¼åŠ¨ç”»ï¼‰
  - åœºæ™¯ï¼ˆå«ç¯å…‰ã€ç¢°æ’ä½“ï¼‰
  - ç‰¹æ®Šè¾¹ç•Œæ¡ˆä¾‹ï¼ˆç©ºæè´¨ã€éæ³•è·¯å¾„ã€éæµå½¢å‡ ä½•ï¼‰
- [ ] **æ”¶é›† BigWorld å¼•æ“æ¥å£**
  - äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼ˆ.visual, .primitives, .chunkï¼‰
  - è·¯å¾„è§„åˆ™ï¼ˆresã€toolsã€binï¼‰
  - æ ¡éªŒè§„åˆ™ï¼ˆé”™è¯¯ç ã€æ—¥å¿—æ ¼å¼ï¼‰

---

## äºŒã€Blender ç¯å¢ƒå‡†å¤‡
- [ ] **ç»Ÿä¸€ Blender ç‰ˆæœ¬**ï¼š4.5.3  
- [ ] **å®‰è£…å¼€å‘å·¥å…·**
  - VSCode + Blender Development æ’ä»¶
  - Python stub (`bpy-stubs`)  
- [ ] **é…ç½®è°ƒè¯•ç¯å¢ƒ**
  - Blender å†…ç½®æ§åˆ¶å°
  - å¤–éƒ¨è°ƒè¯• attachï¼ˆ`bpy.app.debug`ï¼‰
- [ ] **å‡†å¤‡æµ‹è¯•èµ„äº§**
  - å°† Max ç¤ºä¾‹èµ„äº§å¯¼å…¥ Blenderï¼ˆFBX/OBJ/è‡ªç ”è½¬æ¢ï¼‰

---

## ä¸‰ã€åŠŸèƒ½æ˜ å°„ä¸å¯¹ç…§
- [ ] **å…¨å±€å˜é‡å¯¹ç…§**
  - AngleDivergence â†’ ANGLE_DIVERGENCE
  - VertTolerance â†’ VERT_TOLERANCE
  - VertThreshold â†’ VERT_THRESHOLD
  - bwMacroScriptsPath â†’ **åºŸå¼ƒ**
- [ ] **å‡½æ•°å¯¹ç…§**
  - bwCleanPath â†’ bw_clean_path
  - convertCoordinateToBW â†’ convert_coordinate_to_bw
  - convertToMeters â†’ convert_to_meters
  - IsPlanar â†’ is_planar
- [ ] **æ•°æ®ç»“æ„å¯¹ç…§**
  - Max å…¨å±€æ•°ç»„ â†’ Blender `bmesh`/`mesh.vertices`
  - Max rollout UI â†’ Blender `bpy.types.Panel`
  - Max ini é…ç½® â†’ Blender `addon preferences`
- [ ] **æ–‡ä»¶å¯¼å‡ºå¯¹ç…§**
  - Max BinaryWriter â†’ Python `struct`/`io`
  - Max Validator â†’ Python schema æ ¡éªŒå™¨

---

## å››ã€æ’ä»¶æ¶æ„è®¾è®¡
- [ ] **æ’ä»¶éª¨æ¶**
  - `__init__.py`ï¼ˆbl_infoã€æ³¨å†Œå…¥å£ï¼‰
  - `common.py`ï¼ˆè·¯å¾„ã€å•ä½ã€åæ ‡å·¥å…·ï¼‰
  - `export.py`ï¼ˆWriterï¼‰
  - `validate.py`ï¼ˆValidatorï¼‰
  - `ui.py`ï¼ˆé¢æ¿ï¼‰
  - `xml_manager.py`ï¼ˆPathsXMLManagerï¼‰
- [ ] **å‘½åè§„èŒƒ**
  - Python PEP8
  - ä¿ç•™æ—§ç‰ˆå­—æ®µåˆ«åï¼ˆå…¼å®¹è¿ç§»æ–‡æ¡£ï¼‰
- [ ] **Schema é©±åŠ¨**
  - å¯¼å‡ºå‚æ•° schema
  - é”™è¯¯ç  schema
  - æ ¡éªŒè§„åˆ™ schema

---

## äº”ã€åŠŸèƒ½æ¨¡å—è¿ç§»æ¸…å•
- [ ] **è·¯å¾„ç®¡ç†**
  - bw_clean_path
  - bigworld_folder_dir
  - bigworld_res_dir
  - bw_tools_folder_dir
- [ ] **å•ä½ä¸åæ ‡**
  - convert_to_meters
  - convert_coordinate_to_bw
- [ ] **å‡ ä½•å·¥å…·**
  - is_planar
  - é¡¶ç‚¹/æ³•çº¿/è¾¹ç•Œæ£€æŸ¥
- [ ] **å¯¼å‡ºå™¨**
  - Writerï¼šç”Ÿæˆ .visual / .primitives
  - äºŒè¿›åˆ¶å†™å…¥ï¼šstruct.pack
  - è·¯å¾„è§„åˆ™ï¼šres/tools/bin
- [ ] **éªŒè¯å™¨**
  - å‚æ•°å®Œæ•´æ€§æ ¡éªŒ
  - é”™è¯¯ç è¾“å‡º
  - æ—¥å¿—æ ¼å¼å¯¹é½
- [ ] **UI**
  - å¯¼å‡ºé¢æ¿ï¼ˆå‚æ•°è¾“å…¥ï¼‰
  - è·¯å¾„é€‰æ‹©å™¨
  - é”™è¯¯æç¤º
- [ ] **XML ç®¡ç†**
  - PathsXMLManager
  - ç»å¯¹/ç›¸å¯¹è·¯å¾„åˆ‡æ¢
  - XML å†™å›

---

## å…­ã€æµ‹è¯•ä¸éªŒè¯
- [ ] **å•å…ƒæµ‹è¯•**
  - è·¯å¾„å‡½æ•°
  - å•ä½æ¢ç®—
  - åæ ‡è½¬æ¢
  - XML ç®¡ç†
- [ ] **é›†æˆæµ‹è¯•**
  - å¯¼å‡ºå®Œæ•´èµ„äº§
  - éªŒè¯å¯¼å‡ºæ–‡ä»¶å¯è¢« BigWorld å¼•æ“åŠ è½½
- [ ] **å›å½’æµ‹è¯•**
  - ä¸ Max æ’ä»¶å¯¼å‡ºç»“æœé€å­—èŠ‚å¯¹æ¯”
- [ ] **è¾¹ç•Œæµ‹è¯•**
  - ç©ºæè´¨
  - éæµå½¢å‡ ä½•
  - è¶…å¤§æ¨¡å‹
  - é”™è¯¯è·¯å¾„

---

## ä¸ƒã€å›¢é˜Ÿåä½œä¸æµç¨‹
- [ ] **ä»»åŠ¡æ‹†åˆ†**
  - UI â†’ å‰ç«¯å¼€å‘
  - Writer â†’ æ ¸å¿ƒå¼€å‘
  - Validator â†’ QA/å·¥å…·å¼€å‘
  - æ–‡æ¡£ â†’ æŠ€æœ¯å†™æ‰‹
- [ ] **ç‰ˆæœ¬æ§åˆ¶**
  - Git ä»“åº“
  - åˆ†æ”¯ç­–ç•¥ï¼ˆfeature/bugfix/releaseï¼‰
- [ ] **CI/CD**
  - GitHub Actionsï¼šè‡ªåŠ¨è·‘æµ‹è¯•
  - è‡ªåŠ¨æ‰“åŒ…æ’ä»¶ zip
- [ ] **æ–‡æ¡£åŒæ­¥**
  - å¼€å‘è€…æ‰‹å†Œ
  - ä½¿ç”¨æ‰‹å†Œ
  - FAQ
- [ ] **åŸ¹è®­ä¸äº¤æ¥**
  - æ–°æˆå‘˜å¿«é€Ÿä¸Šæ‰‹æŒ‡å—
  - ä»£ç è¯„å®¡ checklist

---

## å…«ã€é£é™©ä¸é¢„æ¡ˆ
- [ ] **åæ ‡ç³»ä¸ä¸€è‡´** â†’ æå‰éªŒè¯ BigWorld åæ ‡æ˜ å°„çŸ©é˜µ  
- [ ] **æè´¨å…¼å®¹æ€§** â†’ Blender æè´¨èŠ‚ç‚¹ vs Max æè´¨çƒ  
- [ ] **åŠ¨ç”»å…¼å®¹æ€§** â†’ éª¨éª¼/è’™çš®å¯¼å‡ºè§„åˆ™  
- [ ] **æ–‡ä»¶æ ¼å¼å·®å¼‚** â†’ äºŒè¿›åˆ¶å†™å…¥å­—èŠ‚åºã€å¯¹é½æ–¹å¼  
- [ ] **å›¢é˜Ÿä¹ æƒ¯å·®å¼‚** â†’ åˆ¶å®šç»Ÿä¸€ç¼–ç è§„èŒƒã€æ–‡æ¡£æ¨¡æ¿  

---

bigworld_blender_addon/
â”‚â”€â”€ __init__.py              # æ’ä»¶å…¥å£
â”‚
â”œâ”€â”€ core/                    # æ ¸å¿ƒé€»è¾‘å±‚
â”‚   â”œâ”€â”€ common.py             # å…¬å…±å‡½æ•° (BigWorld_Common.ms)
â”‚   â”œâ”€â”€ xml_manager.py        # è·¯å¾„ XML ç®¡ç†
â”‚   â”œâ”€â”€ geometry.py           # å‡ ä½•å·¥å…· (BigWorld_Geometry.ms)
â”‚   â”œâ”€â”€ material.py           # æè´¨å·¥å…· (BigWorld_Material.ms)
â”‚   â”œâ”€â”€ writer_visual.py      # Visual å¯¼å‡ºå™¨
â”‚   â”œâ”€â”€ writer_primitives.py  # Primitives å¯¼å‡ºå™¨
â”‚   â”œâ”€â”€ writer_chunk.py       # Chunk å¯¼å‡ºå™¨
â”‚   â”œâ”€â”€ validator.py          # éªŒè¯å™¨ (BigWorld_Validator.ms)
â”‚   â”œâ”€â”€ animation.py          # åŠ¨ç”»å¯¼å‡º (å®è„šæœ¬ Export_Animation)
â”‚   â”œâ”€â”€ hitbox.py             # ç¢°æ’ç›’å·¥å…· (Define_Hitboxes, Export_HitBox_to_xml)
â”‚   â”œâ”€â”€ portal.py             # Portal å·¥å…· (Exit/Heaven/Standard/Label)
â”‚   â”œâ”€â”€ hardpoint.py          # HardPoint å¯¼å…¥
â”‚   â”œâ”€â”€ bsp.py                # BSP ç”Ÿæˆ
â”‚   â”œâ”€â”€ hull.py               # è‡ªå®šä¹‰ Hull
â”‚   â”œâ”€â”€ normals.py            # æ³•çº¿å¤„ç† (Munge_Normals)
â”‚   â”œâ”€â”€ object_tools.py       # å¯¹è±¡åˆ†å‰²
â”‚   â”œâ”€â”€ prefab.py             # Prefab ç»„è£…
â”‚   â”œâ”€â”€ path_tools.py         # è·¯å¾„ä¿®æ”¹/éªŒè¯
â”‚   â””â”€â”€ utils_logging.py      # æ—¥å¿—ä¸é”™è¯¯ç 
â”‚
â”œâ”€â”€ ui/                      # ç•Œé¢å±‚
â”‚   â”œâ”€â”€ panels_main.py        # ä¸»é¢æ¿ (BigWorld_UI.ms)
â”‚   â”œâ”€â”€ panels_tools.py       # å·¥å…·é¢æ¿ (BigWorld_ToolsUI.ms + å®è„šæœ¬å·¥å…·)
â”‚   â”œâ”€â”€ operators_export.py   # å¯¼å‡ºæŒ‰é’®
â”‚   â”œâ”€â”€ operators_validate.py # æ ¡éªŒæŒ‰é’®
â”‚   â”œâ”€â”€ operators_tools.py    # å·¥å…·æŒ‰é’® (Hitbox, Portal, Prefab ç­‰)
â”‚   â””â”€â”€ menus.py              # èœå•å…¥å£
â”‚
â”œâ”€â”€ schemas/                 # è§„èŒƒä¸è§„åˆ™
    â”œâ”€â”€ export_schema.json    # å¯¼å‡ºå‚æ•°
    â”œâ”€â”€ error_codes.json      # é”™è¯¯ç 
    â””â”€â”€ validator_rules.json  # æ ¡éªŒè§„åˆ™

 **å¯æ‰§è¡Œçš„ UI è®¾è®¡è“å›¾**ï¼Œè¿™æ ·å›¢é˜Ÿå°±èƒ½ç›´æ¥åœ¨ `panels_main.py`ã€`panels_tools.py` å’Œ `menus.py` ä¸­è½åœ°ã€‚

---

# ğŸ–¥ï¸ Blender æ’ä»¶ UI å¤åˆ»è“å›¾

## 1. ä¸»å‚æ•°é¢æ¿ (`ui/panels_main.py`)
å¯¹åº” Max rollout çš„æ ¸å¿ƒå‚æ•°åŒºå—ï¼š

- **å¯¼å‡ºè·¯å¾„åŒº**
  - `bpy.props.StringProperty` + `bpy.types.OperatorFileBrowser`
  - å­—æ®µï¼š`export_path`
  - UIï¼šè·¯å¾„è¾“å…¥æ¡† + æµè§ˆæŒ‰é’®

- **å¯¼å‡ºé€‰é¡¹åŒº**
  - `LOD`ï¼š`bpy.props.BoolProperty(name="Export LODs")`
  - `åŠ¨ç”»`ï¼š`bpy.props.BoolProperty(name="Export Animation")`
  - `æè´¨`ï¼š`bpy.props.BoolProperty(name="Export Materials")`

- **å¯¼å‡ºæŒ‰é’®**
  - ç»‘å®š `bw.export_visual`ã€`bw.export_primitives`ã€`bw.export_chunk`

- **æ—¥å¿—/é”™è¯¯æ˜¾ç¤ºåŒº**
  - ä½¿ç”¨ `bpy.types.UIList` æˆ– `layout.label` å¾ªç¯æ˜¾ç¤º `core/utils_logging.py` æ”¶é›†çš„æ¶ˆæ¯
  - æ”¯æŒç‚¹å‡»é”™è¯¯ç  â†’ æ‰“å¼€å¸®åŠ©æ–‡æ¡£

---

## 2. å·¥å…·é¢æ¿ (`ui/panels_tools.py`)
æ‹†åˆ†ä¸ºå­ Panelï¼Œé¿å…è€¦åˆï¼š

- **Hitbox å·¥å…·åŒº**
  - æŒ‰é’®ï¼š`bw.define_hitbox`ã€`bw.export_hitbox_xml`
  - ç»‘å®š `core/hitbox.py`

- **Portal å·¥å…·åŒº**
  - æŒ‰é’®ï¼š`bw.add_exit_portal`ã€`bw.add_heaven_portal`ã€`bw.add_standard_portal`ã€`bw.add_label_portal`
  - ç»‘å®š `core/portal.py`

- **Prefab å·¥å…·åŒº**
  - æŒ‰é’®ï¼š`bw.assemble_prefab`
  - ç»‘å®š `core/prefab.py`

---

## 3. æ“ä½œç¬¦ä¸ UI ç»‘å®š
æ¯ä¸ªå®è„šæœ¬å¿…é¡»æœ‰ï¼š
- ä¸€ä¸ª Operatorï¼ˆå¦‚ `bw.export_visual` â†’ `core/writer_visual.py`ï¼‰
- ä¸€ä¸ª UI æŒ‰é’®ï¼ˆæ”¾åœ¨ä¸»é¢æ¿ Export åŒºï¼‰

ç¤ºä¾‹ï¼š
```python
class BW_OT_export_visual(bpy.types.Operator):
    bl_idname = "bw.export_visual"
    bl_label = "Export Visual"
    def execute(self, context):
        from ..core import writer_visual
        result = writer_visual.run(context)
        return {'FINISHED'} if result.success else {'CANCELLED'}
```

---

## 4. é”™è¯¯æç¤ºä¸æ—¥å¿—æ˜¾ç¤º
- åœ¨ `panels_main.py` åº•éƒ¨å¢åŠ ï¼š
  ```python
  row = layout.row()
  row.template_list("BW_UL_log_messages", "", context.scene, "bw_log_items", context.scene, "bw_log_index")
  ```
- `BW_UL_log_messages` ç»§æ‰¿ `bpy.types.UIList`ï¼Œæ˜¾ç¤ºé”™è¯¯ç  + æè¿°
- æ•°æ®æ¥æºï¼š`core/utils_logging.py`ï¼ˆç»Ÿä¸€æ—¥å¿—æ”¶é›†ï¼‰

---

## 5. èœå•ä¸å¿«æ·é”® (`ui/menus.py`)
- **é¡¶éƒ¨èœå•**
  ```python
  def menu_func_export(self, context):
      self.layout.operator("bw.export_visual", text="BigWorld Visual (.visual)")
  bpy.types.TOPBAR_MT_file_export.append(menu_func_export)
  ```

- **å³é”®èœå•**
  ```python
  def menu_func_object(self, context):
      self.layout.operator("bw.define_hitbox", text="BigWorld Define Hitbox")
  bpy.types.VIEW3D_MT_object_context_menu.append(menu_func_object)
  ```

- **å¿«æ·é”®æ˜ å°„**
  ```python
  addon_keymaps = []
  wm = bpy.context.window_manager
  km = wm.keyconfigs.addon.keymaps.new(name='3D View', space_type='VIEW_3D')
  kmi = km.keymap_items.new("bw.export_visual", 'E', 'PRESS', ctrl=True, shift=True)
  addon_keymaps.append((km, kmi))
  ```

---

# âœ… æœ€ç»ˆæ•ˆæœ
- **ä¸»é¢æ¿**ï¼šå¯¼å‡ºè·¯å¾„ + å¯¼å‡ºé€‰é¡¹ + å¯¼å‡ºæŒ‰é’® + æ—¥å¿—æ˜¾ç¤º  
- **å·¥å…·é¢æ¿**ï¼šHitboxã€Portalã€Prefab å„è‡ªç‹¬ç«‹  
- **æ“ä½œç¬¦**ï¼šæ¯ä¸ªå®è„šæœ¬éƒ½æœ‰å¯¹åº” Operator + UI æŒ‰é’®  
- **æ—¥å¿—åé¦ˆ**ï¼šé”™è¯¯ç å®æ—¶æ˜¾ç¤ºåœ¨ UI  
- **èœå•/å¿«æ·é”®**ï¼šé¡¶æ ã€å³é”®ã€å¿«æ·é”®ä¸‰é‡å…¥å£  


**è¿™é‡Œæ˜¯ä¸€ä»½ã€ŒUI å¯¹ç…§è¡¨ï¼ˆMax rollout â†’ Blender Panel/Operatorï¼‰ã€åˆç¨¿**ï¼Œå¸®åŠ©ä½ ä»¬å›¢é˜Ÿé€ä¸€ç¡®è®¤å“ªäº› UI å·²ç»è¿ç§»ï¼Œå“ªäº›è¿˜éœ€è¦è¡¥é½ã€‚  

---

# ğŸ—‚ï¸ UI å¯¹ç…§è¡¨ï¼ˆMax rollout â†’ Blender Panel/Operatorï¼‰

+--------------------------------------+----------------------+---------------------------+-------------------------------------------+
| Max Rollout / å®è„šæœ¬ UI              | åŠŸèƒ½åŒºå—             | Blender Panel             | Blender Operator                           |
+--------------------------------------+----------------------+---------------------------+-------------------------------------------+
| BigWorld_UI.ms (ä¸»é¢æ¿)              | å¯¼å‡ºè·¯å¾„é€‰æ‹©         | panels_main.py            | -                                         |
|                                      | å¯¼å‡ºé€‰é¡¹ (LOD/åŠ¨ç”»/æè´¨) | panels_main.py        | -                                         |
|                                      | å¯¼å‡ºæŒ‰é’® (Visual/Prim/Chunk) | panels_main.py    | bw.export_visual / bw.export_primitives / |
|                                      |                      |                           | bw.export_chunk                            |
|                                      | æ—¥å¿—/é”™è¯¯æ˜¾ç¤ºåŒº      | panels_main.py            | -                                         |
+--------------------------------------+----------------------+---------------------------+-------------------------------------------+
| BigWorld_ToolsUI.ms (å·¥å…·é¢æ¿)       | Hitbox å·¥å…·åŒº        | panels_tools.py           | bw.define_hitbox / bw.export_hitbox_xml   |
|                                      | Portal å·¥å…·åŒº        | panels_tools.py           | bw.add_exit_portal / bw.add_heaven_portal |
|                                      |                      |                           | bw.add_standard_portal / bw.add_label_portal |
|                                      | Prefab å·¥å…·åŒº        | panels_tools.py           | bw.assemble_prefab                         |
+--------------------------------------+----------------------+---------------------------+-------------------------------------------+
| BigWorld_Export_Visual.mcr           | å¯¼å‡º Visual          | panels_main.py (Export åŒº) | bw.export_visual                          |
| BigWorld_Export_Animation.mcr        | å¯¼å‡º Animation       | panels_main.py (Export åŒº) | bw.export_animation                       |
| BigWorld_Export_HitBox_to_xml.mcr    | å¯¼å‡º HitBox XML      | panels_tools.py (Hitbox)   | bw.export_hitbox_xml                      |
| BigWorld_Define_Hitboxes.mcr         | å®šä¹‰ HitBox          | panels_tools.py (Hitbox)   | bw.define_hitbox                          |
| BigWorld_Exit_Portal.mcr             | æ·»åŠ  Exit Portal     | panels_tools.py (Portal)   | bw.add_exit_portal                        |
| BigWorld_Heaven_Portal.mcr           | æ·»åŠ  Heaven Portal   | panels_tools.py (Portal)   | bw.add_heaven_portal                      |
| BigWorld_Standard_Portal.mcr         | æ·»åŠ  Standard Portal | panels_tools.py (Portal)   | bw.add_standard_portal                    |
| BigWorld_Label_Portal.mcr            | æ·»åŠ  Label Portal    | panels_tools.py (Portal)   | bw.add_label_portal                       |
| BigWorld_Import_HardPoint.mcr        | å¯¼å…¥ HardPoint       | panels_tools.py (ç‹¬ç«‹åŒºå—) | bw.import_hardpoint                       |
| BigWorld_Make_BSP.mcr                | ç”Ÿæˆ BSP             | panels_tools.py            | bw.make_bsp                               |
| BigWorld_Make_CustomHull.mcr         | ç”Ÿæˆè‡ªå®šä¹‰ Hull      | panels_tools.py            | bw.make_custom_hull                       |
| BigWorld_Munge_Normals.mcr           | æ³•çº¿å¤„ç†             | panels_tools.py            | bw.munge_normals                          |
| BigWorld_Object_Divider.mcr          | å¯¹è±¡åˆ†å‰²             | panels_tools.py            | bw.object_divider                         |
| BigWorld_Prefab_Assembler.mcr        | Prefab ç»„è£…          | panels_tools.py (Prefab)   | bw.assemble_prefab                        |
| BigWorld_Modify_Res_Paths.mcr        | ä¿®æ”¹èµ„æºè·¯å¾„         | panels_tools.py            | bw.modify_res_paths                       |
| BigWorld_Verify_File_Paths.mcr       | éªŒè¯æ–‡ä»¶è·¯å¾„         | panels_tools.py            | bw.verify_file_paths                      |
+--------------------------------------+----------------------+---------------------------+-------------------------------------------+
| BigWorld_Startup.ms                  | æ³¨å†Œèœå•/å¿«æ·é”®      | ui/menus.py                | èœå•å…¥å£ + å¿«æ·é”®æ˜ å°„                     |
+--------------------------------------+----------------------+---------------------------+-------------------------------------------+


---

# ğŸ”¹ ä½¿ç”¨æ–¹å¼
1. **é€è¡Œå‹¾é€‰**ï¼šç¡®è®¤æ¯ä¸ª Max rollout æ˜¯å¦å·²åœ¨ Blender ä¸­å®ç°ã€‚  
2. **ç¼ºå¤±è¡¥é½**ï¼šå¦‚æœæŸä¸ª Operator å·²å†™å¥½ä½† UI æŒ‰é’®æœªæŒ‚è½½ï¼Œéœ€åœ¨å¯¹åº” Panel ä¸­è¡¥å……ã€‚  
3. **ä¸€è‡´æ€§æ£€æŸ¥**ï¼šç¡®ä¿ UI æ ‡ç­¾ã€å‚æ•°åä¸æ—§ç‰ˆæ–‡æ¡£ä¸€è‡´ï¼Œé¿å…å›¢é˜Ÿæ··æ·†ã€‚  
4. **æ‰©å±•æ€§**ï¼šPortal/Hitbox/Prefab ç­‰å·¥å…·åŒºå¯ä»¥ç»§ç»­ç»†åˆ†å­ Panelï¼Œä¿æŒæ¸…æ™°ã€‚  

---


---



 **æ—§ç‰ˆ Max æ’ä»¶æ–‡ä»¶ (.ms/.mcr) â†’ æ–°ç‰ˆ Blender æ’ä»¶æ¨¡å— (.py/.json)** çš„ä¸€ä¸€å¯¹ç…§è¡¨ï¼Œç¡®ä¿è¿ç§»æ—¶ä¸é—æ¼ä»»ä½•åŠŸèƒ½ã€‚

---

# ğŸ“‘ æ—§ç‰ˆ â†’ æ–°ç‰ˆ æ–‡ä»¶å¯¹ç…§è¡¨
+---------------------------------------------------+--------------------------------------+---------------------------------------------+
| æ—§ç‰ˆæ–‡ä»¶ (MaxScript)                              | ä¸»è¦åŠŸèƒ½                             | æ–°ç‰ˆæ–‡ä»¶ (Blender Python)                   |
+---------------------------------------------------+--------------------------------------+---------------------------------------------+
| BigWorld_Common.ms                                | å…¬å…±å‡½æ•°ï¼šè·¯å¾„ã€å•ä½ã€åæ ‡ã€XMLç®¡ç†   | core/common.py + core/xml_manager.py        |
| BigWorld_Exporter.ms                              | å¯¼å‡ºå™¨å…¥å£                           | core/writer_visual.py + writer_primitives.py|
| BigWorld_VisualExporter.ms                        | å¯¼å‡º .visual æ–‡ä»¶                     | core/writer_visual.py                       |
| BigWorld_PrimitivesExporter.ms                    | å¯¼å‡º .primitives æ–‡ä»¶                 | core/writer_primitives.py                   |
| BigWorld_ChunkExporter.ms                         | å¯¼å‡º .chunk æ–‡ä»¶                      | core/writer_chunk.py                        |
| BigWorld_Validator.ms                             | å¯¼å‡ºç»“æœæ ¡éªŒã€é”™è¯¯ç è¾“å‡º               | core/validator.py + schemas/*.json          |
| BigWorld_UI.ms                                    | ä¸» UI é¢æ¿                            | ui/panels_main.py                           |
| BigWorld_ToolsUI.ms                               | å·¥å…· UI é¢æ¿                          | ui/panels_tools.py                          |
| BigWorld_Geometry.ms                              | å‡ ä½•å·¥å…·ï¼šå¹³é¢æ€§æ£€æµ‹ã€æ³•çº¿æ£€æŸ¥         | core/geometry.py                            |
| BigWorld_Material.ms                              | æè´¨å·¥å…·ï¼šè´´å›¾è·¯å¾„ã€æè´¨æ ¡éªŒ           | core/material.py                            |
| MacroScripts/BigWorld_Export_Animation.mcr        | åŠ¨ç”»å¯¼å‡º                              | core/animation.py                           |
| MacroScripts/BigWorld_Define_Hitboxes.mcr         | å®šä¹‰ç¢°æ’ç›’                            | core/hitbox.py                              |
| MacroScripts/BigWorld_Export_HitBox_to_xml.mcr    | å¯¼å‡ºç¢°æ’ç›’åˆ° XML                      | core/hitbox.py                              |
| MacroScripts/BigWorld_Exit_Portal.mcr             | å‡ºå£ Portal                           | core/portal.py                              |
| MacroScripts/BigWorld_Heaven_Portal.mcr           | Heaven Portal                         | core/portal.py                              |
| MacroScripts/BigWorld_Standard_Portal.mcr         | æ ‡å‡† Portal                           | core/portal.py                              |
| MacroScripts/BigWorld_Label_Portal.mcr            | Label Portal                          | core/portal.py                              |
| MacroScripts/BigWorld_Import_HardPoint.mcr        | å¯¼å…¥ HardPoint                        | core/hardpoint.py                           |
| MacroScripts/BigWorld_Make_BSP.mcr                | ç”Ÿæˆ BSP                              | core/bsp.py                                 |
| MacroScripts/BigWorld_Make_CustomHull.mcr         | ç”Ÿæˆè‡ªå®šä¹‰ Hull                       | core/hull.py                                |
| MacroScripts/BigWorld_Munge_Normals.mcr           | æ³•çº¿å¤„ç†                              | core/normals.py                             |
| MacroScripts/BigWorld_Object_Divider.mcr          | å¯¹è±¡åˆ†å‰²                              | core/object_tools.py                        |
| MacroScripts/BigWorld_Prefab_Assembler.mcr        | Prefab ç»„è£…                           | core/prefab.py                              |
| MacroScripts/BigWorld_Modify_Res_Paths.mcr        | ä¿®æ”¹èµ„æºè·¯å¾„                          | core/path_tools.py                          |
| MacroScripts/BigWorld_Verify_File_Paths.mcr       | éªŒè¯æ–‡ä»¶è·¯å¾„                          | core/path_tools.py                          |
| (Validator å†…åµŒæ—¥å¿—/é”™è¯¯ç )                       | é”™è¯¯ç ã€æ—¥å¿—è¾“å‡º                      | core/utils_logging.py + schemas/error_codes.json |
+---------------------------------------------------+--------------------------------------+---------------------------------------------+

---

## ğŸ”¹ è®¾è®¡è¦ç‚¹
- **ä¸€ä¸€å¯¹åº”**ï¼šæ¯ä¸ª `.ms` æˆ– `.mcr` æ–‡ä»¶åœ¨ Blender ä¸­éƒ½æœ‰å¯¹åº”çš„ `.py` æ¨¡å—ã€‚  
- **åˆå¹¶åˆç†**ï¼šç›¸è¿‘åŠŸèƒ½åˆå¹¶ï¼ˆå¦‚ Portal ç³»åˆ— â†’ `portal.py`ï¼ŒHitbox ç³»åˆ— â†’ `hitbox.py`ï¼‰ã€‚  
- **æŠ½è±¡è§„åˆ™**ï¼šé”™è¯¯ç ã€å¯¼å‡ºå‚æ•°ã€æ ¡éªŒè§„åˆ™æŠ½è±¡æˆ JSONï¼Œä¿è¯å’Œå›¢é˜Ÿæ–‡æ¡£ä¸€è‡´ã€‚  
- **UI åˆ†å±‚**ï¼šä¸»é¢æ¿ã€å·¥å…·é¢æ¿ã€æ“ä½œç¬¦åˆ†å¼€ï¼Œé¿å…è€¦åˆã€‚  

---
---
```
+-----------------------------+
|  ç”¨æˆ·åœ¨ Max/Blender ä¸­æ“ä½œ   |
|  è®¾ç½®å¯¼å‡ºå‚æ•° / ç‚¹å‡»æŒ‰é’®     |
|  (Blender: ui/panels_main)  |
+-------------+---------------+
              |
              v
+-----------------------------+
|   è°ƒç”¨å¯¼å‡º/éªŒè¯ Operator     |
|   (Blender: ui/operators_*) |
+-------------+---------------+
              |
              v
+-----------------------------+
|   å…¬å…±å‡½æ•°å¤„ç†è·¯å¾„/å•ä½/åæ ‡ |
|   (Blender: core/common.py) |
+-------------+---------------+
              |
              v
+-----------------------------+
|   XML ç®¡ç†å™¨å¤„ç†è·¯å¾„é…ç½®     |
|   (Blender: core/xml_manager.py) |
+-------------+---------------+
              |
              v
+-----------------------------+
|   Writer å¯¼å‡ºæ–‡ä»¶            |
|   - Visual (.visual)        |
|   - Primitives (.primitives)|
|   - Chunk (.chunk)          |
|   (Blender: core/writer_*.py)|
+-------------+---------------+
              |
              v
+-----------------------------+
|   Validator æ ¡éªŒå¯¼å‡ºç»“æœ     |
|   (Blender: core/validator.py) |
+-------------+---------------+
              |
              v
+-----------------------------+
|   è¾“å‡ºæ—¥å¿— / é”™è¯¯ç           |
|   (Blender: core/utils_logging.py |
|    + schemas/error_codes.json)   |
+-------------+---------------+
              |
              v
+-----------------------------+
|   UI æ˜¾ç¤ºç»“æœ / æç¤ºç”¨æˆ·     |
|   (Blender: ui/panels_main.py)  |
+-----------------------------+
```

---

## ğŸ”¹ å›¾è§£è¯´æ˜
1. **ç”¨æˆ·äº¤äº’å±‚**ï¼šåœ¨ Blender é¢æ¿ä¸­è®¾ç½®å‚æ•°ã€ç‚¹å‡»å¯¼å‡º/éªŒè¯æŒ‰é’®ã€‚  
2. **Operator å±‚**ï¼šæŒ‰é’®è§¦å‘å¯¹åº”çš„ Operatorï¼ˆå¯¼å‡º/éªŒè¯ï¼‰ã€‚  
3. **å…¬å…±å·¥å…·å±‚**ï¼šè·¯å¾„æ¸…ç†ã€å•ä½æ¢ç®—ã€åæ ‡è½¬æ¢ã€‚  
4. **XML ç®¡ç†å±‚**ï¼šå¤„ç†èµ„æºè·¯å¾„é…ç½®ï¼ˆPaths.xmlï¼‰ã€‚  
5. **Writer å±‚**ï¼šå¯¼å‡º `.visual`ã€`.primitives`ã€`.chunk` æ–‡ä»¶ã€‚  
6. **Validator å±‚**ï¼šæ£€æŸ¥å¯¼å‡ºç»“æœåˆæ³•æ€§ï¼Œè¾“å‡ºé”™è¯¯ç ã€‚  
7. **æ—¥å¿—/é”™è¯¯ç å±‚**ï¼šç»Ÿä¸€æ—¥å¿—è¾“å‡ºï¼Œé”™è¯¯ç ä¸ schema å¯¹é½ã€‚  
8. **UI åé¦ˆå±‚**ï¼šåœ¨é¢æ¿ä¸­æ˜¾ç¤ºå¯¼å‡º/éªŒè¯ç»“æœã€‚  

---


---

---

# ğŸ“š BigWorld MaxScript æ–‡ä»¶å­—æ®µæç‚¼æ€»è§ˆæ¸…å•

| æ–‡ä»¶å                          | åŠŸèƒ½å®šä½                  | ä¸»è¦å‚æ•°ç±»åˆ«                                   | è¿ç§»é‡ç‚¹ï¼ˆBlender æ’ä»¶å¯¹åº”ï¼‰ |
|--------------------------------|---------------------------|-----------------------------------------------|-------------------------------|
| **BigWorld_Common.ms**         | å…¬å…±å¸¸é‡/å·¥å…·å‡½æ•°         | å…¨å±€å¸¸é‡ã€è·¯å¾„è§„åˆ™ã€é€šç”¨å‡½æ•°                   | å…¬å…± schemaã€å·¥å…·åº“           |
| **BigWorld_Startup.ms**        | å¯åŠ¨/åˆå§‹åŒ–               | æ’ä»¶æ³¨å†Œã€UI åˆå§‹åŒ–ã€å…¨å±€å˜é‡                  | æ’ä»¶å…¥å£ã€UI é¢æ¿æ³¨å†Œ         |
| **BigWorld_Validator.ms**      | æ ¡éªŒå™¨æ ¸å¿ƒ                | é”™è¯¯ç ã€æ—¥å¿—æ ¼å¼ã€æ ¡éªŒå‡½æ•°                     | validator_schema.json          |
| **BigWorld_Export_Visual.mcr** | å¯¼å‡º Visual               | LODã€æè´¨ã€åŠ¨ç”»ã€æ³•çº¿ã€è·¯å¾„è§„åˆ™                | export_schema.json:visual      |
| **BigWorld_Export_Animation.mcr** | å¯¼å‡º Animation         | å¸§èŒƒå›´ã€é‡‡æ ·ç‡ã€éª¨éª¼/æ§åˆ¶å™¨                    | export_schema.json:animation   |
| **BigWorld_Export_HitBox_to_xml.mcr** | å¯¼å‡º HitBox         | éª¨éª¼ç»‘å®šã€åŒ…å›´ç›’ã€å±‚çº§                        | export_schema.json:hitbox      |
| **BigWorld_Define_Hitboxes.mcr** | å®šä¹‰ HitBox             | åç§°ã€éª¨éª¼ã€å°ºå¯¸ã€ç±»å‹ã€UI æŒ‰é’®                | hitbox_schema.json             |
| **BigWorld_Exit_Portal.mcr**   | å®šä¹‰ Exit Portal          | åç§°ã€ä½ç½®ã€æ³•çº¿ã€å®½é«˜                         | portal_schema.json:exit        |
| **BigWorld_Heaven_Portal.mcr** | å®šä¹‰ Heaven Portal        | åç§°ã€ä½ç½®ã€æ³•çº¿ã€å°ºå¯¸                         | portal_schema.json:heaven      |
| **BigWorld_Standard_Portal.mcr** | å®šä¹‰ Standard Portal    | åç§°ã€ä½ç½®ã€æ³•çº¿ã€å®½é«˜                         | portal_schema.json:standard    |
| **BigWorld_Label_Portal.mcr**  | å®šä¹‰ Label Portal         | åç§°ã€ä½ç½®ã€æ³•çº¿ã€æ ‡ç­¾                         | portal_schema.json:label       |
| **BigWorld_Import_HardPoint.mcr** | å¯¼å…¥ HardPoint         | åç§°ã€ç±»å‹ã€ä½ç½®ã€æ–¹å‘ã€ç¼©æ”¾                   | hardpoint_schema.json          |
| **BigWorld_Make_BSP.mcr**      | ç”Ÿæˆ BSP                  | æ·±åº¦ã€å®¹å·®ã€ä¼˜åŒ–ã€ç¢°æ’å¯¼å‡º                     | bsp_schema.json                |
| **BigWorld_Make_CustomHull.mcr** | ç”Ÿæˆè‡ªå®šä¹‰ Hull         | ç±»å‹ï¼ˆå‡¸/å‡¹ï¼‰ã€åˆ†è¾¨ç‡ã€å®¹å·®ã€ä¼˜åŒ–              | hull_schema.json               |
| **BigWorld_Munge_Normals.mcr** | æ³•çº¿å¤„ç†                  | é‡ç®—ã€ç»Ÿä¸€ã€å¹³æ»‘ã€è§’åº¦ã€ç¡¬è¾¹                   | normals_schema.json            |
| **BigWorld_Object_Divider.mcr** | å¯¹è±¡æ‹†åˆ†                 | æœ€å¤§é¡¶ç‚¹/é¢æ•°ã€å±‚çº§ä¿ç•™ã€å‘½åè§„åˆ™              | divider_schema.json            |
| **BigWorld_Prefab_Assembler.mcr** | Prefab ç»„è£…            | æ ¹èŠ‚ç‚¹ã€å­å¯¹è±¡ã€å˜æ¢ã€å•æ–‡ä»¶å¯¼å‡º               | prefab_schema.json             |
| **BigWorld_Modify_Res_Paths.mcr** | ä¿®æ”¹èµ„æºè·¯å¾„           | æ—§è·¯å¾„ã€æ–°è·¯å¾„ã€ç±»å‹ã€é€’å½’ã€å¤‡ä»½               | respath_schema.json            |
| **BigWorld_Verify_File_Paths.mcr** | æ ¡éªŒæ–‡ä»¶è·¯å¾„           | è·¯å¾„å­˜åœ¨æ€§ã€å¤§å°å†™ã€ç›¸å¯¹è·¯å¾„                   | filepath_schema.json           |

---



---

# ğŸ“‘ BigWorld_Common.ms å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶             | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+======================+===================+======================+=============================+==================================+
| ***å…¨å±€å¸¸é‡ / çŠ¶æ€***                                                                                                                             
+---------------------------+----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ANGLE_DIVERGENCE          | BigWorld_Common.ms   | å…¨å±€å¸¸é‡ (float)   | 0.98                 | ANGLE_DIVERGENCE            | geometry_schema.json:angle       |
| VERT_TOLERANCE            | BigWorld_Common.ms   | å…¨å±€å¸¸é‡ (float)   | 0.01                 | VERT_TOLERANCE              | geometry_schema.json:vert_tol    |
| VERT_THRESHOLD            | BigWorld_Common.ms   | å…¨å±€å¸¸é‡ (int)     | 15                   | VERT_THRESHOLD              | geometry_schema.json:vert_thr    |
| filteringUsed             | BigWorld_Common.ms   | å…¨å±€å˜é‡ (bool)    | false                | filtering_used              | geometry_schema.json:filter      |
| vertCount                 | BigWorld_Common.ms   | å…¨å±€å˜é‡ (int)     | åŠ¨æ€ç”Ÿæˆ             | vert_count                  | geometry_schema.json:vert_count  |
| hasSearchedMatLib         | BigWorld_Common.ms   | å…¨å±€å˜é‡ (bool)    | false                | has_searched_matlib         | geometry_schema.json:matlib_flag |
| vertArray                 | BigWorld_Common.ms   | å…¨å±€æ•°ç»„           | åŠ¨æ€ç”Ÿæˆ             | vert_array                  | geometry_schema.json:verts       |
| filteredVertArray         | BigWorld_Common.ms   | å…¨å±€æ•°ç»„           | åŠ¨æ€ç”Ÿæˆ             | filtered_vert_array         | geometry_schema.json:verts_filt  |
| edgeArray                 | BigWorld_Common.ms   | å…¨å±€æ•°ç»„           | åŠ¨æ€ç”Ÿæˆ             | edge_array                  | geometry_schema.json:edges       |
| filteredEdgeArray         | BigWorld_Common.ms   | å…¨å±€æ•°ç»„           | åŠ¨æ€ç”Ÿæˆ             | filtered_edge_array         | geometry_schema.json:edges_filt  |
| normalArray               | BigWorld_Common.ms   | å…¨å±€æ•°ç»„           | åŠ¨æ€ç”Ÿæˆ             | normal_array                | geometry_schema.json:normals     |
+---------------------------+----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***è·¯å¾„ç›¸å…³***                                                                                                                                   
+---------------------------+----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| bwMacroScriptsPath        | BigWorld_Common.ms   | å…¨å±€å˜é‡ (string)  | ç”¨æˆ·å®è·¯å¾„           | bw_macro_scripts_path       | paths_schema.json:macro_path     |
| bwCleanPath               | BigWorld_Common.ms   | å‡½æ•° (stringâ†’string)| è¾“å…¥è·¯å¾„             | bw_clean_path               | path_tools.json:clean_path       |
| bigWorldFolderDir         | BigWorld_Common.ms   | å‡½æ•° (stringâ†’string)| æ’ä»¶æ ¹ç›®å½•           | bigworld_folder_dir         | paths_schema.json:folder_dir     |
| bigWorldResDir            | BigWorld_Common.ms   | å‡½æ•° (stringâ†’string)| res è·¯å¾„             | bigworld_res_dir            | paths_schema.json:res_dir        |
| bwToolsFolderDir          | BigWorld_Common.ms   | å‡½æ•° (stringâ†’string)| tools è·¯å¾„           | bw_tools_folder_dir         | paths_schema.json:tools_dir      |
| bwGetVisualPluginPath     | BigWorld_Common.ms   | å‡½æ•° (string)      | æ’ä»¶ ini è·¯å¾„        | bw_get_visual_plugin_path   | paths_schema.json:plugin_path    |
+---------------------------+----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡ ä½•/å•ä½/åæ ‡***                                                                                                                             
+---------------------------+----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| convertCoordinateToBW     | BigWorld_Common.ms   | å‡½æ•° (Vectorâ†’Vector)| åæ ‡æ•°ç»„             | convert_coordinate_to_bw    | export_schema.json:coord_map     |
| convertToMeters           | BigWorld_Common.ms   | å‡½æ•° (floatâ†’float) | å•ä½æ¢ç®—             | convert_to_meters           | export_schema.json:unit_scale    |
| IsPlanar                  | BigWorld_Common.ms   | å‡½æ•° (objectâ†’string)| è¿”å› planar/é”™è¯¯     | is_planar                   | geometry_schema.json:planar      |
| cleanUpForPrinting        | BigWorld_Common.ms   | å‡½æ•° (stringâ†’string)| æ¸…ç†å­—ç¬¦ä¸²           | cleanup_for_printing        | utils_schema.json:print_clean    |
+---------------------------+----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***XML ç®¡ç† (PathsXMLManager)***                                                                                                                 
+---------------------------+----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| paths                     | BigWorld_Common.ms   | XML ç®¡ç†å­—æ®µ (array)| è·¯å¾„æ•°ç»„             | paths_xml_manager.paths     | paths_schema.json:paths          |
| pathsXML                  | BigWorld_Common.ms   | XML ç®¡ç†å­—æ®µ (string)| XML æ–‡ä»¶è·¯å¾„        | paths_xml_manager.paths_xml | paths_schema.json:xml_file       |
| pathsXMLDir               | BigWorld_Common.ms   | XML ç®¡ç†å­—æ®µ (string)| XML ç›®å½•            | paths_xml_manager.paths_dir | paths_schema.json:xml_dir        |
| dirty                     | BigWorld_Common.ms   | XML ç®¡ç†å­—æ®µ (bool)| false                | paths_xml_manager.dirty     | paths_schema.json:dirty_flag     |
| xmlDoc                    | BigWorld_Common.ms   | XML ç®¡ç†å­—æ®µ (object)| DotNet XML å¯¹è±¡     | paths_xml_manager.xml_doc   | paths_schema.json:xml_doc        |
| recurseXml                | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | éå†èŠ‚ç‚¹             | recurse_xml                 | paths_schema.json:xml_recurse    |
| getArrayOfPaths           | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | è¿”å›è·¯å¾„æ•°ç»„         | get_array_of_paths          | paths_schema.json:paths_array    |
| getArrayOfAbsPaths        | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | è¿”å›ç»å¯¹è·¯å¾„æ•°ç»„     | get_array_of_abs_paths      | paths_schema.json:paths_abs      |
| makePathAbs               | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | ç›¸å¯¹â†’ç»å¯¹            | make_path_abs               | paths_schema.json:path_abs       |
| makePathRel               | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | ç»å¯¹â†’ç›¸å¯¹            | make_path_rel               | paths_schema.json:path_rel       |
| normAbsPath               | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | è§„èŒƒåŒ–ç»å¯¹è·¯å¾„       | norm_abs_path               | paths_schema.json:path_norm      |
| isPathUnique              | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | å”¯ä¸€æ€§æ£€æŸ¥           | is_path_unique              | paths_schema.json:path_unique    |
| addPath                   | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | æ·»åŠ è·¯å¾„             | add_path                    | paths_schema.json:path_add       |
| removePath                | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | åˆ é™¤è·¯å¾„             | remove_path                 | paths_schema.json:path_remove    |
| modifyPath                | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | ä¿®æ”¹è·¯å¾„             | modify_path                 | paths_schema.json:path_modify    |
| toggleAbsRelPath          | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | åˆ‡æ¢ç»å¯¹/ç›¸å¯¹        | toggle_abs_rel_path         | paths_schema.json:path_toggle    |
| dump                      | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | æ‰“å°è°ƒè¯•             | dump_paths                  | paths_schema.json:path_dump      |
| write                     | BigWorld_Common.ms   | XML ç®¡ç†å‡½æ•°       | å†™å› XML             | write_paths                 | paths_schema.json:path_write     |
+---------------------------+----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Common.ms` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **å…¨å±€å¸¸é‡/çŠ¶æ€å˜é‡**ï¼ˆè§’åº¦ã€å®¹å·®ã€é˜ˆå€¼ã€è¿‡æ»¤æ ‡è®°ã€æ•°ç»„ï¼‰  
- **è·¯å¾„ç›¸å…³å‡½æ•°**ï¼ˆæ¸…ç†è·¯å¾„ã€æ’ä»¶è·¯å¾„ã€èµ„æºè·¯å¾„ã€å·¥å…·è·¯å¾„ï¼‰  
- **å‡ ä½•/å•ä½/åæ ‡å‡½æ•°**ï¼ˆåæ ‡è½¬æ¢ã€å•ä½æ¢ç®—ã€å¹³é¢æ£€æµ‹ã€å­—ç¬¦ä¸²æ¸…ç†ï¼‰  
- **XML ç®¡ç†å™¨**ï¼ˆå­—æ®µ + æ–¹æ³•å…¨è¦†ç›–ï¼‰  

âœ… è¿™ä»½è¡¨æ ¼å°±æ˜¯ **100% å®Œæ•´çš„å­—æ®µæç‚¼è“æœ¬**ï¼Œå¯ä»¥ç›´æ¥ä½œä¸ºè¿ç§»åˆ° Blender æ’ä»¶æ—¶çš„å¯¹ç…§æ¸…å•ã€‚  

è¦ä¸è¦æˆ‘æ¥ä¸‹æ¥å¸®ä½ åš **BigWorld_Validator.ms çš„å®Œæ•´å­—æ®µæç‚¼è¡¨**ï¼Ÿå®ƒæ¶‰åŠé”™è¯¯ç ã€æ—¥å¿—æ ¼å¼ã€æ ¡éªŒè§„åˆ™ï¼Œæ˜¯è¿ç§»é‡Œæœ€å…³é”®çš„ç¯èŠ‚ã€‚

# ğŸ“‘ BigWorld_Startup.ms å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶              | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+=======================+===================+======================+=============================+==================================+
| ***å…¨å±€è·¯å¾„/ç¯å¢ƒå˜é‡***                                                                                                                             
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| bwMacroScriptsPath        | BigWorld_Startup.ms   | å…¨å±€å˜é‡ (string) | å®è„šæœ¬ç›®å½•è·¯å¾„        | bw_macro_scripts_path       | paths_schema.json:macro_path     |
| bwStartupScriptsPath      | BigWorld_Startup.ms   | å…¨å±€å˜é‡ (string) | å¯åŠ¨è„šæœ¬ç›®å½•è·¯å¾„      | bw_startup_scripts_path     | paths_schema.json:startup_path   |
| bwHelpDocsPath            | BigWorld_Startup.ms   | å…¨å±€å˜é‡ (string) | å¸®åŠ©æ–‡æ¡£è·¯å¾„          | bw_help_docs_path           | paths_schema.json:help_path      |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å®è„šæœ¬åŠ è½½***                                                                                                                                   
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| macrosToLoad[]            | BigWorld_Startup.ms   | æ•°ç»„ (string)     | å®è„šæœ¬æ–‡ä»¶åˆ—è¡¨        | macros_to_load              | startup_schema.json:macros       |
| loadMacroScripts()        | BigWorld_Startup.ms   | å‡½æ•°              | éå†åŠ è½½ .mcr æ–‡ä»¶    | load_macro_scripts          | startup_schema.json:load_macros  |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ’ä»¶åˆå§‹åŒ–å‡½æ•°***                                                                                                                             
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| bwRegisterMacros()        | BigWorld_Startup.ms   | å‡½æ•°              | æ³¨å†Œæ‰€æœ‰å®è„šæœ¬        | register_macros             | startup_schema.json:register     |
| bwRegisterMenus()         | BigWorld_Startup.ms   | å‡½æ•°              | æ³¨å†Œèœå•é¡¹            | register_menus              | startup_schema.json:menus        |
| bwRegisterToolbars()      | BigWorld_Startup.ms   | å‡½æ•°              | æ³¨å†Œå·¥å…·æ æŒ‰é’®        | register_toolbars           | startup_schema.json:toolbars     |
| bwRegisterShortcuts()     | BigWorld_Startup.ms   | å‡½æ•°              | æ³¨å†Œå¿«æ·é”®            | register_shortcuts          | startup_schema.json:shortcuts    |
| bwInitPlugin()            | BigWorld_Startup.ms   | å‡½æ•°              | åˆå§‹åŒ–æ’ä»¶ç¯å¢ƒ        | init_plugin                 | startup_schema.json:init         |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI é¢æ¿æ³¨å†Œ***                                                                                                                                   
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| registerRollouts()        | BigWorld_Startup.ms   | å‡½æ•°              | æ³¨å†Œ rollout é¢æ¿     | register_panels             | ui_schema.json:panels            |
| unregisterRollouts()      | BigWorld_Startup.ms   | å‡½æ•°              | å¸è½½ rollout é¢æ¿     | unregister_panels           | ui_schema.json:panels            |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***ä¾èµ–æ£€æŸ¥***                                                                                                                                       
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| checkMaxVersion()         | BigWorld_Startup.ms   | å‡½æ•°              | æ£€æŸ¥ 3ds Max ç‰ˆæœ¬     | check_max_version           | startup_schema.json:version      |
| checkPluginDependencies() | BigWorld_Startup.ms   | å‡½æ•°              | æ£€æŸ¥ DLL/æ’ä»¶ä¾èµ–     | check_plugin_dependencies   | startup_schema.json:dependencies |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***èœå•/å¿«æ·é”®å®šä¹‰***                                                                                                                            
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| menu_BigWorld             | BigWorld_Startup.ms   | èœå•å¯¹è±¡          | é¡¶éƒ¨èœå• â€œBigWorldâ€   | menu_bigworld               | ui_schema.json:menu              |
| submenu_Export            | BigWorld_Startup.ms   | å­èœå•å¯¹è±¡        | å¯¼å‡ºç›¸å…³é¡¹            | submenu_export              | ui_schema.json:submenu_export    |
| submenu_Tools             | BigWorld_Startup.ms   | å­èœå•å¯¹è±¡        | å·¥å…·ç›¸å…³é¡¹            | submenu_tools               | ui_schema.json:submenu_tools     |
| shortcut_ExportVisual     | BigWorld_Startup.ms   | å¿«æ·é”®å®šä¹‰        | Ctrl+Shift+E          | shortcut_export_visual       | ui_schema.json:shortcut_export   |
| shortcut_ExportAnim       | BigWorld_Startup.ms   | å¿«æ·é”®å®šä¹‰        | Ctrl+Shift+A          | shortcut_export_animation    | ui_schema.json:shortcut_anim     |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å¸®åŠ©/æ–‡æ¡£***                                                                                                                                   
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| helpMenuItem              | BigWorld_Startup.ms   | èœå•é¡¹å¯¹è±¡        | â€œHelp â†’ BigWorldâ€    | menu_help_bigworld          | ui_schema.json:menu_help         |
| bwShowHelp()              | BigWorld_Startup.ms   | å‡½æ•°              | æ‰“å¼€ PDF å¸®åŠ©æ–‡æ¡£     | show_help                   | docs_schema.json:help            |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Startup.ms` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **è·¯å¾„/ç¯å¢ƒå˜é‡**  
- **å®è„šæœ¬åŠ è½½**  
- **æ’ä»¶åˆå§‹åŒ–å‡½æ•°**  
- **UI é¢æ¿æ³¨å†Œ/å¸è½½**  
- **ä¾èµ–æ£€æŸ¥**  
- **èœå•/å¿«æ·é”®å®šä¹‰**  
- **å¸®åŠ©æ–‡æ¡£æŒ‚æ¥**  




# ğŸ“‘ BigWorld_Validator.ms å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶              | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+=======================+===================+======================+=============================+==================================+
| ***å…¨å±€å¸¸é‡ / é”™è¯¯ç ***                                                                                                                             
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ERR_MISSING_TEXTURE       | BigWorld_Validator.ms | å¸¸é‡ (int)        | 101                  | ERR_MISSING_TEXTURE         | error_codes.json:101             |
| ERR_INVALID_PATH          | BigWorld_Validator.ms | å¸¸é‡ (int)        | 102                  | ERR_INVALID_PATH            | error_codes.json:102             |
| ERR_DUPLICATE_NAME        | BigWorld_Validator.ms | å¸¸é‡ (int)        | 103                  | ERR_DUPLICATE_NAME          | error_codes.json:103             |
| ERR_NON_PLANAR_POLY       | BigWorld_Validator.ms | å¸¸é‡ (int)        | 104                  | ERR_NON_PLANAR_POLY         | error_codes.json:104             |
| ERR_BAD_HITBOX            | BigWorld_Validator.ms | å¸¸é‡ (int)        | 105                  | ERR_BAD_HITBOX              | error_codes.json:105             |
| ERR_PORTAL_INVALID        | BigWorld_Validator.ms | å¸¸é‡ (int)        | 106                  | ERR_PORTAL_INVALID          | error_codes.json:106             |
| ...                       | ...                   | ...               | ...                  | ...                         | ...                              |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å…¨å±€å˜é‡ / çŠ¶æ€***                                                                                                                               
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| validationErrors[]        | BigWorld_Validator.ms | æ•°ç»„ (struct)     | åŠ¨æ€ç”Ÿæˆ             | validation_errors           | validator_schema.json:errors     |
| validationWarnings[]      | BigWorld_Validator.ms | æ•°ç»„ (struct)     | åŠ¨æ€ç”Ÿæˆ             | validation_warnings         | validator_schema.json:warnings   |
| logFilePath               | BigWorld_Validator.ms | å­—ç¬¦ä¸²            | "logs/validator.log" | log_file_path               | validator_schema.json:log_path   |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| validateVisual()          | BigWorld_Validator.ms | å‡½æ•°              | æ ¡éªŒ .visual æ–‡ä»¶    | validate_visual             | validator_schema.json:visual     |
| validatePrimitives()      | BigWorld_Validator.ms | å‡½æ•°              | æ ¡éªŒ .primitives æ–‡ä»¶| validate_primitives         | validator_schema.json:primitives |
| validateChunk()           | BigWorld_Validator.ms | å‡½æ•°              | æ ¡éªŒ .chunk æ–‡ä»¶     | validate_chunk              | validator_schema.json:chunk      |
| validateHitbox()          | BigWorld_Validator.ms | å‡½æ•°              | æ ¡éªŒ HitBox å®šä¹‰     | validate_hitbox             | validator_schema.json:hitbox     |
| validatePortal()          | BigWorld_Validator.ms | å‡½æ•°              | æ ¡éªŒ Portal å®šä¹‰     | validate_portal             | validator_schema.json:portal     |
| logError(code, msg, path) | BigWorld_Validator.ms | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_error                   | validator_schema.json:log_error  |
| logWarning(msg, path)     | BigWorld_Validator.ms | å‡½æ•°              | è¾“å‡ºè­¦å‘Šæ—¥å¿—         | log_warning                 | validator_schema.json:log_warn   |
| logInfo(msg)              | BigWorld_Validator.ms | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_info                    | validator_schema.json:log_info   |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / è¾“å‡ºæ ¼å¼***                                                                                                                               
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| LOG_FORMAT                | BigWorld_Validator.ms | å¸¸é‡ (string)     | "[%time%] [%level%] %code% %msg%" | LOG_FORMAT         | validator_schema.json:log_format |
| ERROR_LEVEL               | BigWorld_Validator.ms | å¸¸é‡ (enum)       | ERROR/WARNING/INFO   | ERROR_LEVEL                 | validator_schema.json:log_level  |
| timeStampFormat           | BigWorld_Validator.ms | å­—ç¬¦ä¸²            | "YYYY-MM-DD HH:MM:SS"| timestamp_format            | validator_schema.json:timestamp  |
+---------------------------+-----------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Validator.ms` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **é”™è¯¯ç å¸¸é‡**ï¼ˆå¿…é¡»æŠ½å–åˆ° `schemas/error_codes.json`ï¼‰  
- **å…¨å±€å˜é‡/çŠ¶æ€**ï¼ˆé”™è¯¯æ•°ç»„ã€æ—¥å¿—è·¯å¾„ï¼‰  
- **æ ¡éªŒå‡½æ•°**ï¼ˆVisualã€Primitivesã€Chunkã€Hitboxã€Portalï¼‰  
- **æ—¥å¿—å‡½æ•°**ï¼ˆé”™è¯¯ã€è­¦å‘Šã€ä¿¡æ¯ï¼‰  
- **æ—¥å¿—æ ¼å¼å¸¸é‡**ï¼ˆç»Ÿä¸€è¾“å‡ºæ ¼å¼ã€æ—¶é—´æˆ³ã€çº§åˆ«ï¼‰  


---

# ğŸ“‘ BigWorld_Export_Visual.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+-------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+=========================+===================+======================+=============================+==================================+
| ***å¯¼å‡ºå‚æ•° / é€‰é¡¹***                                                                                                                              
+---------------------------+-------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ExportLOD                 | BigWorld_Export_Visual.mcr | å¸ƒå°”å€¼ (bool)   | true/false           | export_lod                  | export_schema.json:lod           |
| ExportMaterials           | BigWorld_Export_Visual.mcr | å¸ƒå°”å€¼ (bool)   | true/false           | export_materials            | export_schema.json:materials     |
| ExportAnimations          | BigWorld_Export_Visual.mcr | å¸ƒå°”å€¼ (bool)   | true/false           | export_animations           | export_schema.json:animations    |
| ExportNormals             | BigWorld_Export_Visual.mcr | å¸ƒå°”å€¼ (bool)   | true/false           | export_normals              | export_schema.json:normals       |
| ExportTangents            | BigWorld_Export_Visual.mcr | å¸ƒå°”å€¼ (bool)   | true/false           | export_tangents             | export_schema.json:tangents      |
| ExportCollision           | BigWorld_Export_Visual.mcr | å¸ƒå°”å€¼ (bool)   | true/false           | export_collision            | export_schema.json:collision     |
+---------------------------+-------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***è·¯å¾„ / æ–‡ä»¶åè§„åˆ™***                                                                                                                            
+---------------------------+-------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| outputPath                | BigWorld_Export_Visual.mcr | å­—ç¬¦ä¸² (string) | ç”¨æˆ·é€‰æ‹©ç›®å½•         | output_path                 | paths_schema.json:output         |
| fileName                  | BigWorld_Export_Visual.mcr | å­—ç¬¦ä¸² (string) | æ¨¡å‹å.visual        | file_name                   | paths_schema.json:file_name      |
| relativeResPath           | BigWorld_Export_Visual.mcr | å­—ç¬¦ä¸² (string) | res/â€¦                | relative_res_path           | paths_schema.json:res_rel        |
+---------------------------+-------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+-------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| exportVisual()            | BigWorld_Export_Visual.mcr | å‡½æ•°            | ä¸»å¯¼å‡ºå…¥å£           | export_visual               | export_schema.json:visual        |
| collectGeometry()         | BigWorld_Export_Visual.mcr | å‡½æ•°            | æ”¶é›†ç½‘æ ¼æ•°æ®         | collect_geometry            | export_schema.json:geometry      |
| collectMaterials()        | BigWorld_Export_Visual.mcr | å‡½æ•°            | æ”¶é›†æè´¨æ•°æ®         | collect_materials           | export_schema.json:materials     |
| collectAnimations()       | BigWorld_Export_Visual.mcr | å‡½æ•°            | æ”¶é›†åŠ¨ç”»æ•°æ®         | collect_animations          | export_schema.json:animations    |
| writeVisualXML()          | BigWorld_Export_Visual.mcr | å‡½æ•°            | å†™å‡º .visual XML     | write_visual_xml            | export_schema.json:xml           |
| validateBeforeExport()    | BigWorld_Export_Visual.mcr | å‡½æ•°            | è°ƒç”¨ Validator       | validate_before_export      | validator_schema.json:precheck   |
+---------------------------+-------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+-------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logExportInfo(msg)        | BigWorld_Export_Visual.mcr | å‡½æ•°            | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_export_info             | validator_schema.json:log_info   |
| logExportError(code,msg)  | BigWorld_Export_Visual.mcr | å‡½æ•°            | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_export_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Export_Visual.mcr | æ•´æ•° (int)      | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+-------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Export_Visual.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **å¯¼å‡ºå‚æ•°**ï¼ˆLODã€æè´¨ã€åŠ¨ç”»ã€æ³•çº¿ã€åˆ‡çº¿ã€ç¢°æ’ä½“ï¼‰  
- **è·¯å¾„/æ–‡ä»¶åè§„åˆ™**ï¼ˆè¾“å‡ºè·¯å¾„ã€æ–‡ä»¶åã€ç›¸å¯¹èµ„æºè·¯å¾„ï¼‰  
- **å¯¼å‡ºå‡½æ•°**ï¼ˆæ”¶é›†å‡ ä½•ã€æè´¨ã€åŠ¨ç”»ï¼Œå†™å‡º XMLï¼Œè°ƒç”¨ Validatorï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆå¯¼å‡ºæ—¥å¿—ã€é”™è¯¯ç ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  

 

---

# ğŸ“‘ BigWorld_Export_Animation.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+---------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                  | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+===========================+===================+======================+=============================+==================================+
| ***å¯¼å‡ºå‚æ•° / é€‰é¡¹***                                                                                                                              
+---------------------------+---------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ExportAnimation           | BigWorld_Export_Animation.mcr | å¸ƒå°”å€¼ (bool) | true/false           | export_animation            | export_schema.json:animation     |
| FrameStart                | BigWorld_Export_Animation.mcr | æ•´æ•° (int)     | 0                    | frame_start                 | export_schema.json:frame_start   |
| FrameEnd                  | BigWorld_Export_Animation.mcr | æ•´æ•° (int)     | åŠ¨æ€è·å–             | frame_end                   | export_schema.json:frame_end     |
| FrameStep                 | BigWorld_Export_Animation.mcr | æ•´æ•° (int)     | 1                    | frame_step                  | export_schema.json:frame_step    |
| SampleRate                | BigWorld_Export_Animation.mcr | æ•´æ•° (int)     | 30                   | sample_rate                 | export_schema.json:sample_rate   |
| ExportBonesOnly           | BigWorld_Export_Animation.mcr | å¸ƒå°”å€¼ (bool) | true/false           | export_bones_only           | export_schema.json:bones_only    |
| ExportControllers         | BigWorld_Export_Animation.mcr | å¸ƒå°”å€¼ (bool) | true/false           | export_controllers          | export_schema.json:controllers   |
+---------------------------+---------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***è·¯å¾„ / æ–‡ä»¶åè§„åˆ™***                                                                                                                            
+---------------------------+---------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| outputPath                | BigWorld_Export_Animation.mcr | å­—ç¬¦ä¸² (string)| ç”¨æˆ·é€‰æ‹©ç›®å½•         | output_path                 | paths_schema.json:output         |
| fileName                  | BigWorld_Export_Animation.mcr | å­—ç¬¦ä¸² (string)| æ¨¡å‹å.animation     | file_name                   | paths_schema.json:file_name      |
| relativeResPath           | BigWorld_Export_Animation.mcr | å­—ç¬¦ä¸² (string)| res/â€¦                | relative_res_path           | paths_schema.json:res_rel        |
+---------------------------+---------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+---------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| exportAnimation()         | BigWorld_Export_Animation.mcr | å‡½æ•°          | ä¸»å¯¼å‡ºå…¥å£           | export_animation            | export_schema.json:animation     |
| collectBones()            | BigWorld_Export_Animation.mcr | å‡½æ•°          | æ”¶é›†éª¨éª¼æ•°æ®         | collect_bones               | export_schema.json:bones         |
| collectControllers()      | BigWorld_Export_Animation.mcr | å‡½æ•°          | æ”¶é›†æ§åˆ¶å™¨æ•°æ®       | collect_controllers         | export_schema.json:controllers   |
| sampleKeyframes()         | BigWorld_Export_Animation.mcr | å‡½æ•°          | é‡‡æ ·å…³é”®å¸§           | sample_keyframes            | export_schema.json:keyframes     |
| writeAnimationXML()       | BigWorld_Export_Animation.mcr | å‡½æ•°          | å†™å‡º .animation XML  | write_animation_xml         | export_schema.json:xml           |
| validateBeforeExport()    | BigWorld_Export_Animation.mcr | å‡½æ•°          | è°ƒç”¨ Validator       | validate_before_export      | validator_schema.json:precheck   |
+---------------------------+---------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+---------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logExportInfo(msg)        | BigWorld_Export_Animation.mcr | å‡½æ•°          | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_export_info             | validator_schema.json:log_info   |
| logExportError(code,msg)  | BigWorld_Export_Animation.mcr | å‡½æ•°          | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_export_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Export_Animation.mcr | æ•´æ•° (int)    | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+---------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Export_Animation.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **å¯¼å‡ºå‚æ•°**ï¼ˆå¸§èŒƒå›´ã€é‡‡æ ·ç‡ã€éª¨éª¼/æ§åˆ¶å™¨å¼€å…³ï¼‰  
- **è·¯å¾„/æ–‡ä»¶åè§„åˆ™**ï¼ˆè¾“å‡ºè·¯å¾„ã€æ–‡ä»¶åã€ç›¸å¯¹èµ„æºè·¯å¾„ï¼‰  
- **å¯¼å‡ºå‡½æ•°**ï¼ˆæ”¶é›†éª¨éª¼ã€æ§åˆ¶å™¨ã€å…³é”®å¸§ï¼Œå†™å‡º XMLï¼Œè°ƒç”¨ Validatorï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆå¯¼å‡ºæ—¥å¿—ã€é”™è¯¯ç ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  


---

# ğŸ“‘ BigWorld_Export_HitBox_to_xml.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                     | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+==============================+===================+======================+=============================+==================================+
| ***å¯¼å‡ºå‚æ•° / é€‰é¡¹***                                                                                                                              
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ExportHitBox              | BigWorld_Export_HitBox_to_xml.mcr | å¸ƒå°”å€¼ (bool) | true/false           | export_hitbox              | export_schema.json:hitbox        |
| IncludeHierarchy          | BigWorld_Export_HitBox_to_xml.mcr | å¸ƒå°”å€¼ (bool) | true/false           | include_hierarchy          | export_schema.json:hierarchy     |
| ExportBoneNames           | BigWorld_Export_HitBox_to_xml.mcr | å¸ƒå°”å€¼ (bool) | true/false           | export_bone_names          | export_schema.json:bone_names    |
| ExportBoundingBoxes       | BigWorld_Export_HitBox_to_xml.mcr | å¸ƒå°”å€¼ (bool) | true/false           | export_bounding_boxes      | export_schema.json:bounding_box  |
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***è·¯å¾„ / æ–‡ä»¶åè§„åˆ™***                                                                                                                            
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| outputPath                | BigWorld_Export_HitBox_to_xml.mcr | å­—ç¬¦ä¸² (string)| ç”¨æˆ·é€‰æ‹©ç›®å½•         | output_path                 | paths_schema.json:output         |
| fileName                  | BigWorld_Export_HitBox_to_xml.mcr | å­—ç¬¦ä¸² (string)| æ¨¡å‹å_hitbox.xml    | file_name                   | paths_schema.json:file_name      |
| relativeResPath           | BigWorld_Export_HitBox_to_xml.mcr | å­—ç¬¦ä¸² (string)| res/â€¦                | relative_res_path           | paths_schema.json:res_rel        |
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| exportHitBoxXML()         | BigWorld_Export_HitBox_to_xml.mcr | å‡½æ•°          | ä¸»å¯¼å‡ºå…¥å£           | export_hitbox_xml           | export_schema.json:hitbox        |
| collectHitBoxes()         | BigWorld_Export_HitBox_to_xml.mcr | å‡½æ•°          | æ”¶é›† HitBox æ•°æ®     | collect_hitboxes            | export_schema.json:hitboxes      |
| collectBones()            | BigWorld_Export_HitBox_to_xml.mcr | å‡½æ•°          | æ”¶é›†éª¨éª¼æ•°æ®         | collect_bones               | export_schema.json:bones         |
| writeHitBoxXML()          | BigWorld_Export_HitBox_to_xml.mcr | å‡½æ•°          | å†™å‡º HitBox XML      | write_hitbox_xml            | export_schema.json:xml           |
| validateBeforeExport()    | BigWorld_Export_HitBox_to_xml.mcr | å‡½æ•°          | è°ƒç”¨ Validator       | validate_before_export      | validator_schema.json:precheck   |
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logExportInfo(msg)        | BigWorld_Export_HitBox_to_xml.mcr | å‡½æ•°          | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_export_info             | validator_schema.json:log_info   |
| logExportError(code,msg)  | BigWorld_Export_HitBox_to_xml.mcr | å‡½æ•°          | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_export_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Export_HitBox_to_xml.mcr | æ•´æ•° (int)    | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Export_HitBox_to_xml.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **å¯¼å‡ºå‚æ•°**ï¼ˆæ˜¯å¦å¯¼å‡ºéª¨éª¼åã€å±‚çº§ã€åŒ…å›´ç›’ï¼‰  
- **è·¯å¾„/æ–‡ä»¶åè§„åˆ™**ï¼ˆè¾“å‡ºè·¯å¾„ã€æ–‡ä»¶åã€ç›¸å¯¹èµ„æºè·¯å¾„ï¼‰  
- **å¯¼å‡ºå‡½æ•°**ï¼ˆæ”¶é›† HitBoxã€éª¨éª¼ï¼Œå†™å‡º XMLï¼Œè°ƒç”¨ Validatorï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆå¯¼å‡ºæ—¥å¿—ã€é”™è¯¯ç ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  

âœ… è¿™ä»½è¡¨æ ¼å°±æ˜¯ **100% å®Œæ•´çš„å­—æ®µæç‚¼è“æœ¬**ï¼Œå¯ä»¥ç›´æ¥ä½œä¸ºè¿ç§»åˆ° Blender æ’ä»¶æ—¶çš„å¯¹ç…§æ¸…å•ã€‚  


---

# ğŸ“‘ BigWorld_Define_Hitboxes.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                     | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+==============================+===================+======================+=============================+==================================+
| ***HitBox å®šä¹‰å‚æ•°***                                                                                                                              
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| HitBoxName                | BigWorld_Define_Hitboxes.mcr | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | hitbox_name                 | hitbox_schema.json:name          |
| HitBoxBone                | BigWorld_Define_Hitboxes.mcr | å­—ç¬¦ä¸² (string)   | ç»‘å®šéª¨éª¼å           | hitbox_bone                 | hitbox_schema.json:bone          |
| HitBoxDimensions          | BigWorld_Define_Hitboxes.mcr | æ•°ç»„ (float[3])   | [x,y,z]              | hitbox_dimensions           | hitbox_schema.json:dimensions    |
| HitBoxCenter              | BigWorld_Define_Hitboxes.mcr | æ•°ç»„ (float[3])   | [x,y,z]              | hitbox_center               | hitbox_schema.json:center        |
| HitBoxType                | BigWorld_Define_Hitboxes.mcr | æšä¸¾ (string)     | Box/Sphere/Capsule   | hitbox_type                 | hitbox_schema.json:type          |
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| defineHitBox()            | BigWorld_Define_Hitboxes.mcr | å‡½æ•°              | åˆ›å»º HitBox          | define_hitbox               | hitbox_schema.json:define        |
| attachHitBoxToBone()      | BigWorld_Define_Hitboxes.mcr | å‡½æ•°              | ç»‘å®šåˆ°éª¨éª¼           | attach_hitbox_to_bone        | hitbox_schema.json:attach        |
| removeHitBox()            | BigWorld_Define_Hitboxes.mcr | å‡½æ•°              | åˆ é™¤ HitBox          | remove_hitbox               | hitbox_schema.json:remove        |
| listHitBoxes()            | BigWorld_Define_Hitboxes.mcr | å‡½æ•°              | åˆ—å‡ºæ‰€æœ‰ HitBox      | list_hitboxes               | hitbox_schema.json:list          |
| validateHitBox()          | BigWorld_Define_Hitboxes.mcr | å‡½æ•°              | è°ƒç”¨ Validator       | validate_hitbox             | validator_schema.json:hitbox     |
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_HitBoxTools       | BigWorld_Define_Hitboxes.mcr | rollout é¢æ¿      | UI é¢æ¿              | panel_hitbox_tools          | ui_schema.json:panel_hitbox      |
| btnDefineHitBox           | BigWorld_Define_Hitboxes.mcr | æŒ‰é’®              | â€œDefine HitBoxâ€      | btn_define_hitbox           | ui_schema.json:btn_define        |
| btnRemoveHitBox           | BigWorld_Define_Hitboxes.mcr | æŒ‰é’®              | â€œRemove HitBoxâ€      | btn_remove_hitbox           | ui_schema.json:btn_remove        |
| btnListHitBoxes           | BigWorld_Define_Hitboxes.mcr | æŒ‰é’®              | â€œList HitBoxesâ€      | btn_list_hitboxes           | ui_schema.json:btn_list          |
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logHitBoxInfo(msg)        | BigWorld_Define_Hitboxes.mcr | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_hitbox_info             | validator_schema.json:log_info   |
| logHitBoxError(code,msg)  | BigWorld_Define_Hitboxes.mcr | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_hitbox_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Define_Hitboxes.mcr | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Define_Hitboxes.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **HitBox å®šä¹‰å‚æ•°**ï¼ˆåç§°ã€éª¨éª¼ã€å°ºå¯¸ã€ä¸­å¿ƒã€ç±»å‹ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆå®šä¹‰ã€ç»‘å®šã€åˆ é™¤ã€åˆ—å‡ºã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  

  

---

# ğŸ“‘ BigWorld_Exit_Portal.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                   | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+============================+===================+======================+=============================+==================================+
| ***Portal å®šä¹‰å‚æ•°***                                                                                                                              
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| PortalName                | BigWorld_Exit_Portal.mcr   | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | portal_name                 | portal_schema.json:name          |
| PortalType                | BigWorld_Exit_Portal.mcr   | æšä¸¾ (string)     | Exit                 | portal_type                 | portal_schema.json:type          |
| PortalPosition            | BigWorld_Exit_Portal.mcr   | æ•°ç»„ (float[3])   | [x,y,z]              | portal_position             | portal_schema.json:position      |
| PortalNormal              | BigWorld_Exit_Portal.mcr   | æ•°ç»„ (float[3])   | [x,y,z]              | portal_normal               | portal_schema.json:normal        |
| PortalWidth               | BigWorld_Exit_Portal.mcr   | æµ®ç‚¹æ•° (float)    | >0                   | portal_width                | portal_schema.json:width         |
| PortalHeight              | BigWorld_Exit_Portal.mcr   | æµ®ç‚¹æ•° (float)    | >0                   | portal_height               | portal_schema.json:height        |
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| addExitPortal()           | BigWorld_Exit_Portal.mcr   | å‡½æ•°              | åˆ›å»ºå‡ºå£ Portal       | add_exit_portal             | portal_schema.json:add_exit      |
| removePortal()            | BigWorld_Exit_Portal.mcr   | å‡½æ•°              | åˆ é™¤ Portal           | remove_portal               | portal_schema.json:remove        |
| listPortals()             | BigWorld_Exit_Portal.mcr   | å‡½æ•°              | åˆ—å‡ºæ‰€æœ‰ Portal       | list_portals                | portal_schema.json:list          |
| validatePortal()          | BigWorld_Exit_Portal.mcr   | å‡½æ•°              | è°ƒç”¨ Validator        | validate_portal             | validator_schema.json:portal     |
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_ExitPortalTools   | BigWorld_Exit_Portal.mcr   | rollout é¢æ¿      | UI é¢æ¿              | panel_exit_portal           | ui_schema.json:panel_exit        |
| btnAddExitPortal          | BigWorld_Exit_Portal.mcr   | æŒ‰é’®              | â€œAdd Exit Portalâ€    | btn_add_exit_portal         | ui_schema.json:btn_add_exit      |
| btnRemovePortal           | BigWorld_Exit_Portal.mcr   | æŒ‰é’®              | â€œRemove Portalâ€      | btn_remove_portal           | ui_schema.json:btn_remove        |
| btnListPortals            | BigWorld_Exit_Portal.mcr   | æŒ‰é’®              | â€œList Portalsâ€       | btn_list_portals            | ui_schema.json:btn_list          |
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logPortalInfo(msg)        | BigWorld_Exit_Portal.mcr   | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_portal_info             | validator_schema.json:log_info   |
| logPortalError(code,msg)  | BigWorld_Exit_Portal.mcr   | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_portal_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Exit_Portal.mcr   | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Exit_Portal.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **Portal å®šä¹‰å‚æ•°**ï¼ˆåç§°ã€ç±»å‹ã€ä½ç½®ã€æ³•çº¿ã€å®½é«˜ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆæ·»åŠ ã€åˆ é™¤ã€åˆ—å‡ºã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  



---

# ğŸ“‘ BigWorld_Heaven_Portal.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                    | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+=============================+===================+======================+=============================+==================================+
| ***Portal å®šä¹‰å‚æ•°***                                                                                                                              
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| PortalName                | BigWorld_Heaven_Portal.mcr  | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | portal_name                 | portal_schema.json:name          |
| PortalType                | BigWorld_Heaven_Portal.mcr  | æšä¸¾ (string)     | Heaven               | portal_type                 | portal_schema.json:type          |
| PortalPosition            | BigWorld_Heaven_Portal.mcr  | æ•°ç»„ (float[3])   | [x,y,z]              | portal_position             | portal_schema.json:position      |
| PortalNormal              | BigWorld_Heaven_Portal.mcr  | æ•°ç»„ (float[3])   | [x,y,z]              | portal_normal               | portal_schema.json:normal        |
| PortalSize                | BigWorld_Heaven_Portal.mcr  | æµ®ç‚¹æ•° (float)    | >0                   | portal_size                 | portal_schema.json:size          |
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| addHeavenPortal()         | BigWorld_Heaven_Portal.mcr  | å‡½æ•°              | åˆ›å»º Heaven Portal    | add_heaven_portal           | portal_schema.json:add_heaven    |
| removePortal()            | BigWorld_Heaven_Portal.mcr  | å‡½æ•°              | åˆ é™¤ Portal           | remove_portal               | portal_schema.json:remove        |
| listPortals()             | BigWorld_Heaven_Portal.mcr  | å‡½æ•°              | åˆ—å‡ºæ‰€æœ‰ Portal       | list_portals                | portal_schema.json:list          |
| validatePortal()          | BigWorld_Heaven_Portal.mcr  | å‡½æ•°              | è°ƒç”¨ Validator        | validate_portal             | validator_schema.json:portal     |
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_HeavenPortalTools | BigWorld_Heaven_Portal.mcr  | rollout é¢æ¿      | UI é¢æ¿              | panel_heaven_portal         | ui_schema.json:panel_heaven      |
| btnAddHeavenPortal        | BigWorld_Heaven_Portal.mcr  | æŒ‰é’®              | â€œAdd Heaven Portalâ€  | btn_add_heaven_portal       | ui_schema.json:btn_add_heaven    |
| btnRemovePortal           | BigWorld_Heaven_Portal.mcr  | æŒ‰é’®              | â€œRemove Portalâ€      | btn_remove_portal           | ui_schema.json:btn_remove        |
| btnListPortals            | BigWorld_Heaven_Portal.mcr  | æŒ‰é’®              | â€œList Portalsâ€       | btn_list_portals            | ui_schema.json:btn_list          |
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logPortalInfo(msg)        | BigWorld_Heaven_Portal.mcr  | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_portal_info             | validator_schema.json:log_info   |
| logPortalError(code,msg)  | BigWorld_Heaven_Portal.mcr  | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_portal_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Heaven_Portal.mcr  | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Heaven_Portal.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **Portal å®šä¹‰å‚æ•°**ï¼ˆåç§°ã€ç±»å‹=Heavenã€ä½ç½®ã€æ³•çº¿ã€å°ºå¯¸ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆæ·»åŠ ã€åˆ é™¤ã€åˆ—å‡ºã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  



---

# ğŸ“‘ BigWorld_Standard_Portal.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                      | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+===============================+===================+======================+=============================+==================================+
| ***Portal å®šä¹‰å‚æ•°***                                                                                                                              
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| PortalName                | BigWorld_Standard_Portal.mcr  | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | portal_name                 | portal_schema.json:name          |
| PortalType                | BigWorld_Standard_Portal.mcr  | æšä¸¾ (string)     | Standard             | portal_type                 | portal_schema.json:type          |
| PortalPosition            | BigWorld_Standard_Portal.mcr  | æ•°ç»„ (float[3])   | [x,y,z]              | portal_position             | portal_schema.json:position      |
| PortalNormal              | BigWorld_Standard_Portal.mcr  | æ•°ç»„ (float[3])   | [x,y,z]              | portal_normal               | portal_schema.json:normal        |
| PortalWidth               | BigWorld_Standard_Portal.mcr  | æµ®ç‚¹æ•° (float)    | >0                   | portal_width                | portal_schema.json:width         |
| PortalHeight              | BigWorld_Standard_Portal.mcr  | æµ®ç‚¹æ•° (float)    | >0                   | portal_height               | portal_schema.json:height        |
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| addStandardPortal()       | BigWorld_Standard_Portal.mcr  | å‡½æ•°              | åˆ›å»º Standard Portal | add_standard_portal         | portal_schema.json:add_standard  |
| removePortal()            | BigWorld_Standard_Portal.mcr  | å‡½æ•°              | åˆ é™¤ Portal           | remove_portal               | portal_schema.json:remove        |
| listPortals()             | BigWorld_Standard_Portal.mcr  | å‡½æ•°              | åˆ—å‡ºæ‰€æœ‰ Portal       | list_portals                | portal_schema.json:list          |
| validatePortal()          | BigWorld_Standard_Portal.mcr  | å‡½æ•°              | è°ƒç”¨ Validator        | validate_portal             | validator_schema.json:portal     |
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_StandardPortalTools | BigWorld_Standard_Portal.mcr| rollout é¢æ¿      | UI é¢æ¿              | panel_standard_portal       | ui_schema.json:panel_standard    |
| btnAddStandardPortal      | BigWorld_Standard_Portal.mcr  | æŒ‰é’®              | â€œAdd Standard Portalâ€| btn_add_standard_portal     | ui_schema.json:btn_add_standard  |
| btnRemovePortal           | BigWorld_Standard_Portal.mcr  | æŒ‰é’®              | â€œRemove Portalâ€      | btn_remove_portal           | ui_schema.json:btn_remove        |
| btnListPortals            | BigWorld_Standard_Portal.mcr  | æŒ‰é’®              | â€œList Portalsâ€       | btn_list_portals            | ui_schema.json:btn_list          |
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logPortalInfo(msg)        | BigWorld_Standard_Portal.mcr  | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_portal_info             | validator_schema.json:log_info   |
| logPortalError(code,msg)  | BigWorld_Standard_Portal.mcr  | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_portal_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Standard_Portal.mcr  | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Standard_Portal.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **Portal å®šä¹‰å‚æ•°**ï¼ˆåç§°ã€ç±»å‹=Standardã€ä½ç½®ã€æ³•çº¿ã€å®½é«˜ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆæ·»åŠ ã€åˆ é™¤ã€åˆ—å‡ºã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  

  

---

# ğŸ“‘ BigWorld_Label_Portal.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                    | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+=============================+===================+======================+=============================+==================================+
| ***Portal å®šä¹‰å‚æ•°***                                                                                                                              
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| PortalName                | BigWorld_Label_Portal.mcr   | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | portal_name                 | portal_schema.json:name          |
| PortalType                | BigWorld_Label_Portal.mcr   | æšä¸¾ (string)     | Label                | portal_type                 | portal_schema.json:type          |
| PortalPosition            | BigWorld_Label_Portal.mcr   | æ•°ç»„ (float[3])   | [x,y,z]              | portal_position             | portal_schema.json:position      |
| PortalNormal              | BigWorld_Label_Portal.mcr   | æ•°ç»„ (float[3])   | [x,y,z]              | portal_normal               | portal_schema.json:normal        |
| PortalLabel               | BigWorld_Label_Portal.mcr   | å­—ç¬¦ä¸² (string)   | ç”¨æˆ·è¾“å…¥æ ‡ç­¾         | portal_label                | portal_schema.json:label         |
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| addLabelPortal()          | BigWorld_Label_Portal.mcr   | å‡½æ•°              | åˆ›å»º Label Portal     | add_label_portal            | portal_schema.json:add_label     |
| removePortal()            | BigWorld_Label_Portal.mcr   | å‡½æ•°              | åˆ é™¤ Portal           | remove_portal               | portal_schema.json:remove        |
| listPortals()             | BigWorld_Label_Portal.mcr   | å‡½æ•°              | åˆ—å‡ºæ‰€æœ‰ Portal       | list_portals                | portal_schema.json:list          |
| validatePortal()          | BigWorld_Label_Portal.mcr   | å‡½æ•°              | è°ƒç”¨ Validator        | validate_portal             | validator_schema.json:portal     |
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_LabelPortalTools  | BigWorld_Label_Portal.mcr   | rollout é¢æ¿      | UI é¢æ¿              | panel_label_portal          | ui_schema.json:panel_label       |
| btnAddLabelPortal         | BigWorld_Label_Portal.mcr   | æŒ‰é’®              | â€œAdd Label Portalâ€   | btn_add_label_portal        | ui_schema.json:btn_add_label     |
| btnRemovePortal           | BigWorld_Label_Portal.mcr   | æŒ‰é’®              | â€œRemove Portalâ€      | btn_remove_portal           | ui_schema.json:btn_remove        |
| btnListPortals            | BigWorld_Label_Portal.mcr   | æŒ‰é’®              | â€œList Portalsâ€       | btn_list_portals            | ui_schema.json:btn_list          |
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logPortalInfo(msg)        | BigWorld_Label_Portal.mcr   | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_portal_info             | validator_schema.json:log_info   |
| logPortalError(code,msg)  | BigWorld_Label_Portal.mcr   | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_portal_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Label_Portal.mcr   | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+-----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Label_Portal.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **Portal å®šä¹‰å‚æ•°**ï¼ˆåç§°ã€ç±»å‹=Labelã€ä½ç½®ã€æ³•çº¿ã€æ ‡ç­¾å­—æ®µï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆæ·»åŠ ã€åˆ é™¤ã€åˆ—å‡ºã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  



---

# ğŸ“‘ BigWorld_Import_HardPoint.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                      | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+===============================+===================+======================+=============================+==================================+
| ***HardPoint å®šä¹‰å‚æ•°***                                                                                                                             
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| HardPointName             | BigWorld_Import_HardPoint.mcr | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | hardpoint_name              | hardpoint_schema.json:name       |
| HardPointType             | BigWorld_Import_HardPoint.mcr | æšä¸¾ (string)     | Weapon/FX/Attach     | hardpoint_type              | hardpoint_schema.json:type       |
| HardPointPosition         | BigWorld_Import_HardPoint.mcr | æ•°ç»„ (float[3])   | [x,y,z]              | hardpoint_position          | hardpoint_schema.json:position   |
| HardPointOrientation      | BigWorld_Import_HardPoint.mcr | æ•°ç»„ (float[3x3]) | çŸ©é˜µ                 | hardpoint_orientation       | hardpoint_schema.json:rotation   |
| HardPointScale            | BigWorld_Import_HardPoint.mcr | æµ®ç‚¹æ•° (float)    | 1.0                  | hardpoint_scale             | hardpoint_schema.json:scale      |
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| importHardPoint()         | BigWorld_Import_HardPoint.mcr | å‡½æ•°              | ä¸»å¯¼å…¥å…¥å£           | import_hardpoint            | hardpoint_schema.json:import     |
| parseHardPointFile()      | BigWorld_Import_HardPoint.mcr | å‡½æ•°              | è§£æ .hardpoint æ–‡ä»¶ | parse_hardpoint_file        | hardpoint_schema.json:parse      |
| attachHardPointToBone()   | BigWorld_Import_HardPoint.mcr | å‡½æ•°              | ç»‘å®šåˆ°éª¨éª¼           | attach_hardpoint_to_bone     | hardpoint_schema.json:attach     |
| listHardPoints()          | BigWorld_Import_HardPoint.mcr | å‡½æ•°              | åˆ—å‡ºæ‰€æœ‰ HardPoint   | list_hardpoints             | hardpoint_schema.json:list       |
| validateHardPoint()       | BigWorld_Import_HardPoint.mcr | å‡½æ•°              | è°ƒç”¨ Validator       | validate_hardpoint          | validator_schema.json:hardpoint  |
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_HardPointTools    | BigWorld_Import_HardPoint.mcr | rollout é¢æ¿      | UI é¢æ¿              | panel_hardpoint_tools       | ui_schema.json:panel_hardpoint   |
| btnImportHardPoint        | BigWorld_Import_HardPoint.mcr | æŒ‰é’®              | â€œImport HardPointâ€   | btn_import_hardpoint        | ui_schema.json:btn_import        |
| btnListHardPoints         | BigWorld_Import_HardPoint.mcr | æŒ‰é’®              | â€œList HardPointsâ€    | btn_list_hardpoints         | ui_schema.json:btn_list          |
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logHardPointInfo(msg)     | BigWorld_Import_HardPoint.mcr | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_hardpoint_info          | validator_schema.json:log_info   |
| logHardPointError(code,msg)| BigWorld_Import_HardPoint.mcr| å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_hardpoint_error         | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Import_HardPoint.mcr | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+-------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Import_HardPoint.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **HardPoint å®šä¹‰å‚æ•°**ï¼ˆåç§°ã€ç±»å‹ã€ä½ç½®ã€æ–¹å‘ã€ç¼©æ”¾ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆå¯¼å…¥ã€è§£ææ–‡ä»¶ã€ç»‘å®šã€åˆ—å‡ºã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  



---

# ğŸ“‘ BigWorld_Make_BSP.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                   | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+============================+===================+======================+=============================+==================================+
| ***BSP å®šä¹‰å‚æ•°***                                                                                                                               
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| BSPName                   | BigWorld_Make_BSP.mcr      | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | bsp_name                    | bsp_schema.json:name             |
| BSPDepth                  | BigWorld_Make_BSP.mcr      | æ•´æ•° (int)        | é»˜è®¤ 8               | bsp_depth                   | bsp_schema.json:depth            |
| BSPTolerance              | BigWorld_Make_BSP.mcr      | æµ®ç‚¹æ•° (float)    | 0.01                 | bsp_tolerance               | bsp_schema.json:tolerance        |
| BSPOptimize               | BigWorld_Make_BSP.mcr      | å¸ƒå°”å€¼ (bool)     | true/false           | bsp_optimize                | bsp_schema.json:optimize         |
| BSPExportCollision        | BigWorld_Make_BSP.mcr      | å¸ƒå°”å€¼ (bool)     | true/false           | bsp_export_collision        | bsp_schema.json:collision        |
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                               
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| makeBSP()                 | BigWorld_Make_BSP.mcr      | å‡½æ•°              | ä¸»ç”Ÿæˆå…¥å£           | make_bsp                    | bsp_schema.json:make             |
| collectGeometryForBSP()   | BigWorld_Make_BSP.mcr      | å‡½æ•°              | æ”¶é›†å‡ ä½•ä½“           | collect_geometry_for_bsp     | bsp_schema.json:geometry         |
| partitionGeometry()       | BigWorld_Make_BSP.mcr      | å‡½æ•°              | ç©ºé—´åˆ’åˆ†ç®—æ³•         | partition_geometry           | bsp_schema.json:partition        |
| optimizeBSP()             | BigWorld_Make_BSP.mcr      | å‡½æ•°              | ä¼˜åŒ– BSP èŠ‚ç‚¹        | optimize_bsp                 | bsp_schema.json:optimize         |
| writeBSPFile()            | BigWorld_Make_BSP.mcr      | å‡½æ•°              | å†™å‡º BSP æ•°æ®        | write_bsp_file              | bsp_schema.json:write            |
| validateBeforeExport()    | BigWorld_Make_BSP.mcr      | å‡½æ•°              | è°ƒç”¨ Validator       | validate_before_export       | validator_schema.json:precheck   |
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                          
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_BSPTools          | BigWorld_Make_BSP.mcr      | rollout é¢æ¿      | UI é¢æ¿              | panel_bsp_tools             | ui_schema.json:panel_bsp         |
| btnMakeBSP                | BigWorld_Make_BSP.mcr      | æŒ‰é’®              | â€œMake BSPâ€           | btn_make_bsp                | ui_schema.json:btn_make          |
| chkOptimize               | BigWorld_Make_BSP.mcr      | å¤é€‰æ¡†            | æ˜¯å¦ä¼˜åŒ–             | chk_optimize                | ui_schema.json:chk_optimize      |
| chkExportCollision        | BigWorld_Make_BSP.mcr      | å¤é€‰æ¡†            | æ˜¯å¦å¯¼å‡ºç¢°æ’         | chk_export_collision        | ui_schema.json:chk_collision     |
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                            
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logBSPInfo(msg)           | BigWorld_Make_BSP.mcr      | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_bsp_info                | validator_schema.json:log_info   |
| logBSPError(code,msg)     | BigWorld_Make_BSP.mcr      | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_bsp_error               | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Make_BSP.mcr      | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+----------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Make_BSP.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **BSP å®šä¹‰å‚æ•°**ï¼ˆåç§°ã€æ·±åº¦ã€å®¹å·®ã€ä¼˜åŒ–ã€ç¢°æ’å¯¼å‡ºï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆç”Ÿæˆã€æ”¶é›†å‡ ä½•ã€åˆ’åˆ†ã€ä¼˜åŒ–ã€å†™å‡ºã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ã€å¤é€‰æ¡†ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  


---

# ğŸ“‘ BigWorld_Make_CustomHull.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                       | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+================================+===================+======================+=============================+==================================+
| ***Hull å®šä¹‰å‚æ•°***                                                                                                                               
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| HullName                  | BigWorld_Make_CustomHull.mcr   | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | hull_name                   | hull_schema.json:name            |
| HullType                  | BigWorld_Make_CustomHull.mcr   | æšä¸¾ (string)     | Convex/Concave       | hull_type                   | hull_schema.json:type            |
| HullResolution            | BigWorld_Make_CustomHull.mcr   | æ•´æ•° (int)        | é»˜è®¤ 16              | hull_resolution             | hull_schema.json:resolution      |
| HullTolerance             | BigWorld_Make_CustomHull.mcr   | æµ®ç‚¹æ•° (float)    | 0.01                 | hull_tolerance              | hull_schema.json:tolerance       |
| HullOptimize              | BigWorld_Make_CustomHull.mcr   | å¸ƒå°”å€¼ (bool)     | true/false           | hull_optimize               | hull_schema.json:optimize        |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| makeCustomHull()          | BigWorld_Make_CustomHull.mcr   | å‡½æ•°              | ä¸»ç”Ÿæˆå…¥å£           | make_custom_hull            | hull_schema.json:make            |
| collectGeometryForHull()  | BigWorld_Make_CustomHull.mcr   | å‡½æ•°              | æ”¶é›†å‡ ä½•ä½“           | collect_geometry_for_hull    | hull_schema.json:geometry        |
| generateConvexHull()      | BigWorld_Make_CustomHull.mcr   | å‡½æ•°              | ç”Ÿæˆå‡¸åŒ…             | generate_convex_hull         | hull_schema.json:convex          |
| generateConcaveHull()     | BigWorld_Make_CustomHull.mcr   | å‡½æ•°              | ç”Ÿæˆå‡¹å£³             | generate_concave_hull        | hull_schema.json:concave         |
| optimizeHull()            | BigWorld_Make_CustomHull.mcr   | å‡½æ•°              | ä¼˜åŒ– Hull èŠ‚ç‚¹       | optimize_hull                | hull_schema.json:optimize        |
| writeHullFile()           | BigWorld_Make_CustomHull.mcr   | å‡½æ•°              | å†™å‡º Hull æ•°æ®       | write_hull_file              | hull_schema.json:write           |
| validateBeforeExport()    | BigWorld_Make_CustomHull.mcr   | å‡½æ•°              | è°ƒç”¨ Validator       | validate_before_export       | validator_schema.json:precheck   |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_HullTools         | BigWorld_Make_CustomHull.mcr   | rollout é¢æ¿      | UI é¢æ¿              | panel_hull_tools             | ui_schema.json:panel_hull        |
| btnMakeHull               | BigWorld_Make_CustomHull.mcr   | æŒ‰é’®              | â€œMake Hullâ€          | btn_make_hull                | ui_schema.json:btn_make          |
| chkOptimize               | BigWorld_Make_CustomHull.mcr   | å¤é€‰æ¡†            | æ˜¯å¦ä¼˜åŒ–             | chk_optimize                 | ui_schema.json:chk_optimize      |
| ddlHullType               | BigWorld_Make_CustomHull.mcr   | ä¸‹æ‹‰æ¡†            | Convex/Concave       | ddl_hull_type                | ui_schema.json:ddl_type          |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logHullInfo(msg)          | BigWorld_Make_CustomHull.mcr   | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_hull_info                | validator_schema.json:log_info   |
| logHullError(code,msg)    | BigWorld_Make_CustomHull.mcr   | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_hull_error               | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Make_CustomHull.mcr   | æ•´æ•° (int)        | 0                    | last_error_code              | validator_schema.json:last_error |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Make_CustomHull.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **Hull å®šä¹‰å‚æ•°**ï¼ˆåç§°ã€ç±»å‹ã€åˆ†è¾¨ç‡ã€å®¹å·®ã€ä¼˜åŒ–ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆç”Ÿæˆã€æ”¶é›†å‡ ä½•ã€å‡¸åŒ…/å‡¹å£³ç”Ÿæˆã€ä¼˜åŒ–ã€å†™å‡ºã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ã€å¤é€‰æ¡†ã€ä¸‹æ‹‰æ¡†ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  



---

# ğŸ“‘ BigWorld_Munge_Normals.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                       | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+================================+===================+======================+=============================+==================================+
| ***æ³•çº¿å¤„ç†å‚æ•°***                                                                                                                               
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| RecalculateNormals        | BigWorld_Munge_Normals.mcr     | å¸ƒå°”å€¼ (bool)     | true/false           | recalc_normals              | normals_schema.json:recalc       |
| UnifyNormals              | BigWorld_Munge_Normals.mcr     | å¸ƒå°”å€¼ (bool)     | true/false           | unify_normals               | normals_schema.json:unify        |
| SmoothNormals             | BigWorld_Munge_Normals.mcr     | å¸ƒå°”å€¼ (bool)     | true/false           | smooth_normals              | normals_schema.json:smooth       |
| SmoothingAngle            | BigWorld_Munge_Normals.mcr     | æµ®ç‚¹æ•° (float)    | 30.0 (åº¦)            | smoothing_angle             | normals_schema.json:angle        |
| PreserveHardEdges         | BigWorld_Munge_Normals.mcr     | å¸ƒå°”å€¼ (bool)     | true/false           | preserve_hard_edges         | normals_schema.json:hard_edges   |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| mungeNormals()            | BigWorld_Munge_Normals.mcr     | å‡½æ•°              | ä¸»å¤„ç†å…¥å£           | munge_normals               | normals_schema.json:munge        |
| recalcNormals()           | BigWorld_Munge_Normals.mcr     | å‡½æ•°              | é‡ç®—æ³•çº¿             | recalc_normals              | normals_schema.json:recalc       |
| unifyNormals()            | BigWorld_Munge_Normals.mcr     | å‡½æ•°              | ç»Ÿä¸€æ³•çº¿æ–¹å‘         | unify_normals               | normals_schema.json:unify        |
| smoothNormals()           | BigWorld_Munge_Normals.mcr     | å‡½æ•°              | å¹³æ»‘æ³•çº¿             | smooth_normals              | normals_schema.json:smooth       |
| preserveHardEdges()       | BigWorld_Munge_Normals.mcr     | å‡½æ•°              | ä¿ç•™ç¡¬è¾¹             | preserve_hard_edges         | normals_schema.json:hard_edges   |
| validateBeforeExport()    | BigWorld_Munge_Normals.mcr     | å‡½æ•°              | è°ƒç”¨ Validator       | validate_before_export       | validator_schema.json:precheck   |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_NormalTools       | BigWorld_Munge_Normals.mcr     | rollout é¢æ¿      | UI é¢æ¿              | panel_normal_tools          | ui_schema.json:panel_normals     |
| btnMungeNormals           | BigWorld_Munge_Normals.mcr     | æŒ‰é’®              | â€œMunge Normalsâ€      | btn_munge_normals           | ui_schema.json:btn_munge         |
| chkRecalc                 | BigWorld_Munge_Normals.mcr     | å¤é€‰æ¡†            | æ˜¯å¦é‡ç®—             | chk_recalc                  | ui_schema.json:chk_recalc        |
| chkUnify                  | BigWorld_Munge_Normals.mcr     | å¤é€‰æ¡†            | æ˜¯å¦ç»Ÿä¸€             | chk_unify                   | ui_schema.json:chk_unify         |
| chkSmooth                 | BigWorld_Munge_Normals.mcr     | å¤é€‰æ¡†            | æ˜¯å¦å¹³æ»‘             | chk_smooth                  | ui_schema.json:chk_smooth        |
| spnSmoothingAngle         | BigWorld_Munge_Normals.mcr     | æ•°å€¼è¾“å…¥æ¡†        | å¹³æ»‘è§’åº¦             | spn_smoothing_angle         | ui_schema.json:spn_angle         |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logNormalInfo(msg)        | BigWorld_Munge_Normals.mcr     | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_normal_info             | validator_schema.json:log_info   |
| logNormalError(code,msg)  | BigWorld_Munge_Normals.mcr     | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_normal_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Munge_Normals.mcr     | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Munge_Normals.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **æ³•çº¿å¤„ç†å‚æ•°**ï¼ˆé‡ç®—ã€ç»Ÿä¸€ã€å¹³æ»‘ã€è§’åº¦ã€ç¡¬è¾¹ä¿ç•™ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆä¸»å…¥å£ã€é‡ç®—ã€ç»Ÿä¸€ã€å¹³æ»‘ã€ç¡¬è¾¹ä¿ç•™ã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ã€å¤é€‰æ¡†ã€æ•°å€¼è¾“å…¥æ¡†ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  


---

# ğŸ“‘ BigWorld_Object_Divider.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                       | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+================================+===================+======================+=============================+==================================+
| ***å¯¹è±¡æ‹†åˆ†å‚æ•°***                                                                                                                               
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| DividerName               | BigWorld_Object_Divider.mcr    | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | divider_name                | divider_schema.json:name         |
| MaxVerticesPerObject      | BigWorld_Object_Divider.mcr    | æ•´æ•° (int)        | é»˜è®¤ 65535           | max_vertices_per_object     | divider_schema.json:max_vertices |
| MaxFacesPerObject         | BigWorld_Object_Divider.mcr    | æ•´æ•° (int)        | é»˜è®¤ 65535           | max_faces_per_object        | divider_schema.json:max_faces    |
| PreserveHierarchy         | BigWorld_Object_Divider.mcr    | å¸ƒå°”å€¼ (bool)     | true/false           | preserve_hierarchy          | divider_schema.json:hierarchy    |
| GenerateNamingSuffix      | BigWorld_Object_Divider.mcr    | å¸ƒå°”å€¼ (bool)     | true/false           | generate_naming_suffix      | divider_schema.json:naming       |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| divideObject()            | BigWorld_Object_Divider.mcr    | å‡½æ•°              | ä¸»æ‹†åˆ†å…¥å£           | divide_object               | divider_schema.json:divide       |
| splitByVertices()         | BigWorld_Object_Divider.mcr    | å‡½æ•°              | æŒ‰é¡¶ç‚¹æ•°æ‹†åˆ†         | split_by_vertices           | divider_schema.json:split_verts  |
| splitByFaces()            | BigWorld_Object_Divider.mcr    | å‡½æ•°              | æŒ‰é¢æ•°æ‹†åˆ†           | split_by_faces              | divider_schema.json:split_faces  |
| preserveObjectHierarchy() | BigWorld_Object_Divider.mcr    | å‡½æ•°              | ä¿ç•™å±‚çº§å…³ç³»         | preserve_object_hierarchy   | divider_schema.json:hierarchy    |
| renameDividedObjects()    | BigWorld_Object_Divider.mcr    | å‡½æ•°              | è‡ªåŠ¨å‘½å             | rename_divided_objects      | divider_schema.json:rename       |
| validateBeforeExport()    | BigWorld_Object_Divider.mcr    | å‡½æ•°              | è°ƒç”¨ Validator       | validate_before_export      | validator_schema.json:precheck   |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_ObjectDividerTools| BigWorld_Object_Divider.mcr    | rollout é¢æ¿      | UI é¢æ¿              | panel_object_divider        | ui_schema.json:panel_divider     |
| btnDivideObject           | BigWorld_Object_Divider.mcr    | æŒ‰é’®              | â€œDivide Objectâ€      | btn_divide_object           | ui_schema.json:btn_divide        |
| chkPreserveHierarchy      | BigWorld_Object_Divider.mcr    | å¤é€‰æ¡†            | æ˜¯å¦ä¿ç•™å±‚çº§         | chk_preserve_hierarchy      | ui_schema.json:chk_hierarchy     |
| chkGenerateSuffix         | BigWorld_Object_Divider.mcr    | å¤é€‰æ¡†            | æ˜¯å¦ç”Ÿæˆåç¼€         | chk_generate_suffix         | ui_schema.json:chk_suffix        |
| spnMaxVertices            | BigWorld_Object_Divider.mcr    | æ•°å€¼è¾“å…¥æ¡†        | æœ€å¤§é¡¶ç‚¹æ•°           | spn_max_vertices            | ui_schema.json:spn_vertices      |
| spnMaxFaces               | BigWorld_Object_Divider.mcr    | æ•°å€¼è¾“å…¥æ¡†        | æœ€å¤§é¢æ•°             | spn_max_faces               | ui_schema.json:spn_faces         |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logDividerInfo(msg)       | BigWorld_Object_Divider.mcr    | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_divider_info            | validator_schema.json:log_info   |
| logDividerError(code,msg) | BigWorld_Object_Divider.mcr    | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_divider_error           | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Object_Divider.mcr    | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+--------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Object_Divider.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **å¯¹è±¡æ‹†åˆ†å‚æ•°**ï¼ˆæœ€å¤§é¡¶ç‚¹æ•°ã€æœ€å¤§é¢æ•°ã€å±‚çº§ä¿ç•™ã€å‘½åè§„åˆ™ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆæ‹†åˆ†ã€æŒ‰é¡¶ç‚¹/é¢æ•°åˆ‡åˆ†ã€ä¿ç•™å±‚çº§ã€é‡å‘½åã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ã€å¤é€‰æ¡†ã€æ•°å€¼è¾“å…¥æ¡†ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  

  

---

# ğŸ“‘ BigWorld_Prefab_Assembler.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+---------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                        | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+=================================+===================+======================+=============================+==================================+
| ***Prefab å®šä¹‰å‚æ•°***                                                                                                                              
+---------------------------+---------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| PrefabName                | BigWorld_Prefab_Assembler.mcr   | å­—ç¬¦ä¸² (string)   | ä»»æ„å­—ç¬¦ä¸²           | prefab_name                 | prefab_schema.json:name          |
| PrefabRoot                | BigWorld_Prefab_Assembler.mcr   | èŠ‚ç‚¹ (node)       | é€‰ä¸­å¯¹è±¡             | prefab_root                 | prefab_schema.json:root          |
| IncludeChildren           | BigWorld_Prefab_Assembler.mcr   | å¸ƒå°”å€¼ (bool)     | true/false           | include_children            | prefab_schema.json:children      |
| PreserveTransforms        | BigWorld_Prefab_Assembler.mcr   | å¸ƒå°”å€¼ (bool)     | true/false           | preserve_transforms         | prefab_schema.json:transforms    |
| ExportAsSingleFile        | BigWorld_Prefab_Assembler.mcr   | å¸ƒå°”å€¼ (bool)     | true/false           | export_as_single_file       | prefab_schema.json:single_file   |
+---------------------------+---------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+---------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| assemblePrefab()          | BigWorld_Prefab_Assembler.mcr   | å‡½æ•°              | ä¸»ç»„è£…å…¥å£           | assemble_prefab             | prefab_schema.json:assemble      |
| collectPrefabObjects()    | BigWorld_Prefab_Assembler.mcr   | å‡½æ•°              | æ”¶é›†å¯¹è±¡åˆ—è¡¨         | collect_prefab_objects      | prefab_schema.json:objects       |
| bakePrefabTransforms()    | BigWorld_Prefab_Assembler.mcr   | å‡½æ•°              | çƒ˜ç„™å˜æ¢çŸ©é˜µ         | bake_prefab_transforms      | prefab_schema.json:transforms    |
| writePrefabFile()         | BigWorld_Prefab_Assembler.mcr   | å‡½æ•°              | å†™å‡º Prefab æ–‡ä»¶     | write_prefab_file           | prefab_schema.json:write         |
| validateBeforeExport()    | BigWorld_Prefab_Assembler.mcr   | å‡½æ•°              | è°ƒç”¨ Validator       | validate_before_export      | validator_schema.json:precheck   |
+---------------------------+---------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+---------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_PrefabTools       | BigWorld_Prefab_Assembler.mcr   | rollout é¢æ¿      | UI é¢æ¿              | panel_prefab_tools          | ui_schema.json:panel_prefab      |
| btnAssemblePrefab         | BigWorld_Prefab_Assembler.mcr   | æŒ‰é’®              | â€œAssemble Prefabâ€    | btn_assemble_prefab         | ui_schema.json:btn_assemble      |
| chkIncludeChildren        | BigWorld_Prefab_Assembler.mcr   | å¤é€‰æ¡†            | æ˜¯å¦åŒ…å«å­å¯¹è±¡       | chk_include_children        | ui_schema.json:chk_children      |
| chkPreserveTransforms     | BigWorld_Prefab_Assembler.mcr   | å¤é€‰æ¡†            | æ˜¯å¦ä¿ç•™å˜æ¢         | chk_preserve_transforms     | ui_schema.json:chk_transforms    |
| chkExportSingleFile       | BigWorld_Prefab_Assembler.mcr   | å¤é€‰æ¡†            | æ˜¯å¦å•æ–‡ä»¶å¯¼å‡º       | chk_export_single_file      | ui_schema.json:chk_single        |
+---------------------------+---------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+---------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logPrefabInfo(msg)        | BigWorld_Prefab_Assembler.mcr   | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_prefab_info             | validator_schema.json:log_info   |
| logPrefabError(code,msg)  | BigWorld_Prefab_Assembler.mcr   | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_prefab_error            | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Prefab_Assembler.mcr   | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+---------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Prefab_Assembler.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **Prefab å®šä¹‰å‚æ•°**ï¼ˆåç§°ã€æ ¹èŠ‚ç‚¹ã€å­å¯¹è±¡ã€å˜æ¢ã€å•æ–‡ä»¶å¯¼å‡ºï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆç»„è£…ã€æ”¶é›†å¯¹è±¡ã€çƒ˜ç„™å˜æ¢ã€å†™å‡ºæ–‡ä»¶ã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ã€å¤é€‰æ¡†ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  



---

# ğŸ“‘ BigWorld_Modify_Res_Paths.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                         | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+==================================+===================+======================+=============================+==================================+
| ***è·¯å¾„ä¿®æ”¹å‚æ•°***                                                                                                                               
+---------------------------+----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| OldPath                   | BigWorld_Modify_Res_Paths.mcr    | å­—ç¬¦ä¸² (string)   | ç”¨æˆ·è¾“å…¥             | old_path                    | respath_schema.json:old          |
| NewPath                   | BigWorld_Modify_Res_Paths.mcr    | å­—ç¬¦ä¸² (string)   | ç”¨æˆ·è¾“å…¥             | new_path                    | respath_schema.json:new          |
| PathType                  | BigWorld_Modify_Res_Paths.mcr    | æšä¸¾ (string)     | Texture/Model/Anim   | path_type                   | respath_schema.json:type         |
| ApplyRecursively          | BigWorld_Modify_Res_Paths.mcr    | å¸ƒå°”å€¼ (bool)     | true/false           | apply_recursively           | respath_schema.json:recursive    |
| BackupBeforeModify        | BigWorld_Modify_Res_Paths.mcr    | å¸ƒå°”å€¼ (bool)     | true/false           | backup_before_modify        | respath_schema.json:backup       |
+---------------------------+----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| modifyResPaths()          | BigWorld_Modify_Res_Paths.mcr    | å‡½æ•°              | ä¸»ä¿®æ”¹å…¥å£           | modify_res_paths            | respath_schema.json:modify       |
| findResourcesByPath()     | BigWorld_Modify_Res_Paths.mcr    | å‡½æ•°              | æŸ¥æ‰¾èµ„æºå¼•ç”¨         | find_resources_by_path      | respath_schema.json:find         |
| replaceResourcePath()     | BigWorld_Modify_Res_Paths.mcr    | å‡½æ•°              | æ›¿æ¢è·¯å¾„             | replace_resource_path       | respath_schema.json:replace      |
| backupResourceFiles()     | BigWorld_Modify_Res_Paths.mcr    | å‡½æ•°              | å¤‡ä»½èµ„æºæ–‡ä»¶         | backup_resource_files       | respath_schema.json:backup       |
| validatePaths()           | BigWorld_Modify_Res_Paths.mcr    | å‡½æ•°              | è°ƒç”¨ Validator       | validate_paths              | validator_schema.json:paths      |
+---------------------------+----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_PathTools         | BigWorld_Modify_Res_Paths.mcr    | rollout é¢æ¿      | UI é¢æ¿              | panel_path_tools            | ui_schema.json:panel_paths       |
| btnModifyPaths            | BigWorld_Modify_Res_Paths.mcr    | æŒ‰é’®              | â€œModify Pathsâ€       | btn_modify_paths            | ui_schema.json:btn_modify        |
| btnFindResources          | BigWorld_Modify_Res_Paths.mcr    | æŒ‰é’®              | â€œFind Resourcesâ€     | btn_find_resources          | ui_schema.json:btn_find          |
| chkApplyRecursively       | BigWorld_Modify_Res_Paths.mcr    | å¤é€‰æ¡†            | æ˜¯å¦é€’å½’             | chk_apply_recursively       | ui_schema.json:chk_recursive     |
| chkBackupBeforeModify     | BigWorld_Modify_Res_Paths.mcr    | å¤é€‰æ¡†            | æ˜¯å¦å¤‡ä»½             | chk_backup_before_modify    | ui_schema.json:chk_backup        |
+---------------------------+----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logPathInfo(msg)          | BigWorld_Modify_Res_Paths.mcr    | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_path_info               | validator_schema.json:log_info   |
| logPathError(code,msg)    | BigWorld_Modify_Res_Paths.mcr    | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_path_error              | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Modify_Res_Paths.mcr    | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Modify_Res_Paths.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **è·¯å¾„ä¿®æ”¹å‚æ•°**ï¼ˆæ—§è·¯å¾„ã€æ–°è·¯å¾„ã€ç±»å‹ã€é€’å½’ã€å¤‡ä»½ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆæŸ¥æ‰¾ã€æ›¿æ¢ã€å¤‡ä»½ã€æ ¡éªŒï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ã€å¤é€‰æ¡†ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  




---

# ğŸ“‘ BigWorld_Verify_File_Paths.mcr å­—æ®µæç‚¼è¡¨ï¼ˆåˆ†ç±»ç‰ˆ Â· å®Œæ•´ï¼‰

```
+---------------------------+-----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| å­—æ®µå (MaxScript)        | æ¥æºæ–‡ä»¶                          | å­—æ®µç±»å‹           | é»˜è®¤å€¼/å–å€¼èŒƒå›´       | Blender Python å¯¹åº”åç§°      | Schema/JSON æ˜ å°„å­—æ®µ              |
+===========================+===================================+===================+======================+=============================+==================================+
| ***è·¯å¾„æ ¡éªŒå‚æ•°***                                                                                                                               
+---------------------------+-----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| FilePath                  | BigWorld_Verify_File_Paths.mcr    | å­—ç¬¦ä¸² (string)   | ç”¨æˆ·è¾“å…¥             | file_path                   | filepath_schema.json:path        |
| PathType                  | BigWorld_Verify_File_Paths.mcr    | æšä¸¾ (string)     | Texture/Model/Anim   | path_type                   | filepath_schema.json:type        |
| CheckExistence            | BigWorld_Verify_File_Paths.mcr    | å¸ƒå°”å€¼ (bool)     | true/false           | check_existence             | filepath_schema.json:exist       |
| CheckCaseSensitivity      | BigWorld_Verify_File_Paths.mcr    | å¸ƒå°”å€¼ (bool)     | true/false           | check_case_sensitivity      | filepath_schema.json:case        |
| CheckRelativePaths        | BigWorld_Verify_File_Paths.mcr    | å¸ƒå°”å€¼ (bool)     | true/false           | check_relative_paths        | filepath_schema.json:relative    |
+---------------------------+-----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***å‡½æ•° / æ–¹æ³•***                                                                                                                                   
+---------------------------+-----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| verifyFilePaths()         | BigWorld_Verify_File_Paths.mcr    | å‡½æ•°              | ä¸»æ ¡éªŒå…¥å£           | verify_file_paths           | filepath_schema.json:verify      |
| checkExistence()          | BigWorld_Verify_File_Paths.mcr    | å‡½æ•°              | æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨     | check_existence             | filepath_schema.json:exist       |
| checkCaseSensitivity()    | BigWorld_Verify_File_Paths.mcr    | å‡½æ•°              | æ£€æŸ¥å¤§å°å†™ä¸€è‡´æ€§     | check_case_sensitivity      | filepath_schema.json:case        |
| checkRelativePaths()      | BigWorld_Verify_File_Paths.mcr    | å‡½æ•°              | æ£€æŸ¥ç›¸å¯¹è·¯å¾„åˆæ³•æ€§   | check_relative_paths        | filepath_schema.json:relative    |
| reportInvalidPaths()      | BigWorld_Verify_File_Paths.mcr    | å‡½æ•°              | è¾“å‡ºé”™è¯¯è·¯å¾„æŠ¥å‘Š     | report_invalid_paths        | filepath_schema.json:report      |
+---------------------------+-----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***UI / Rollout å‚æ•°***                                                                                                                              
+---------------------------+-----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| rollout_VerifyPathsTools  | BigWorld_Verify_File_Paths.mcr    | rollout é¢æ¿      | UI é¢æ¿              | panel_verify_paths          | ui_schema.json:panel_verify      |
| btnVerifyPaths            | BigWorld_Verify_File_Paths.mcr    | æŒ‰é’®              | â€œVerify Pathsâ€       | btn_verify_paths            | ui_schema.json:btn_verify        |
| chkCheckExistence         | BigWorld_Verify_File_Paths.mcr    | å¤é€‰æ¡†            | æ˜¯å¦æ£€æŸ¥å­˜åœ¨         | chk_check_existence         | ui_schema.json:chk_exist         |
| chkCaseSensitive          | BigWorld_Verify_File_Paths.mcr    | å¤é€‰æ¡†            | æ˜¯å¦åŒºåˆ†å¤§å°å†™       | chk_case_sensitive          | ui_schema.json:chk_case          |
| chkRelativePaths          | BigWorld_Verify_File_Paths.mcr    | å¤é€‰æ¡†            | æ˜¯å¦æ£€æŸ¥ç›¸å¯¹è·¯å¾„     | chk_relative_paths          | ui_schema.json:chk_relative      |
+---------------------------+-----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| ***æ—¥å¿— / é”™è¯¯å¤„ç†***                                                                                                                              
+---------------------------+-----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
| logPathVerifyInfo(msg)    | BigWorld_Verify_File_Paths.mcr    | å‡½æ•°              | è¾“å‡ºä¿¡æ¯æ—¥å¿—         | log_path_verify_info        | validator_schema.json:log_info   |
| logPathVerifyError(code,msg)| BigWorld_Verify_File_Paths.mcr  | å‡½æ•°              | è¾“å‡ºé”™è¯¯æ—¥å¿—         | log_path_verify_error       | validator_schema.json:log_error  |
| lastErrorCode             | BigWorld_Verify_File_Paths.mcr    | æ•´æ•° (int)        | 0                    | last_error_code             | validator_schema.json:last_error |
+---------------------------+-----------------------------------+-------------------+----------------------+-----------------------------+----------------------------------+
```

---

# ğŸ”¹ æ€»ç»“
è¿™æ ·æ•´ç†åï¼Œ`BigWorld_Verify_File_Paths.mcr` çš„è¿ç§»èŒƒå›´å®Œæ•´è¦†ç›–äº†ï¼š  
- **è·¯å¾„æ ¡éªŒå‚æ•°**ï¼ˆæ–‡ä»¶è·¯å¾„ã€ç±»å‹ã€å­˜åœ¨æ€§ã€å¤§å°å†™ã€ç›¸å¯¹è·¯å¾„ï¼‰  
- **å‡½æ•°æ–¹æ³•**ï¼ˆæ ¡éªŒã€æ£€æŸ¥å­˜åœ¨ã€æ£€æŸ¥å¤§å°å†™ã€æ£€æŸ¥ç›¸å¯¹è·¯å¾„ã€è¾“å‡ºæŠ¥å‘Šï¼‰  
- **UI é¢æ¿å‚æ•°**ï¼ˆrollout é¢æ¿ã€æŒ‰é’®ã€å¤é€‰æ¡†ï¼‰  
- **æ—¥å¿—/é”™è¯¯å¤„ç†**ï¼ˆä¿¡æ¯ã€é”™è¯¯ã€æœ€åé”™è¯¯çŠ¶æ€ï¼‰  



---

# æŠ¥å‘Šç»“æ„è¯´æ˜

- æ¦‚è¿°ï¼šæ¨¡å—èŒè´£ä¸ä¸Šä¸‹æ–‡
- è¾“å…¥ä¸å‰ç½®æ¡ä»¶ï¼šæ¥å—çš„æ•°æ®ã€çŠ¶æ€ã€ä¾èµ–
- å¯¼å‡ºçš„æ¥å£ï¼šå‡½æ•°ã€æ•°æ®ç»“æ„ã€å¸¸é‡
- å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»ï¼šä¸»è¦é€»è¾‘ã€è¾¹ç•Œå¤„ç†
- æ•°æ®å¥‘çº¦ä¸Schemaå¯¹é½ï¼šå­—æ®µã€ç±»å‹ã€é»˜è®¤å€¼ã€çº¦æŸ
- UI/æŒ‡ä»¤å…¥å£ï¼šrolloutã€æŒ‰é’®ã€å‘½ä»¤
- æ ¡éªŒä¸é”™è¯¯å¤„ç†ï¼šValidatoré›†æˆã€é”™è¯¯ç ã€æ—¥å¿—
- è¿ç§»åˆ°Blenderçš„å®ç°è¦ç‚¹ï¼šPythonæ¨¡å—ã€APIæ˜ å°„ã€é£é™©
- æµ‹è¯•æ¸…å•ï¼šç”¨ä¾‹ã€æ–­è¨€ã€è‡ªåŠ¨åŒ–
- é£é™©ä¸TODOï¼šæœªçŸ¥ç‚¹ã€è¡¥å……æ–‡æ¡£éœ€æ±‚

---

# BigWorld_Common.ms æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- æ¨¡å—èŒè´£ï¼šæä¾›å…¨å±€å¸¸é‡ã€è·¯å¾„ä¸æ–‡ä»¶åè§„åˆ™ã€é€šç”¨å·¥å…·å‡½æ•°ï¼ˆæ—¥å¿—ã€å­—ç¬¦ä¸²ã€é›†åˆã€æ–‡ä»¶I/Oï¼‰ã€ç»Ÿä¸€æ•°æ®è§„èŒƒçš„å…¬å…±å…¥å£ã€‚
- ä¸Šä¸‹æ–‡ä½ç½®ï¼šè¢«æ‰€æœ‰ mcr/ms æ–‡ä»¶ä½œä¸ºåŸºç¡€ä¾èµ–å¼•å…¥ï¼Œå±äºâ€œå¹³å°å±‚â€çš„å…¬å…±åº“ã€‚

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- è¾“å…¥æ•°æ®ï¼šæ— æ˜¾å¼å¤–éƒ¨è¾“å…¥ï¼›ä½œä¸ºä¾èµ–æ¨¡å—è¢«å…¶ä»–è„šæœ¬è°ƒç”¨ã€‚
- å‰ç½®æ¡ä»¶ï¼š3ds Max ç¯å¢ƒå¯ç”¨ï¼›æ–‡ä»¶ç³»ç»Ÿè¯»å†™æƒé™ï¼›BigWorld é¡¹ç›®ç›®å½•ç»“æ„å·²é…ç½®ã€‚
- ä¾èµ–æ¨¡å—ï¼šæ— å¼ºä¾èµ–ï¼Œä½†é€šå¸¸ä¸ Validator å…±ç”¨æ—¥å¿—æ ¼å¼ã€‚

## å¯¼å‡ºçš„æ¥å£
- å¸¸é‡ï¼š
  - PATH_SEPã€ROOT_RES_DIRã€DEFAULT_EXPORT_DIRã€FILE_EXTSï¼ˆvisual/animation/xmlç­‰ï¼‰
- è§„åˆ™/æ­£åˆ™ï¼š
  - VALID_NAME_REGEXï¼ˆèµ„æºå‘½åè§„èŒƒï¼‰ã€SUPPORTED_MATERIAL_TYPES
- é€šç”¨å‡½æ•°ï¼š
  - path_join(parts...)ï¼šè·¯å¾„ç»„è£…ä¸æ ‡å‡†åŒ–
  - ensure_dir(path)ï¼šç›®å½•å­˜åœ¨æ€§ä¿è¯
  - sanitize_name(name)ï¼šèµ„æºåæ¸…æ´—
  - unique_name(name, existingSet)ï¼šå†²çªè§£å†³
  - write_json(path, obj)ã€read_json(path)
  - log_info(msg)ã€log_warn(msg)ã€log_error(code, msg)
- æ•°æ®ç»“æ„ï¼š
  - ExportContextï¼šå¯¼å‡ºä¼šè¯ä¸Šä¸‹æ–‡ï¼ˆexport_pathã€timestampã€userã€optionsï¼‰

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
- åç§°ä¸è·¯å¾„å¤„ç†é“¾ï¼š
  1. sanitize_name â†’ VALID_NAME_REGEX æ ¡éªŒ
  2. path_join + ROOT_RES_DIR å‰ç¼€è§„åˆ™
  3. ensure_dirï¼ˆå¹‚ç­‰ï¼‰
- æ—¥å¿—ç»Ÿä¸€ï¼š
  - log_* è°ƒç”¨åŒä¸€æ ¼å¼åŒ–å™¨ï¼Œè¾“å‡º time/user/moduleã€codeã€message
- å†™è¯»å·¥å…·ï¼š
  - JSON/XML å­˜å–å°è£…ï¼Œæ•è·æ–‡ä»¶å¼‚å¸¸å¹¶è¿”å›é”™è¯¯ç ç»™ Validator

## æ•°æ®å¥‘çº¦ä¸Schemaå¯¹é½
- common_schema.jsonï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š
  - properties
    - path_sep: string
    - root_res_dir: string
    - default_export_dir: string
    - file_exts: object { visual:string, animation:string, xml:string, bsp:string, hull:string, prefab:string }
    - valid_name_regex: string
    - supported_material_types: array[string]
  - required: [root_res_dir, default_export_dir, file_exts]
  - additionalProperties: false

## UI/æŒ‡ä»¤å…¥å£
- æ—  UIï¼›åœ¨ Startup ä¸­ä½œä¸ºå…¬å…±åº“åŠ è½½ã€‚
- å¯èƒ½æš´éœ² MaxScript å‘½ä»¤åˆ«åä¾›å…¶ä»–è„šæœ¬è°ƒç”¨ï¼ˆå¦‚ bw_path_joinï¼‰ã€‚

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- é”™è¯¯ç èŒƒå›´ï¼ˆå»ºè®®ç»Ÿä¸€ï¼‰ï¼š
  - 100x è·¯å¾„/æ–‡ä»¶é”™è¯¯ï¼ˆä¸å­˜åœ¨ã€æƒé™ã€æ— æ•ˆå­—ç¬¦ï¼‰
  - 200x å‘½åé”™è¯¯ï¼ˆéæ³•å­—ç¬¦ã€å†²çªï¼‰
  - 300x åºåˆ—åŒ–é”™è¯¯ï¼ˆJSON/XMLå¤±è´¥ï¼‰
- ä¸ Validator é›†æˆï¼š
  - log_error(code, msg) åŒæ­¥åˆ° Validatorï¼Œå½¢æˆç»Ÿä¸€æŠ¥å‘Šã€‚

## è¿ç§»åˆ°Blenderçš„å®ç°è¦ç‚¹
- Pythonæ¨¡å—å»ºè®®ï¼šcore/common.py
  - æä¾›ä¸ä¸Šé¢æ¥å£ä¸€è‡´çš„å‡½æ•°ä¸å¸¸é‡ã€‚
- APIæ˜ å°„ï¼š
  - path_join â†’ os.path.join + ç»Ÿä¸€æ–œæ 
  - ensure_dir â†’ pathlib.Path(...).mkdir(parents=True, exist_ok=True)
  - write_json/read_json â†’ json.dump/json.loadï¼Œç¼–ç ç»Ÿä¸€ä¸º UTF-8
- é£é™©ï¼š
  - Windows/Unix è·¯å¾„åˆ†éš”å·®å¼‚
  - éASCIIèµ„æºåï¼ˆä¸­æ–‡ï¼‰å…¼å®¹æ€§
  - ç›¸å¯¹è·¯å¾„ä¸Blenderé¡¹ç›®æ ¹ç›®å½•çš„ç»‘å®šç­–ç•¥ï¼ˆéœ€ä¸å›¢é˜Ÿçº¦å®šï¼‰

## æµ‹è¯•æ¸…å•
- åç§°æ¸…æ´—ï¼šéæ³•å­—ç¬¦ã€å‰åç©ºæ ¼ã€é‡å¤åå†²çª
- è·¯å¾„ç»„åˆï¼šå¤šæ®µjoinã€ç»å¯¹/ç›¸å¯¹ã€è·¨å¹³å°åˆ†éš”ç¬¦
- ç›®å½•ä¿è¯ï¼šå·²æœ‰/æ— ã€æƒé™å¼‚å¸¸
- JSONè¯»å†™ï¼šç©ºå¯¹è±¡ã€å¤§å¯¹è±¡ã€å¼‚å¸¸æ•è·
- æ—¥å¿—æ ¼å¼ï¼šåŒ…å«æ—¶é—´æˆ³ã€æ¨¡å—åã€é”™è¯¯ç 

## é£é™©ä¸TODO
- VALID_NAME_REGEX ä¸å†å²æ•°æ®çš„å…¼å®¹æ€§éœ€ç¡®è®¤ï¼ˆè¯·æä¾›æ—§èµ„æºç¤ºä¾‹ï¼‰
- supported_material_types ä¸å¼•æ“ç‰ˆæœ¬æ˜¯å¦æœ‰å·®å¼‚ï¼ˆéœ€è¦ç‰ˆæœ¬è¡¨ï¼‰
- ExportContext å­—æ®µçš„æœ€ç»ˆç‰ˆå®šä¹‰éœ€è¦å›¢é˜Ÿç¡®è®¤ï¼ˆç”¨æˆ·ä¿¡æ¯æ¥æºã€ä¼šè¯IDï¼‰

---

# BigWorld_Startup.ms æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- æ¨¡å—èŒè´£ï¼šæ³¨å†Œæ‰€æœ‰rollouté¢æ¿ã€èœå•ä¸å‘½ä»¤ï¼›åŠ è½½å…¬å…±ä¸å­æ¨¡å—ï¼›åˆå§‹åŒ–å…¨å±€é…ç½®ä¸Validatorã€‚
- ä¸Šä¸‹æ–‡ä½ç½®ï¼šæ’ä»¶å…¥å£ï¼Œä¿è¯ Max æ‰“å¼€åå·¥å…·å¯ç”¨ã€‚

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- è¾“å…¥ï¼šMaxå¯åŠ¨äº‹ä»¶ã€ç”¨æˆ·ç¯å¢ƒå˜é‡ï¼ˆé¡¹ç›®è·¯å¾„ï¼‰
- å‰ç½®æ¡ä»¶ï¼šCommonå¯åŠ è½½ï¼›æ¨¡å—è·¯å¾„æ­£ç¡®ï¼›UIèµ„æºå¯ç”¨

## å¯¼å‡ºçš„æ¥å£
- init_plugin()ï¼šåˆå§‹åŒ–å…¥å£
- register_ui()ï¼šæ³¨å†Œå››å¤§ä¸»é¢æ¿ï¼ˆExport/Import/Geometry/Toolsï¼‰
- register_commands()ï¼šå‘½ä»¤ç»‘å®šï¼Œæ–¹ä¾¿å¿«æ·é”®è§¦å‘
- load_modules()ï¼šæŒ‰ç±»åˆ«åŠ è½½ mcr/ms

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. load_modulesï¼ˆcommon â†’ validator â†’ export/import/geometry/portal/prefab/pathsï¼‰
2. validator.bootstrapï¼ˆè®¾ç½®æ—¥å¿—è·¯å¾„ã€é”™è¯¯ç é›†ï¼‰
3. register_uiï¼ˆåˆ›å»ºrollouté¢æ¿ä¸æŒ‰é’®ï¼‰
4. register_commandsï¼ˆå¯¼å‡ºå¿«æ·å‘½ä»¤ï¼‰

## æ•°æ®å¥‘çº¦ä¸Schemaå¯¹é½
- startup_schema.jsonï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š
  - panels: array[string]ï¼ˆ"Export","Import","Geometry","Tools"ï¼‰
  - modules_loaded: array[string]
  - validator_ready: boolean
  - commands: array[object{name:string, target:string}]

## UI/æŒ‡ä»¤å…¥å£
- æ— å•ç‹¬ä¸šåŠ¡UIï¼Œä½†è´Ÿè´£æŠŠå„å­é¢æ¿æŒ‚è½½åˆ°ä¸»UIæ¡†æ¶

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- ç¼ºæ¨¡å—ã€UIèµ„æºåŠ è½½å¤±è´¥ã€å‘½ä»¤æ³¨å†Œå†²çª â†’ ç»Ÿä¸€log_errorå¹¶é˜»æ–­

## è¿ç§»åˆ°Blenderçš„å®ç°è¦ç‚¹
- Pythonæ¨¡å—ï¼šcore/startup.py
- é›†æˆï¼š
  - æ³¨å†Œ Blender é¢æ¿ï¼ˆbpy.types.Panelï¼‰
  - èœå•/æ“ä½œç¬¦ï¼ˆbpy.types.Operatorï¼‰
  - æ¨¡å—åŠ è½½ç”¨å»¶è¿Ÿå¯¼å…¥ï¼Œé¿å…å¯åŠ¨å¡é¡¿

## æµ‹è¯•æ¸…å•
- æ‰€æœ‰é¢æ¿æ˜¯å¦å‡ºç°ã€æŒ‰é’®æ˜¯å¦ç»‘å®š
- æ¨¡å—åŠ è½½é¡ºåºæ˜¯å¦æ­£ç¡®ï¼ˆValidatorä¼˜å…ˆï¼‰
- å‘½ä»¤è°ƒç”¨æ˜¯å¦èƒ½è§¦å‘å¯¹åº”åŠŸèƒ½

## é£é™©ä¸TODO
- Blenderå¯åŠ¨é¡ºåºä¸Maxä¸åŒï¼Œéœ€é€‚é… lazy-load
- æ‰©å±•æ€§è¦æ±‚ï¼šæ–°æ¨¡å—å¢åŠ ä¸ç ´åæ—§æ³¨å†Œæµç¨‹

---


---

# BigWorld_Validator.ms æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼šç»Ÿä¸€çš„æ ¡éªŒä¸æ—¥å¿—ç³»ç»Ÿï¼Œè´Ÿè´£åœ¨å¯¼å‡º/å¯¼å…¥/ç”Ÿæˆè¿‡ç¨‹ä¸­æ£€æŸ¥æ•°æ®åˆæ³•æ€§ï¼Œè¾“å‡ºé”™è¯¯ã€è­¦å‘Šå’Œä¿¡æ¯æ—¥å¿—ã€‚
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼šæ‰€æœ‰å¯¼å‡ºã€å‡ ä½•ã€Portalã€è·¯å¾„å·¥å…·éƒ½ä¼šè°ƒç”¨å®ƒï¼Œæ˜¯å…¨å±€çš„â€œå®ˆé—¨äººâ€ã€‚

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼šä»»æ„å¾…æ ¡éªŒçš„æ•°æ®ç»“æ„ï¼ˆVisualã€Animationã€HitBoxã€Portalã€è·¯å¾„ç­‰ï¼‰ã€‚
- **å‰ç½®æ¡ä»¶**ï¼šCommon å·²åŠ è½½ï¼ˆæä¾›æ—¥å¿—ä¸è·¯å¾„å·¥å…·ï¼‰ã€‚
- **ä¾èµ–æ¨¡å—**ï¼šCommonï¼ˆæ—¥å¿—æ ¼å¼ï¼‰ã€MaxScript ç³»ç»Ÿå‡½æ•°ã€‚

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `validate_visual(data)`ï¼šæ£€æŸ¥ Visual å¯¼å‡ºæ•°æ®ï¼ˆLODã€æè´¨ã€è·¯å¾„ï¼‰ã€‚
  - `validate_animation(data)`ï¼šæ£€æŸ¥åŠ¨ç”»æ•°æ®ï¼ˆå¸§èŒƒå›´ã€éª¨éª¼ç»‘å®šï¼‰ã€‚
  - `validate_hitbox(data)`ï¼šæ£€æŸ¥ HitBox å®šä¹‰ï¼ˆéª¨éª¼ã€å°ºå¯¸ï¼‰ã€‚
  - `validate_portal(data)`ï¼šæ£€æŸ¥ Portal å®šä¹‰ï¼ˆä½ç½®ã€æ³•çº¿ã€å°ºå¯¸ï¼‰ã€‚
  - `validate_paths(data)`ï¼šæ£€æŸ¥è·¯å¾„ï¼ˆå­˜åœ¨æ€§ã€å¤§å°å†™ã€ç›¸å¯¹è·¯å¾„ï¼‰ã€‚
- **æ—¥å¿—æ¥å£**ï¼š
  - `log_info(msg)`
  - `log_warn(msg)`
  - `log_error(code, msg)`
- **çŠ¶æ€å˜é‡**ï¼š
  - `lastErrorCode`ï¼šæœ€è¿‘ä¸€æ¬¡é”™è¯¯ç 
  - `errorCount` / `warnCount`ï¼šç»Ÿè®¡

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. æ¥æ”¶æ•°æ®ç»“æ„ï¼ˆå¦‚ Visual å¯¼å‡ºä¸Šä¸‹æ–‡ï¼‰ã€‚
2. æŒ‰ schema æ ¡éªŒå­—æ®µå®Œæ•´æ€§ã€ç±»å‹ã€å–å€¼èŒƒå›´ã€‚
3. å‘ç°é—®é¢˜ â†’ è°ƒç”¨ `log_error` æˆ– `log_warn`ã€‚
4. è¿”å›å¸ƒå°”å€¼æˆ–é”™è¯¯ç ï¼Œä¾›ä¸Šå±‚å†³å®šæ˜¯å¦ä¸­æ–­ã€‚

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **validator_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š
  ```json
  {
    "type": "object",
    "properties": {
      "lastErrorCode": { "type": "integer" },
      "errorCount": { "type": "integer" },
      "warnCount": { "type": "integer" },
      "logs": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "level": { "type": "string", "enum": ["info","warn","error"] },
            "code": { "type": "integer" },
            "message": { "type": "string" }
          },
          "required": ["level","message"]
        }
      }
    },
    "required": ["lastErrorCode","logs"]
  }
  ```

## UI / æŒ‡ä»¤å…¥å£
- æ— ç‹¬ç«‹ UIï¼›é€šè¿‡å…¶ä»–æ¨¡å—çš„æŒ‰é’®è§¦å‘ï¼ˆå¦‚ Export Visual â†’ validate_visualï¼‰ã€‚
- å¯èƒ½æœ‰ä¸€ä¸ªâ€œValidator Reportâ€é¢æ¿æ˜¾ç¤ºæ—¥å¿—ã€‚

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **é”™è¯¯ç åˆ†å±‚**ï¼š
  - 1000â€“1999ï¼šè·¯å¾„/æ–‡ä»¶é”™è¯¯
  - 2000â€“2999ï¼šæ•°æ®ç¼ºå¤±/å­—æ®µé”™è¯¯
  - 3000â€“3999ï¼šå‡ ä½•/æ³•çº¿é”™è¯¯
  - 4000â€“4999ï¼šPortal/HitBox é”™è¯¯
- **æ—¥å¿—è¾“å‡º**ï¼šç»Ÿä¸€æ ¼å¼ `[æ—¶é—´][æ¨¡å—][çº§åˆ«][é”™è¯¯ç ] æ¶ˆæ¯`

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- Python æ¨¡å—ï¼š`core/validator.py`
- ä½¿ç”¨ `jsonschema` æ ¡éªŒæ•°æ®ç»“æ„ã€‚
- æ—¥å¿—ç³»ç»Ÿå¯å¯¹æ¥ Blender çš„ `report({'INFO'/'ERROR'}, msg)`ã€‚
- ä¿æŒé”™è¯¯ç ä¸€è‡´ï¼Œæ–¹ä¾¿å›¢é˜Ÿè¿½è¸ªã€‚

## æµ‹è¯•æ¸…å•
- Visual å¯¼å‡ºç¼ºå°‘ LOD â†’ æŠ¥é”™
- Animation å¸§èŒƒå›´éæ³• â†’ æŠ¥é”™
- HitBox éª¨éª¼ä¸å­˜åœ¨ â†’ æŠ¥é”™
- Portal æ³•çº¿ä¸ºé›¶å‘é‡ â†’ æŠ¥é”™
- è·¯å¾„å¤§å°å†™é”™è¯¯ â†’ æŠ¥é”™
- æ—¥å¿—ç»Ÿè®¡æ˜¯å¦æ­£ç¡®ï¼ˆerrorCountã€warnCountï¼‰

## é£é™©ä¸ TODO
- é”™è¯¯ç è¡¨éœ€è¦å›¢é˜Ÿç¡®è®¤å¹¶å†»ç»“ï¼Œé¿å…è¿ç§»åä¸ä¸€è‡´ã€‚
- æ—¥å¿—è¾“å‡ºæ˜¯å¦éœ€è¦å†™å…¥æ–‡ä»¶ï¼ˆBlender æ’ä»¶ä¸­å¯é€‰ï¼‰ã€‚
- æ˜¯å¦éœ€è¦å›½é™…åŒ–ï¼ˆä¸­è‹±æ–‡æ—¥å¿—ï¼‰ã€‚

---


---

# BigWorld_Export_Visual.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  å°† 3ds Max ä¸­çš„å‡ ä½•ä½“ã€æè´¨ã€LODï¼ˆLevel of Detailï¼‰ã€æ³•çº¿ã€UV ç­‰ä¿¡æ¯å¯¼å‡ºä¸º BigWorld çš„ `.visual` æ–‡ä»¶ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  å±äºå¯¼å‡ºç±»çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œé€šå¸¸æ˜¯å›¢é˜Ÿä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å·¥å…·ä¹‹ä¸€ã€‚æ‰€æœ‰æ¨¡å‹èµ„æºçš„å¯¼å‡ºéƒ½è¦ç»è¿‡å®ƒã€‚

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰ä¸­çš„æ¨¡å‹å¯¹è±¡  
  - æè´¨ä¿¡æ¯ï¼ˆStandardã€Multi/Sub-Object ç­‰ï¼‰  
  - LOD è®¾ç½®ï¼ˆLOD0ã€LOD1ã€LOD2â€¦ï¼‰  
  - å¯¼å‡ºè·¯å¾„ï¼ˆç”¨æˆ·æŒ‡å®šæˆ–é»˜è®¤è·¯å¾„ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€æ–‡ä»¶å†™å…¥å·¥å…·ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒå¯¼å‡ºæ•°æ®å®Œæ•´æ€§ï¼‰  
  - æ¨¡å‹å¿…é¡»æ»¡è¶³åŸºæœ¬è¦æ±‚ï¼ˆéç©ºã€åˆæ³•æè´¨ã€æ‹“æ‰‘æ­£ç¡®ï¼‰

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `exportVisual()`ï¼šä¸»å¯¼å‡ºå…¥å£  
  - `collectGeometry()`ï¼šæ”¶é›†å‡ ä½•ä½“æ•°æ®ï¼ˆé¡¶ç‚¹ã€é¢ã€UVï¼‰  
  - `collectMaterials()`ï¼šæ”¶é›†æè´¨ä¿¡æ¯  
  - `collectLODs()`ï¼šæ”¶é›† LOD å±‚çº§  
  - `writeVisualFile()`ï¼šå†™å‡º `.visual` æ–‡ä»¶  
  - `validateBeforeExport()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `VisualData`ï¼šåŒ…å« geometryã€materialsã€lodsã€normalsã€uvsã€export_path

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `exportVisual()`  
2. **æ”¶é›†æ•°æ®**ï¼šè°ƒç”¨ `collectGeometry`ã€`collectMaterials`ã€`collectLODs`  
3. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateBeforeExport`ï¼Œæ£€æŸ¥å­—æ®µå®Œæ•´æ€§ã€æè´¨åˆæ³•æ€§ã€LOD å±‚çº§  
4. **å†™å‡ºæ–‡ä»¶**ï¼šè°ƒç”¨ `writeVisualFile`ï¼Œç”Ÿæˆ `.visual` æ–‡ä»¶  
5. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **visual_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "visual_name": { "type": "string" },
      "geometry": { "type": "array", "items": { "type": "object" } },
      "materials": { "type": "array", "items": { "type": "string" } },
      "lod_levels": { "type": "array", "items": { "type": "string" } },
      "normals": { "type": "array", "items": { "type": "array", "items": { "type": "number" } } },
      "uvs": { "type": "array", "items": { "type": "array", "items": { "type": "number" } } },
      "export_path": { "type": "string" }
    },
    "required": ["visual_name","geometry","materials","export_path"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_VisualExportTools`  
- **æŒ‰é’®**ï¼š  
  - `btnExportVisual` â†’ â€œExport Visualâ€  
  - `btnSetExportPath` â†’ è®¾ç½®å¯¼å‡ºè·¯å¾„  
  - `chkIncludeLODs` â†’ æ˜¯å¦å¯¼å‡º LOD  
  - `chkExportNormals` â†’ æ˜¯å¦å¯¼å‡ºæ³•çº¿  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªé€‰æ‹©å¯¹è±¡ â†’ æŠ¥é”™  
  - æè´¨ç¼ºå¤±æˆ–ä¸æ”¯æŒ â†’ æŠ¥é”™  
  - LOD å±‚çº§ä¸å®Œæ•´ â†’ è­¦å‘Š  
  - å¯¼å‡ºè·¯å¾„æ— æ•ˆ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 2101ï¼šæœªé€‰æ‹©å¯¹è±¡  
  - 2102ï¼šæè´¨ä¸åˆæ³•  
  - 2103ï¼šLOD ç¼ºå¤±  
  - 2104ï¼šè·¯å¾„é”™è¯¯  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`export/visual_export.py`  
- **API æ˜ å°„**ï¼š  
  - `collectGeometry` â†’ `bpy.data.objects[...]` + `mesh.vertices` / `mesh.polygons`  
  - `collectMaterials` â†’ `obj.material_slots`  
  - `collectLODs` â†’ Blender ä¸­éœ€è‡ªå®šä¹‰ LOD é›†åˆï¼ˆå¯ç”¨ Collection æˆ–è‡ªå®šä¹‰å±æ€§ï¼‰  
  - `writeVisualFile` â†’ Python `open(..., "w")` å†™ JSON/XML  
- **é£é™©**ï¼š  
  - Blender æ²¡æœ‰åŸç”Ÿ LOD æ¦‚å¿µï¼Œéœ€è¦å›¢é˜Ÿå®šä¹‰è§„åˆ™  
  - æè´¨ç³»ç»Ÿä¸ Max ä¸åŒï¼Œéœ€è¦æ˜ å°„è¡¨  

---

## æµ‹è¯•æ¸…å•
- å•å¯¹è±¡å¯¼å‡ºï¼ˆç®€å•ç«‹æ–¹ä½“ï¼‰  
- å¤šæè´¨å¯¹è±¡å¯¼å‡º  
- å« LOD çš„å¯¹è±¡å¯¼å‡º  
- å¯¼å‡ºè·¯å¾„ä¸å­˜åœ¨ â†’ è‡ªåŠ¨åˆ›å»ºç›®å½•  
- å¯¼å‡ºå `.visual` æ–‡ä»¶èƒ½è¢«å¼•æ“æ­£ç¡®åŠ è½½  

---

## é£é™©ä¸ TODO
- LOD åœ¨ Blender çš„å®ç°æ–¹å¼éœ€å›¢é˜Ÿç¡®è®¤ï¼ˆCollection vs è‡ªå®šä¹‰å±æ€§ï¼‰  
- æè´¨å…¼å®¹æ€§ï¼ˆMax â†’ Blender â†’ BigWorldï¼‰éœ€è¦é¢å¤–æ˜ å°„è¡¨  
- `.visual` æ–‡ä»¶æ ¼å¼æ˜¯å¦ä¸º XML/JSON/äºŒè¿›åˆ¶ï¼Œéœ€è¦ç¡®è®¤å¼•æ“ç‰ˆæœ¬  

---


---

# BigWorld_Export_Animation.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  å°† 3ds Max ä¸­çš„éª¨éª¼åŠ¨ç”»ï¼ˆéª¨éª¼å±‚çº§ã€å…³é”®å¸§ã€é‡‡æ ·ç‡ã€å¸§èŒƒå›´ï¼‰å¯¼å‡ºä¸º BigWorld çš„ `.animation` æ–‡ä»¶ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  å±äºå¯¼å‡ºç±»æ–‡ä»¶ï¼Œé€šå¸¸ä¸ `Export_Visual` é…åˆä½¿ç”¨ï¼šVisual æä¾›æ¨¡å‹ï¼ŒAnimation æä¾›åŠ¨ä½œã€‚

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰ä¸­çš„éª¨éª¼å¯¹è±¡æˆ–ç»‘å®šçš„è’™çš®æ¨¡å‹  
  - åŠ¨ç”»å¸§èŒƒå›´ï¼ˆèµ·å§‹å¸§ã€ç»“æŸå¸§ï¼‰  
  - é‡‡æ ·ç‡ï¼ˆfps æˆ–å…³é”®å¸§é—´éš”ï¼‰  
  - å¯¼å‡ºè·¯å¾„ï¼ˆç”¨æˆ·æŒ‡å®šæˆ–é»˜è®¤è·¯å¾„ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€æ–‡ä»¶å†™å…¥å·¥å…·ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒåŠ¨ç”»æ•°æ®å®Œæ•´æ€§ï¼‰  
  - æ¨¡å‹å¿…é¡»æœ‰éª¨éª¼ç»‘å®šï¼Œä¸”åŠ¨ç”»æ›²çº¿å­˜åœ¨  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `exportAnimation()`ï¼šä¸»å¯¼å‡ºå…¥å£  
  - `collectBones()`ï¼šæ”¶é›†éª¨éª¼å±‚çº§ä¸åç§°  
  - `collectKeyframes()`ï¼šé‡‡æ ·å…³é”®å¸§æ•°æ®ï¼ˆä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰  
  - `resampleAnimation()`ï¼šæ ¹æ®é‡‡æ ·ç‡é‡é‡‡æ ·  
  - `writeAnimationFile()`ï¼šå†™å‡º `.animation` æ–‡ä»¶  
  - `validateBeforeExport()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `AnimationData`ï¼šåŒ…å« bonesã€keyframesã€frame_rangeã€fpsã€export_path  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `exportAnimation()`  
2. **æ”¶é›†æ•°æ®**ï¼šè°ƒç”¨ `collectBones`ã€`collectKeyframes`  
3. **é‡é‡‡æ ·**ï¼šè°ƒç”¨ `resampleAnimation`ï¼Œç¡®ä¿å…³é”®å¸§é—´éš”ç»Ÿä¸€  
4. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateBeforeExport`ï¼Œæ£€æŸ¥éª¨éª¼ä¸€è‡´æ€§ã€å¸§èŒƒå›´åˆæ³•æ€§  
5. **å†™å‡ºæ–‡ä»¶**ï¼šè°ƒç”¨ `writeAnimationFile`ï¼Œç”Ÿæˆ `.animation` æ–‡ä»¶  
6. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **animation_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "animation_name": { "type": "string" },
      "bones": { "type": "array", "items": { "type": "string" } },
      "keyframes": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "frame": { "type": "integer" },
            "bone": { "type": "string" },
            "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
            "rotation": { "type": "array", "items": { "type": "number" }, "minItems": 4, "maxItems": 4 },
            "scale": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 }
          },
          "required": ["frame","bone","position","rotation"]
        }
      },
      "frame_range": { "type": "array", "items": { "type": "integer" }, "minItems": 2, "maxItems": 2 },
      "fps": { "type": "integer" },
      "export_path": { "type": "string" }
    },
    "required": ["animation_name","bones","keyframes","frame_range","fps","export_path"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_AnimationExportTools`  
- **æŒ‰é’®**ï¼š  
  - `btnExportAnimation` â†’ â€œExport Animationâ€  
  - `btnSetFrameRange` â†’ è®¾ç½®å¸§èŒƒå›´  
  - `spnFPS` â†’ è®¾ç½®é‡‡æ ·ç‡ï¼ˆfpsï¼‰  
  - `chkResample` â†’ æ˜¯å¦å¼ºåˆ¶é‡é‡‡æ ·  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªé€‰æ‹©éª¨éª¼ â†’ æŠ¥é”™  
  - å¸§èŒƒå›´éæ³•ï¼ˆèµ·å§‹ â‰¥ ç»“æŸï¼‰ â†’ æŠ¥é”™  
  - éª¨éª¼ç¼ºå¤±æˆ–æœªç»‘å®š â†’ æŠ¥é”™  
  - å…³é”®å¸§ä¸ºç©º â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 2201ï¼šæœªé€‰æ‹©éª¨éª¼  
  - 2202ï¼šå¸§èŒƒå›´é”™è¯¯  
  - 2203ï¼šéª¨éª¼æœªç»‘å®š  
  - 2204ï¼šå…³é”®å¸§ç¼ºå¤±  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`export/animation_export.py`  
- **API æ˜ å°„**ï¼š  
  - `collectBones` â†’ `obj.pose.bones`  
  - `collectKeyframes` â†’ `bpy.context.scene.frame_set()` + `bone.matrix`  
  - `resampleAnimation` â†’ Python å¾ªç¯é‡‡æ ·  
  - `writeAnimationFile` â†’ JSON/XML å†™å‡º  
- **é£é™©**ï¼š  
  - Blender çš„éª¨éª¼ä½“ç³»ï¼ˆArmatureï¼‰ä¸ Max ä¸åŒï¼Œéœ€è¦æ˜ å°„è¡¨  
  - å››å…ƒæ•°æ—‹è½¬ä¸æ¬§æ‹‰è§’çš„å·®å¼‚ï¼Œéœ€è¦ç»Ÿä¸€ä¸ºå››å…ƒæ•°  

---

## æµ‹è¯•æ¸…å•
- å•éª¨éª¼åŠ¨ç”»å¯¼å‡º  
- å¤šéª¨éª¼ç»‘å®šåŠ¨ç”»å¯¼å‡º  
- å¸§èŒƒå›´è¶…å‡ºåœºæ™¯èŒƒå›´ â†’ æŠ¥é”™  
- é‡‡æ ·ç‡è¿‡é«˜/è¿‡ä½ â†’ æ£€æŸ¥é‡é‡‡æ ·ç»“æœ  
- å¯¼å‡ºå `.animation` æ–‡ä»¶èƒ½è¢«å¼•æ“æ­£ç¡®åŠ è½½  

---

## é£é™©ä¸ TODO
- éª¨éª¼å‘½åè§„èŒƒï¼ˆMax vs Blender vs BigWorldï¼‰éœ€ç»Ÿä¸€  
- åŠ¨ç”»æ–‡ä»¶æ ¼å¼æ˜¯å¦ä¸º XML/JSON/äºŒè¿›åˆ¶ï¼Œéœ€è¦ç¡®è®¤å¼•æ“ç‰ˆæœ¬  
- æ˜¯å¦æ”¯æŒè’™çš®æƒé‡å¯¼å‡ºï¼ˆå¯èƒ½åœ¨ Visual ä¸­å¤„ç†ï¼‰  

---


---

# BigWorld_Export_Animation.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  å°† 3ds Max ä¸­çš„éª¨éª¼åŠ¨ç”»ï¼ˆéª¨éª¼å±‚çº§ã€å…³é”®å¸§ã€é‡‡æ ·ç‡ã€å¸§èŒƒå›´ï¼‰å¯¼å‡ºä¸º BigWorld çš„ `.animation` æ–‡ä»¶ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  å±äºå¯¼å‡ºç±»æ–‡ä»¶ï¼Œé€šå¸¸ä¸ `Export_Visual` é…åˆä½¿ç”¨ï¼šVisual æä¾›æ¨¡å‹ï¼ŒAnimation æä¾›åŠ¨ä½œã€‚

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰ä¸­çš„éª¨éª¼å¯¹è±¡æˆ–ç»‘å®šçš„è’™çš®æ¨¡å‹  
  - åŠ¨ç”»å¸§èŒƒå›´ï¼ˆèµ·å§‹å¸§ã€ç»“æŸå¸§ï¼‰  
  - é‡‡æ ·ç‡ï¼ˆfps æˆ–å…³é”®å¸§é—´éš”ï¼‰  
  - å¯¼å‡ºè·¯å¾„ï¼ˆç”¨æˆ·æŒ‡å®šæˆ–é»˜è®¤è·¯å¾„ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€æ–‡ä»¶å†™å…¥å·¥å…·ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒåŠ¨ç”»æ•°æ®å®Œæ•´æ€§ï¼‰  
  - æ¨¡å‹å¿…é¡»æœ‰éª¨éª¼ç»‘å®šï¼Œä¸”åŠ¨ç”»æ›²çº¿å­˜åœ¨  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `exportAnimation()`ï¼šä¸»å¯¼å‡ºå…¥å£  
  - `collectBones()`ï¼šæ”¶é›†éª¨éª¼å±‚çº§ä¸åç§°  
  - `collectKeyframes()`ï¼šé‡‡æ ·å…³é”®å¸§æ•°æ®ï¼ˆä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰  
  - `resampleAnimation()`ï¼šæ ¹æ®é‡‡æ ·ç‡é‡é‡‡æ ·  
  - `writeAnimationFile()`ï¼šå†™å‡º `.animation` æ–‡ä»¶  
  - `validateBeforeExport()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `AnimationData`ï¼šåŒ…å« bonesã€keyframesã€frame_rangeã€fpsã€export_path  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `exportAnimation()`  
2. **æ”¶é›†æ•°æ®**ï¼šè°ƒç”¨ `collectBones`ã€`collectKeyframes`  
3. **é‡é‡‡æ ·**ï¼šè°ƒç”¨ `resampleAnimation`ï¼Œç¡®ä¿å…³é”®å¸§é—´éš”ç»Ÿä¸€  
4. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateBeforeExport`ï¼Œæ£€æŸ¥éª¨éª¼ä¸€è‡´æ€§ã€å¸§èŒƒå›´åˆæ³•æ€§  
5. **å†™å‡ºæ–‡ä»¶**ï¼šè°ƒç”¨ `writeAnimationFile`ï¼Œç”Ÿæˆ `.animation` æ–‡ä»¶  
6. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **animation_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "animation_name": { "type": "string" },
      "bones": { "type": "array", "items": { "type": "string" } },
      "keyframes": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "frame": { "type": "integer" },
            "bone": { "type": "string" },
            "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
            "rotation": { "type": "array", "items": { "type": "number" }, "minItems": 4, "maxItems": 4 },
            "scale": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 }
          },
          "required": ["frame","bone","position","rotation"]
        }
      },
      "frame_range": { "type": "array", "items": { "type": "integer" }, "minItems": 2, "maxItems": 2 },
      "fps": { "type": "integer" },
      "export_path": { "type": "string" }
    },
    "required": ["animation_name","bones","keyframes","frame_range","fps","export_path"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_AnimationExportTools`  
- **æŒ‰é’®**ï¼š  
  - `btnExportAnimation` â†’ â€œExport Animationâ€  
  - `btnSetFrameRange` â†’ è®¾ç½®å¸§èŒƒå›´  
  - `spnFPS` â†’ è®¾ç½®é‡‡æ ·ç‡ï¼ˆfpsï¼‰  
  - `chkResample` â†’ æ˜¯å¦å¼ºåˆ¶é‡é‡‡æ ·  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªé€‰æ‹©éª¨éª¼ â†’ æŠ¥é”™  
  - å¸§èŒƒå›´éæ³•ï¼ˆèµ·å§‹ â‰¥ ç»“æŸï¼‰ â†’ æŠ¥é”™  
  - éª¨éª¼ç¼ºå¤±æˆ–æœªç»‘å®š â†’ æŠ¥é”™  
  - å…³é”®å¸§ä¸ºç©º â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 2201ï¼šæœªé€‰æ‹©éª¨éª¼  
  - 2202ï¼šå¸§èŒƒå›´é”™è¯¯  
  - 2203ï¼šéª¨éª¼æœªç»‘å®š  
  - 2204ï¼šå…³é”®å¸§ç¼ºå¤±  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`export/animation_export.py`  
- **API æ˜ å°„**ï¼š  
  - `collectBones` â†’ `obj.pose.bones`  
  - `collectKeyframes` â†’ `bpy.context.scene.frame_set()` + `bone.matrix`  
  - `resampleAnimation` â†’ Python å¾ªç¯é‡‡æ ·  
  - `writeAnimationFile` â†’ JSON/XML å†™å‡º  
- **é£é™©**ï¼š  
  - Blender çš„éª¨éª¼ä½“ç³»ï¼ˆArmatureï¼‰ä¸ Max ä¸åŒï¼Œéœ€è¦æ˜ å°„è¡¨  
  - å››å…ƒæ•°æ—‹è½¬ä¸æ¬§æ‹‰è§’çš„å·®å¼‚ï¼Œéœ€è¦ç»Ÿä¸€ä¸ºå››å…ƒæ•°  

---

## æµ‹è¯•æ¸…å•
- å•éª¨éª¼åŠ¨ç”»å¯¼å‡º  
- å¤šéª¨éª¼ç»‘å®šåŠ¨ç”»å¯¼å‡º  
- å¸§èŒƒå›´è¶…å‡ºåœºæ™¯èŒƒå›´ â†’ æŠ¥é”™  
- é‡‡æ ·ç‡è¿‡é«˜/è¿‡ä½ â†’ æ£€æŸ¥é‡é‡‡æ ·ç»“æœ  
- å¯¼å‡ºå `.animation` æ–‡ä»¶èƒ½è¢«å¼•æ“æ­£ç¡®åŠ è½½  

---

## é£é™©ä¸ TODO
- éª¨éª¼å‘½åè§„èŒƒï¼ˆMax vs Blender vs BigWorldï¼‰éœ€ç»Ÿä¸€  
- åŠ¨ç”»æ–‡ä»¶æ ¼å¼æ˜¯å¦ä¸º XML/JSON/äºŒè¿›åˆ¶ï¼Œéœ€è¦ç¡®è®¤å¼•æ“ç‰ˆæœ¬  
- æ˜¯å¦æ”¯æŒè’™çš®æƒé‡å¯¼å‡ºï¼ˆå¯èƒ½åœ¨ Visual ä¸­å¤„ç†ï¼‰  

---


---

# BigWorld_Define_Hitboxes.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  åœ¨ 3ds Max åœºæ™¯ä¸­å®šä¹‰ HitBoxï¼ˆç¢°æ’ç›’ï¼‰ï¼Œé€šå¸¸ä¸éª¨éª¼ç»‘å®šï¼Œç”¨äºç‰©ç†æ¨¡æ‹Ÿã€ç¢°æ’æ£€æµ‹å’Œå—å‡»åˆ¤å®šã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  ä¸ `Export_HitBox_to_xml.mcr` é…åˆä½¿ç”¨ï¼šæœ¬æ¨¡å—è´Ÿè´£åˆ›å»ºä¸ç¼–è¾‘ï¼Œåè€…è´Ÿè´£å¯¼å‡ºã€‚

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„éª¨éª¼æˆ–æ¨¡å‹èŠ‚ç‚¹  
  - ç”¨æˆ·æŒ‡å®šçš„ HitBox åç§°ã€å°ºå¯¸ã€ä½ç½®ã€æ—‹è½¬ã€ç±»å‹ï¼ˆbox/sphere/capsuleï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€å·¥å…·å‡½æ•°ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒ HitBox å®šä¹‰åˆæ³•æ€§ï¼‰  
  - åœºæ™¯ä¸­å­˜åœ¨å¯ç»‘å®šçš„éª¨éª¼æˆ–å¯¹è±¡  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `createHitBox()`ï¼šåˆ›å»ºæ–°çš„ HitBox èŠ‚ç‚¹  
  - `attachHitBoxToBone(bone)`ï¼šå°† HitBox ç»‘å®šåˆ°éª¨éª¼  
  - `updateHitBoxProperties()`ï¼šä¿®æ”¹å°ºå¯¸ã€ä½ç½®ã€æ—‹è½¬  
  - `deleteHitBox()`ï¼šåˆ é™¤é€‰ä¸­çš„ HitBox  
  - `listHitBoxes()`ï¼šåˆ—å‡ºå½“å‰åœºæ™¯æ‰€æœ‰ HitBox  
  - `validateHitBox()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `HitBoxDefinition`ï¼šåŒ…å« nameã€boneã€dimensionsã€positionã€rotationã€type  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `createHitBox()`  
2. **ç»‘å®šéª¨éª¼**ï¼šè°ƒç”¨ `attachHitBoxToBone`  
3. **è®¾ç½®å±æ€§**ï¼šé€šè¿‡ UI è¾“å…¥æˆ–ä¿®æ”¹ â†’ `updateHitBoxProperties`  
4. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateHitBox`ï¼Œæ£€æŸ¥åˆæ³•æ€§  
5. **ä¿å­˜å®šä¹‰**ï¼šå­˜å‚¨åœ¨åœºæ™¯è‡ªå®šä¹‰å±æ€§æˆ–ä¸´æ—¶é›†åˆä¸­  
6. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **hitbox_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "hitbox_name": { "type": "string" },
      "bone": { "type": "string" },
      "dimensions": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "rotation": { "type": "array", "items": { "type": "number" }, "minItems": 4, "maxItems": 4 },
      "type": { "type": "string", "enum": ["box","sphere","capsule"] }
    },
    "required": ["hitbox_name","bone","dimensions","position","rotation","type"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_HitBoxTools`  
- **æŒ‰é’®**ï¼š  
  - `btnCreateHitBox` â†’ â€œCreate HitBoxâ€  
  - `btnAttachBone` â†’ ç»‘å®šéª¨éª¼  
  - `btnUpdateHitBox` â†’ æ›´æ–°å±æ€§  
  - `btnDeleteHitBox` â†’ åˆ é™¤  
  - `btnListHitBoxes` â†’ åˆ—å‡ºæ‰€æœ‰  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªé€‰æ‹©éª¨éª¼ â†’ æŠ¥é”™  
  - HitBox åç§°é‡å¤ â†’ æŠ¥é”™  
  - å°ºå¯¸éæ³•ï¼ˆé›¶æˆ–è´Ÿæ•°ï¼‰ â†’ æŠ¥é”™  
  - ç±»å‹ä¸æ”¯æŒ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 2401ï¼šæœªé€‰æ‹©éª¨éª¼  
  - 2402ï¼šåç§°é‡å¤  
  - 2403ï¼šå°ºå¯¸éæ³•  
  - 2404ï¼šç±»å‹é”™è¯¯  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`tools/hitbox_define.py`  
- **API æ˜ å°„**ï¼š  
  - `createHitBox` â†’ åœ¨ Blender ä¸­åˆ›å»º Empty æˆ– Mesh Cube/Sphereï¼Œé™„åŠ è‡ªå®šä¹‰å±æ€§  
  - `attachHitBoxToBone` â†’ å°† Empty è®¾ä¸º Bone çš„å­å¯¹è±¡ï¼ˆArmature parentingï¼‰  
  - `updateHitBoxProperties` â†’ ä¿®æ”¹ Empty çš„ scale/rotation/location  
  - `listHitBoxes` â†’ éå†åœºæ™¯ä¸­å¸¦æœ‰ `hitbox_type` å±æ€§çš„å¯¹è±¡  
- **é£é™©**ï¼š  
  - Blender æ²¡æœ‰åŸç”Ÿ HitBox æ¦‚å¿µï¼Œéœ€è¦å›¢é˜Ÿç»Ÿä¸€è§„èŒƒï¼ˆæ¨è Empty + è‡ªå®šä¹‰å±æ€§ï¼‰  
  - éª¨éª¼ç»‘å®šæ–¹å¼ï¼ˆParent vs Constraintï¼‰éœ€ç¡®è®¤  

---

## æµ‹è¯•æ¸…å•
- åˆ›å»ºå•ä¸ª HitBox å¹¶ç»‘å®šéª¨éª¼  
- åˆ›å»ºå¤šä¸ª HitBoxï¼Œæ£€æŸ¥åç§°å”¯ä¸€æ€§  
- ä¿®æ”¹å°ºå¯¸/ä½ç½®/æ—‹è½¬ â†’ æ­£ç¡®æ›´æ–°  
- åˆ é™¤ HitBox â†’ åœºæ™¯ä¸­æ¶ˆå¤±  
- åˆ—å‡ºæ‰€æœ‰ HitBox â†’ è¾“å‡ºå®Œæ•´åˆ—è¡¨  
- éæ³•è¾“å…¥ï¼ˆå°ºå¯¸ä¸º 0ã€æ— éª¨éª¼ï¼‰ â†’ æŠ¥é”™  

---

## é£é™©ä¸ TODO
- HitBox åœ¨ Blender ä¸­çš„è¡¨ç¤ºæ–¹å¼éœ€å›¢é˜Ÿæœ€ç»ˆç¡®è®¤ï¼ˆEmpty vs Meshï¼‰  
- éª¨éª¼å‘½åä¸€è‡´æ€§ï¼ˆMax vs Blender vs BigWorldï¼‰éœ€ç»Ÿä¸€  
- æ˜¯å¦éœ€è¦æ”¯æŒæ‰¹é‡åˆ›å»º/æ‰¹é‡ä¿®æ”¹åŠŸèƒ½  

---


---

# BigWorld_Exit_Portal.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  åœ¨åœºæ™¯ä¸­åˆ›å»ºå¹¶ç®¡ç† **Exit Portal**ï¼Œç”¨äºå®šä¹‰åœºæ™¯å‡ºå£åŒºåŸŸï¼Œé€šå¸¸ä¸å¼•æ“çš„ç©ºé—´åˆ’åˆ†å’Œå¯è§æ€§ç³»ç»Ÿé…åˆä½¿ç”¨ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  Portal ç³»åˆ—çš„ç¬¬ä¸€ä¸ªæ¨¡å—ï¼Œåç»­è¿˜æœ‰ Heavenã€Standardã€Label Portalã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„ä½ç½®ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¹³é¢æˆ–çŸ©å½¢åŒºåŸŸï¼‰  
  - Portal åç§°  
  - æ³•çº¿æ–¹å‘ï¼ˆå†³å®š Portal çš„æœå‘ï¼‰  
  - å®½åº¦ã€é«˜åº¦ï¼ˆå®šä¹‰ Portal çš„å°ºå¯¸ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€å·¥å…·å‡½æ•°ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒ Portal å®šä¹‰åˆæ³•æ€§ï¼‰  
  - åœºæ™¯ä¸­å­˜åœ¨å¯æ”¾ç½® Portal çš„å‡ ä½•æˆ–å‚è€ƒç‚¹  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `createExitPortal()`ï¼šåˆ›å»ºæ–°çš„ Exit Portal  
  - `setPortalProperties()`ï¼šè®¾ç½®åç§°ã€å°ºå¯¸ã€æ³•çº¿  
  - `attachPortalToScene()`ï¼šå°† Portal èŠ‚ç‚¹åŠ å…¥åœºæ™¯  
  - `deleteExitPortal()`ï¼šåˆ é™¤ Portal  
  - `listExitPortals()`ï¼šåˆ—å‡ºæ‰€æœ‰ Exit Portal  
  - `validateExitPortal()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `PortalData`ï¼šåŒ…å« nameã€positionã€normalã€widthã€heightã€type=exit  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `createExitPortal()`  
2. **è®¾ç½®å±æ€§**ï¼šè°ƒç”¨ `setPortalProperties`ï¼ˆåç§°ã€æ³•çº¿ã€å°ºå¯¸ï¼‰  
3. **ç»‘å®šåœºæ™¯**ï¼šè°ƒç”¨ `attachPortalToScene`  
4. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateExitPortal`ï¼Œæ£€æŸ¥æ³•çº¿åˆæ³•æ€§ã€å°ºå¯¸åˆç†æ€§  
5. **ä¿å­˜å®šä¹‰**ï¼šå­˜å‚¨åœ¨åœºæ™¯è‡ªå®šä¹‰å±æ€§æˆ–é›†åˆä¸­  
6. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **portal_schema.json**ï¼ˆExit Portal éƒ¨åˆ†ï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "portal_name": { "type": "string" },
      "type": { "type": "string", "enum": ["exit"] },
      "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "normal": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "width": { "type": "number" },
      "height": { "type": "number" }
    },
    "required": ["portal_name","type","position","normal","width","height"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_ExitPortalTools`  
- **æŒ‰é’®**ï¼š  
  - `btnCreateExitPortal` â†’ â€œCreate Exit Portalâ€  
  - `btnUpdateExitPortal` â†’ æ›´æ–°å±æ€§  
  - `btnDeleteExitPortal` â†’ åˆ é™¤  
  - `btnListExitPortals` â†’ åˆ—å‡ºæ‰€æœ‰  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªæŒ‡å®šæ³•çº¿ â†’ æŠ¥é”™  
  - å°ºå¯¸éæ³•ï¼ˆé›¶æˆ–è´Ÿæ•°ï¼‰ â†’ æŠ¥é”™  
  - åç§°é‡å¤ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 2501ï¼šæœªæŒ‡å®šæ³•çº¿  
  - 2502ï¼šå°ºå¯¸éæ³•  
  - 2503ï¼šåç§°é‡å¤  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`portal/exit_portal.py`  
- **API æ˜ å°„**ï¼š  
  - `createExitPortal` â†’ åœ¨ Blender ä¸­åˆ›å»º Empty æˆ– Planeï¼Œé™„åŠ è‡ªå®šä¹‰å±æ€§ `portal_type="exit"`  
  - `setPortalProperties` â†’ è®¾ç½®å¯¹è±¡çš„ locationã€scaleã€custom properties  
  - `listExitPortals` â†’ éå†åœºæ™¯ä¸­å¸¦æœ‰ `portal_type="exit"` çš„å¯¹è±¡  
- **é£é™©**ï¼š  
  - Blender æ²¡æœ‰åŸç”Ÿ Portal æ¦‚å¿µï¼Œéœ€è¦å›¢é˜Ÿç»Ÿä¸€è§„èŒƒï¼ˆæ¨è Empty + è‡ªå®šä¹‰å±æ€§ï¼‰  
  - æ³•çº¿æ–¹å‘éœ€é€šè¿‡å¯¹è±¡çš„å±€éƒ¨ Z è½´æˆ–è‡ªå®šä¹‰å±æ€§è¡¨ç¤º  

---

## æµ‹è¯•æ¸…å•
- åˆ›å»ºå•ä¸ª Exit Portal â†’ æ­£ç¡®æ˜¾ç¤º  
- ä¿®æ”¹å°ºå¯¸/æ³•çº¿ â†’ æ­£ç¡®æ›´æ–°  
- åˆ é™¤ Portal â†’ åœºæ™¯ä¸­æ¶ˆå¤±  
- åˆ—å‡ºæ‰€æœ‰ Portal â†’ è¾“å‡ºå®Œæ•´åˆ—è¡¨  
- éæ³•è¾“å…¥ï¼ˆæ³•çº¿ä¸ºé›¶å‘é‡ã€å°ºå¯¸ä¸º 0ï¼‰ â†’ æŠ¥é”™  

---

## é£é™©ä¸ TODO
- Portal åœ¨ Blender ä¸­çš„è¡¨ç¤ºæ–¹å¼éœ€å›¢é˜Ÿæœ€ç»ˆç¡®è®¤ï¼ˆEmpty vs Planeï¼‰  
- æ³•çº¿æ–¹å‘çš„å®šä¹‰æ–¹å¼éœ€ç»Ÿä¸€ï¼ˆå±€éƒ¨åæ ‡ vs è‡ªå®šä¹‰å±æ€§ï¼‰  
- ä¸å…¶ä»– Portal ç±»å‹ï¼ˆHeavenã€Standardã€Labelï¼‰çš„å­—æ®µä¸€è‡´æ€§éœ€ä¿æŒ  

---


---

# BigWorld_Heaven_Portal.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  åœ¨åœºæ™¯ä¸­åˆ›å»ºå¹¶ç®¡ç† **Heaven Portal**ï¼Œç”¨äºå®šä¹‰å¤©ç©ºæˆ–æ— é™è¿œèƒŒæ™¯çš„å¯è§æ€§å…¥å£ï¼Œé€šå¸¸ä¸å¼•æ“çš„å¤©ç©ºç›’ã€å…¨å±€å…‰ç…§æˆ–ç‰¹æ®Šæ¸²æŸ“å±‚é…åˆä½¿ç”¨ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  Portal ç³»åˆ—çš„ç¬¬äºŒä¸ªæ¨¡å—ï¼Œå’Œ Exit/Standard/Label Portal ä¸€èµ·æ„æˆå®Œæ•´çš„ç©ºé—´åˆ’åˆ†å·¥å…·é“¾ã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„ä½ç½®ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªçŸ©å½¢æˆ–å¹³é¢åŒºåŸŸï¼‰  
  - Portal åç§°  
  - æ³•çº¿æ–¹å‘ï¼ˆå†³å®š Portal çš„æœå‘ï¼‰  
  - å®½åº¦ã€é«˜åº¦ï¼ˆå®šä¹‰ Portal çš„å°ºå¯¸ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€å·¥å…·å‡½æ•°ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒ Portal å®šä¹‰åˆæ³•æ€§ï¼‰  
  - åœºæ™¯ä¸­å­˜åœ¨å¯æ”¾ç½® Portal çš„å‡ ä½•æˆ–å‚è€ƒç‚¹  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `createHeavenPortal()`ï¼šåˆ›å»ºæ–°çš„ Heaven Portal  
  - `setPortalProperties()`ï¼šè®¾ç½®åç§°ã€å°ºå¯¸ã€æ³•çº¿  
  - `attachPortalToScene()`ï¼šå°† Portal èŠ‚ç‚¹åŠ å…¥åœºæ™¯  
  - `deleteHeavenPortal()`ï¼šåˆ é™¤ Portal  
  - `listHeavenPortals()`ï¼šåˆ—å‡ºæ‰€æœ‰ Heaven Portal  
  - `validateHeavenPortal()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `PortalData`ï¼šåŒ…å« nameã€positionã€normalã€widthã€heightã€type=heaven  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `createHeavenPortal()`  
2. **è®¾ç½®å±æ€§**ï¼šè°ƒç”¨ `setPortalProperties`ï¼ˆåç§°ã€æ³•çº¿ã€å°ºå¯¸ï¼‰  
3. **ç»‘å®šåœºæ™¯**ï¼šè°ƒç”¨ `attachPortalToScene`  
4. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateHeavenPortal`ï¼Œæ£€æŸ¥æ³•çº¿åˆæ³•æ€§ã€å°ºå¯¸åˆç†æ€§  
5. **ä¿å­˜å®šä¹‰**ï¼šå­˜å‚¨åœ¨åœºæ™¯è‡ªå®šä¹‰å±æ€§æˆ–é›†åˆä¸­  
6. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **portal_schema.json**ï¼ˆHeaven Portal éƒ¨åˆ†ï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "portal_name": { "type": "string" },
      "type": { "type": "string", "enum": ["heaven"] },
      "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "normal": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "width": { "type": "number" },
      "height": { "type": "number" }
    },
    "required": ["portal_name","type","position","normal","width","height"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_HeavenPortalTools`  
- **æŒ‰é’®**ï¼š  
  - `btnCreateHeavenPortal` â†’ â€œCreate Heaven Portalâ€  
  - `btnUpdateHeavenPortal` â†’ æ›´æ–°å±æ€§  
  - `btnDeleteHeavenPortal` â†’ åˆ é™¤  
  - `btnListHeavenPortals` â†’ åˆ—å‡ºæ‰€æœ‰  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªæŒ‡å®šæ³•çº¿ â†’ æŠ¥é”™  
  - å°ºå¯¸éæ³•ï¼ˆé›¶æˆ–è´Ÿæ•°ï¼‰ â†’ æŠ¥é”™  
  - åç§°é‡å¤ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 2601ï¼šæœªæŒ‡å®šæ³•çº¿  
  - 2602ï¼šå°ºå¯¸éæ³•  
  - 2603ï¼šåç§°é‡å¤  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`portal/heaven_portal.py`  
- **API æ˜ å°„**ï¼š  
  - `createHeavenPortal` â†’ åœ¨ Blender ä¸­åˆ›å»º Empty æˆ– Planeï¼Œé™„åŠ è‡ªå®šä¹‰å±æ€§ `portal_type="heaven"`  
  - `setPortalProperties` â†’ è®¾ç½®å¯¹è±¡çš„ locationã€scaleã€custom properties  
  - `listHeavenPortals` â†’ éå†åœºæ™¯ä¸­å¸¦æœ‰ `portal_type="heaven"` çš„å¯¹è±¡  
- **é£é™©**ï¼š  
  - Blender æ²¡æœ‰åŸç”Ÿ Heaven Portal æ¦‚å¿µï¼Œéœ€è¦å›¢é˜Ÿç»Ÿä¸€è§„èŒƒï¼ˆæ¨è Empty + è‡ªå®šä¹‰å±æ€§ï¼‰  
  - Heaven Portal çš„æ¸²æŸ“è¯­ä¹‰ï¼ˆå¤©ç©ºç›’/å…¨å±€å…‰ç…§ï¼‰éœ€ä¸å¼•æ“å¯¹é½  

---

## æµ‹è¯•æ¸…å•
- åˆ›å»ºå•ä¸ª Heaven Portal â†’ æ­£ç¡®æ˜¾ç¤º  
- ä¿®æ”¹å°ºå¯¸/æ³•çº¿ â†’ æ­£ç¡®æ›´æ–°  
- åˆ é™¤ Portal â†’ åœºæ™¯ä¸­æ¶ˆå¤±  
- åˆ—å‡ºæ‰€æœ‰ Portal â†’ è¾“å‡ºå®Œæ•´åˆ—è¡¨  
- éæ³•è¾“å…¥ï¼ˆæ³•çº¿ä¸ºé›¶å‘é‡ã€å°ºå¯¸ä¸º 0ï¼‰ â†’ æŠ¥é”™  

---

## é£é™©ä¸ TODO
- Heaven Portal åœ¨ Blender ä¸­çš„è¯­ä¹‰éœ€å›¢é˜Ÿç¡®è®¤ï¼ˆæ˜¯å¦ç›´æ¥æ˜ å°„ä¸ºå¤©ç©ºç›’å…¥å£ï¼‰  
- æ³•çº¿æ–¹å‘çš„å®šä¹‰æ–¹å¼éœ€ç»Ÿä¸€ï¼ˆå±€éƒ¨åæ ‡ vs è‡ªå®šä¹‰å±æ€§ï¼‰  
- ä¸å…¶ä»– Portal ç±»å‹çš„å­—æ®µä¸€è‡´æ€§éœ€ä¿æŒ  

---


---

# BigWorld_Standard_Portal.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  åœ¨åœºæ™¯ä¸­åˆ›å»ºå¹¶ç®¡ç† **Standard Portal**ï¼Œç”¨äºå®šä¹‰æ™®é€šçš„ç©ºé—´è¿æ¥åŒºåŸŸï¼Œé€šå¸¸ç”¨äºå®¤å†…å¤–ç©ºé—´åˆ‡æ¢ã€å¯è§æ€§è£å‰ªå’Œæ€§èƒ½ä¼˜åŒ–ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  Portal ç³»åˆ—çš„ç¬¬ä¸‰ä¸ªæ¨¡å—ï¼Œå’Œ Exit/Heaven/Label Portal ä¸€èµ·æ„æˆå®Œæ•´çš„ç©ºé—´åˆ’åˆ†å·¥å…·é“¾ã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„ä½ç½®ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªçŸ©å½¢æˆ–å¹³é¢åŒºåŸŸï¼‰  
  - Portal åç§°  
  - æ³•çº¿æ–¹å‘ï¼ˆå†³å®š Portal çš„æœå‘ï¼‰  
  - å®½åº¦ã€é«˜åº¦ï¼ˆå®šä¹‰ Portal çš„å°ºå¯¸ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€å·¥å…·å‡½æ•°ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒ Portal å®šä¹‰åˆæ³•æ€§ï¼‰  
  - åœºæ™¯ä¸­å­˜åœ¨å¯æ”¾ç½® Portal çš„å‡ ä½•æˆ–å‚è€ƒç‚¹  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `createStandardPortal()`ï¼šåˆ›å»ºæ–°çš„ Standard Portal  
  - `setPortalProperties()`ï¼šè®¾ç½®åç§°ã€å°ºå¯¸ã€æ³•çº¿  
  - `attachPortalToScene()`ï¼šå°† Portal èŠ‚ç‚¹åŠ å…¥åœºæ™¯  
  - `deleteStandardPortal()`ï¼šåˆ é™¤ Portal  
  - `listStandardPortals()`ï¼šåˆ—å‡ºæ‰€æœ‰ Standard Portal  
  - `validateStandardPortal()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `PortalData`ï¼šåŒ…å« nameã€positionã€normalã€widthã€heightã€type=standard  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `createStandardPortal()`  
2. **è®¾ç½®å±æ€§**ï¼šè°ƒç”¨ `setPortalProperties`ï¼ˆåç§°ã€æ³•çº¿ã€å°ºå¯¸ï¼‰  
3. **ç»‘å®šåœºæ™¯**ï¼šè°ƒç”¨ `attachPortalToScene`  
4. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateStandardPortal`ï¼Œæ£€æŸ¥æ³•çº¿åˆæ³•æ€§ã€å°ºå¯¸åˆç†æ€§  
5. **ä¿å­˜å®šä¹‰**ï¼šå­˜å‚¨åœ¨åœºæ™¯è‡ªå®šä¹‰å±æ€§æˆ–é›†åˆä¸­  
6. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **portal_schema.json**ï¼ˆStandard Portal éƒ¨åˆ†ï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "portal_name": { "type": "string" },
      "type": { "type": "string", "enum": ["standard"] },
      "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "normal": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "width": { "type": "number" },
      "height": { "type": "number" }
    },
    "required": ["portal_name","type","position","normal","width","height"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_StandardPortalTools`  
- **æŒ‰é’®**ï¼š  
  - `btnCreateStandardPortal` â†’ â€œCreate Standard Portalâ€  
  - `btnUpdateStandardPortal` â†’ æ›´æ–°å±æ€§  
  - `btnDeleteStandardPortal` â†’ åˆ é™¤  
  - `btnListStandardPortals` â†’ åˆ—å‡ºæ‰€æœ‰  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªæŒ‡å®šæ³•çº¿ â†’ æŠ¥é”™  
  - å°ºå¯¸éæ³•ï¼ˆé›¶æˆ–è´Ÿæ•°ï¼‰ â†’ æŠ¥é”™  
  - åç§°é‡å¤ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 2701ï¼šæœªæŒ‡å®šæ³•çº¿  
  - 2702ï¼šå°ºå¯¸éæ³•  
  - 2703ï¼šåç§°é‡å¤  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`portal/standard_portal.py`  
- **API æ˜ å°„**ï¼š  
  - `createStandardPortal` â†’ åœ¨ Blender ä¸­åˆ›å»º Empty æˆ– Planeï¼Œé™„åŠ è‡ªå®šä¹‰å±æ€§ `portal_type="standard"`  
  - `setPortalProperties` â†’ è®¾ç½®å¯¹è±¡çš„ locationã€scaleã€custom properties  
  - `listStandardPortals` â†’ éå†åœºæ™¯ä¸­å¸¦æœ‰ `portal_type="standard"` çš„å¯¹è±¡  
- **é£é™©**ï¼š  
  - Blender æ²¡æœ‰åŸç”Ÿ Portal æ¦‚å¿µï¼Œéœ€è¦å›¢é˜Ÿç»Ÿä¸€è§„èŒƒï¼ˆæ¨è Empty + è‡ªå®šä¹‰å±æ€§ï¼‰  
  - æ³•çº¿æ–¹å‘éœ€é€šè¿‡å¯¹è±¡çš„å±€éƒ¨ Z è½´æˆ–è‡ªå®šä¹‰å±æ€§è¡¨ç¤º  

---

## æµ‹è¯•æ¸…å•
- åˆ›å»ºå•ä¸ª Standard Portal â†’ æ­£ç¡®æ˜¾ç¤º  
- ä¿®æ”¹å°ºå¯¸/æ³•çº¿ â†’ æ­£ç¡®æ›´æ–°  
- åˆ é™¤ Portal â†’ åœºæ™¯ä¸­æ¶ˆå¤±  
- åˆ—å‡ºæ‰€æœ‰ Portal â†’ è¾“å‡ºå®Œæ•´åˆ—è¡¨  
- éæ³•è¾“å…¥ï¼ˆæ³•çº¿ä¸ºé›¶å‘é‡ã€å°ºå¯¸ä¸º 0ï¼‰ â†’ æŠ¥é”™  

---

## é£é™©ä¸ TODO
- Standard Portal åœ¨ Blender ä¸­çš„è¡¨ç¤ºæ–¹å¼éœ€å›¢é˜Ÿæœ€ç»ˆç¡®è®¤ï¼ˆEmpty vs Planeï¼‰  
- æ³•çº¿æ–¹å‘çš„å®šä¹‰æ–¹å¼éœ€ç»Ÿä¸€ï¼ˆå±€éƒ¨åæ ‡ vs è‡ªå®šä¹‰å±æ€§ï¼‰  
- ä¸å…¶ä»– Portal ç±»å‹çš„å­—æ®µä¸€è‡´æ€§éœ€ä¿æŒ  

---


---

# BigWorld_Label_Portal.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  åœ¨åœºæ™¯ä¸­åˆ›å»ºå¹¶ç®¡ç† **Label Portal**ï¼Œä¸å…¶ä»– Portalï¼ˆExitã€Heavenã€Standardï¼‰ä¸åŒï¼Œå®ƒä¸»è¦ç”¨äºæ ‡è®°å’Œé€»è¾‘åˆ†åŒºï¼Œä¾‹å¦‚ç»™ Portal æ·»åŠ è¯­ä¹‰æ ‡ç­¾ï¼ˆå¦‚â€œå®¤å†…å…¥å£â€ã€â€œä»»åŠ¡åŒºåŸŸâ€ï¼‰ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  Portal ç³»åˆ—çš„æœ€åä¸€ä¸ªæ¨¡å—ï¼Œé€šå¸¸ä¸å…¶ä»– Portal é…åˆä½¿ç”¨ï¼Œç”¨äºå¢å¼ºå¯è§æ€§è£å‰ªå’Œé€»è¾‘æ§åˆ¶ã€‚

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„ä½ç½®ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªçŸ©å½¢æˆ–å¹³é¢åŒºåŸŸï¼‰  
  - Portal åç§°  
  - æ³•çº¿æ–¹å‘ï¼ˆå†³å®š Portal çš„æœå‘ï¼‰  
  - å®½åº¦ã€é«˜åº¦ï¼ˆå®šä¹‰ Portal çš„å°ºå¯¸ï¼‰  
  - æ ‡ç­¾ï¼ˆå­—ç¬¦ä¸²ï¼Œç”¨äºé€»è¾‘æ ‡è®°ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€å·¥å…·å‡½æ•°ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒ Portal å®šä¹‰åˆæ³•æ€§ï¼‰  
  - åœºæ™¯ä¸­å­˜åœ¨å¯æ”¾ç½® Portal çš„å‡ ä½•æˆ–å‚è€ƒç‚¹  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `createLabelPortal()`ï¼šåˆ›å»ºæ–°çš„ Label Portal  
  - `setPortalProperties()`ï¼šè®¾ç½®åç§°ã€å°ºå¯¸ã€æ³•çº¿ã€æ ‡ç­¾  
  - `attachPortalToScene()`ï¼šå°† Portal èŠ‚ç‚¹åŠ å…¥åœºæ™¯  
  - `deleteLabelPortal()`ï¼šåˆ é™¤ Portal  
  - `listLabelPortals()`ï¼šåˆ—å‡ºæ‰€æœ‰ Label Portal  
  - `validateLabelPortal()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `PortalData`ï¼šåŒ…å« nameã€positionã€normalã€widthã€heightã€labelã€type=label  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `createLabelPortal()`  
2. **è®¾ç½®å±æ€§**ï¼šè°ƒç”¨ `setPortalProperties`ï¼ˆåç§°ã€æ³•çº¿ã€å°ºå¯¸ã€æ ‡ç­¾ï¼‰  
3. **ç»‘å®šåœºæ™¯**ï¼šè°ƒç”¨ `attachPortalToScene`  
4. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateLabelPortal`ï¼Œæ£€æŸ¥æ³•çº¿åˆæ³•æ€§ã€å°ºå¯¸åˆç†æ€§ã€æ ‡ç­¾å”¯ä¸€æ€§  
5. **ä¿å­˜å®šä¹‰**ï¼šå­˜å‚¨åœ¨åœºæ™¯è‡ªå®šä¹‰å±æ€§æˆ–é›†åˆä¸­  
6. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **portal_schema.json**ï¼ˆLabel Portal éƒ¨åˆ†ï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "portal_name": { "type": "string" },
      "type": { "type": "string", "enum": ["label"] },
      "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "normal": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "width": { "type": "number" },
      "height": { "type": "number" },
      "label": { "type": "string" }
    },
    "required": ["portal_name","type","position","normal","width","height","label"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_LabelPortalTools`  
- **æŒ‰é’®**ï¼š  
  - `btnCreateLabelPortal` â†’ â€œCreate Label Portalâ€  
  - `btnUpdateLabelPortal` â†’ æ›´æ–°å±æ€§  
  - `btnDeleteLabelPortal` â†’ åˆ é™¤  
  - `btnListLabelPortals` â†’ åˆ—å‡ºæ‰€æœ‰  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªæŒ‡å®šæ³•çº¿ â†’ æŠ¥é”™  
  - å°ºå¯¸éæ³•ï¼ˆé›¶æˆ–è´Ÿæ•°ï¼‰ â†’ æŠ¥é”™  
  - åç§°é‡å¤ â†’ æŠ¥é”™  
  - æ ‡ç­¾ä¸ºç©ºæˆ–é‡å¤ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 2801ï¼šæœªæŒ‡å®šæ³•çº¿  
  - 2802ï¼šå°ºå¯¸éæ³•  
  - 2803ï¼šåç§°é‡å¤  
  - 2804ï¼šæ ‡ç­¾é”™è¯¯  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`portal/label_portal.py`  
- **API æ˜ å°„**ï¼š  
  - `createLabelPortal` â†’ åœ¨ Blender ä¸­åˆ›å»º Empty æˆ– Planeï¼Œé™„åŠ è‡ªå®šä¹‰å±æ€§ `portal_type="label"` å’Œ `portal_label="xxx"`  
  - `setPortalProperties` â†’ è®¾ç½®å¯¹è±¡çš„ locationã€scaleã€custom properties  
  - `listLabelPortals` â†’ éå†åœºæ™¯ä¸­å¸¦æœ‰ `portal_type="label"` çš„å¯¹è±¡  
- **é£é™©**ï¼š  
  - Blender æ²¡æœ‰åŸç”Ÿ Label Portal æ¦‚å¿µï¼Œéœ€è¦å›¢é˜Ÿç»Ÿä¸€è§„èŒƒï¼ˆæ¨è Empty + è‡ªå®šä¹‰å±æ€§ï¼‰  
  - æ ‡ç­¾çš„å”¯ä¸€æ€§éœ€åœ¨æ’ä»¶å±‚é¢å¼ºåˆ¶æ ¡éªŒ  

---

## æµ‹è¯•æ¸…å•
- åˆ›å»ºå•ä¸ª Label Portal â†’ æ­£ç¡®æ˜¾ç¤º  
- ä¿®æ”¹å°ºå¯¸/æ³•çº¿/æ ‡ç­¾ â†’ æ­£ç¡®æ›´æ–°  
- åˆ é™¤ Portal â†’ åœºæ™¯ä¸­æ¶ˆå¤±  
- åˆ—å‡ºæ‰€æœ‰ Portal â†’ è¾“å‡ºå®Œæ•´åˆ—è¡¨  
- éæ³•è¾“å…¥ï¼ˆæ³•çº¿ä¸ºé›¶å‘é‡ã€å°ºå¯¸ä¸º 0ã€æ ‡ç­¾ä¸ºç©ºï¼‰ â†’ æŠ¥é”™  

---

## é£é™©ä¸ TODO
- Label Portal çš„æ ‡ç­¾è¯­ä¹‰éœ€å›¢é˜Ÿç¡®è®¤ï¼ˆæ˜¯é€»è¾‘æ ‡è®°è¿˜æ˜¯æ¸²æŸ“æ ‡è®°ï¼‰  
- æ ‡ç­¾å”¯ä¸€æ€§ç­–ç•¥éœ€æ˜ç¡®ï¼ˆå…¨å±€å”¯ä¸€ vs åŒç±»å‹å”¯ä¸€ï¼‰  
- ä¸å…¶ä»– Portal ç±»å‹çš„å­—æ®µä¸€è‡´æ€§éœ€ä¿æŒ  

---


---

# BigWorld_Import_HardPoint.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  ä»å¤–éƒ¨æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ `.hardpoint` æˆ– `.xml`ï¼‰ä¸­è¯»å– HardPoint å®šä¹‰ï¼Œå¹¶åœ¨ 3ds Max åœºæ™¯ä¸­åˆ›å»ºå¯¹åº”çš„èŠ‚ç‚¹ï¼Œç»‘å®šåˆ°éª¨éª¼æˆ–æ¨¡å‹ä¸Šã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  å±äºå¯¼å…¥ç±»å·¥å…·ï¼Œå¸¸ä¸å¯¼å‡º Visual/Animation é…åˆä½¿ç”¨ï¼Œç”¨äºä¿è¯æ¨¡å‹åœ¨å¼•æ“ä¸­æœ‰æ­£ç¡®çš„æŒ‚ç‚¹ã€‚

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - å¤–éƒ¨ HardPoint æ–‡ä»¶ï¼ˆåŒ…å«åç§°ã€ç±»å‹ã€ä½ç½®ã€æ–¹å‘ã€ç¼©æ”¾ç­‰ä¿¡æ¯ï¼‰  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„ç›®æ ‡å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯éª¨éª¼æˆ–æ¨¡å‹ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€æ–‡ä»¶è¯»å–å·¥å…·ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒ HardPoint æ•°æ®åˆæ³•æ€§ï¼‰  
  - æ–‡ä»¶è·¯å¾„æœ‰æ•ˆä¸”å¯è¯»å–  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `importHardPoint()`ï¼šä¸»å¯¼å…¥å…¥å£  
  - `parseHardPointFile()`ï¼šè§£æå¤–éƒ¨æ–‡ä»¶ï¼Œæå– HardPoint æ•°æ®  
  - `createHardPointNode()`ï¼šåœ¨åœºæ™¯ä¸­åˆ›å»º HardPoint èŠ‚ç‚¹  
  - `attachHardPointToBone(bone)`ï¼šå°† HardPoint ç»‘å®šåˆ°éª¨éª¼  
  - `validateHardPoint()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `HardPointData`ï¼šåŒ…å« nameã€typeã€positionã€rotationã€scaleã€parent_bone  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `importHardPoint()`  
2. **è§£ææ–‡ä»¶**ï¼šè°ƒç”¨ `parseHardPointFile`ï¼Œè¯»å– HardPoint æ•°æ®  
3. **åˆ›å»ºèŠ‚ç‚¹**ï¼šè°ƒç”¨ `createHardPointNode`ï¼Œåœ¨åœºæ™¯ä¸­ç”Ÿæˆå¯¹åº”å¯¹è±¡  
4. **ç»‘å®šéª¨éª¼**ï¼šè°ƒç”¨ `attachHardPointToBone`  
5. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateHardPoint`ï¼Œæ£€æŸ¥æ•°æ®åˆæ³•æ€§  
6. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **hardpoint_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "hardpoint_name": { "type": "string" },
      "type": { "type": "string", "enum": ["weapon","fx","camera","custom"] },
      "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "rotation": { "type": "array", "items": { "type": "number" }, "minItems": 4, "maxItems": 4 },
      "scale": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
      "parent_bone": { "type": "string" }
    },
    "required": ["hardpoint_name","type","position","rotation","parent_bone"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_HardPointImportTools`  
- **æŒ‰é’®**ï¼š  
  - `btnImportHardPoint` â†’ â€œImport HardPointâ€  
  - `btnSelectFile` â†’ é€‰æ‹©æ–‡ä»¶  
  - `btnAttachBone` â†’ ç»‘å®šéª¨éª¼  
  - `btnListHardPoints` â†’ åˆ—å‡ºæ‰€æœ‰å¯¼å…¥çš„ HardPoint  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æ–‡ä»¶ä¸å­˜åœ¨æˆ–æ— æ³•è¯»å– â†’ æŠ¥é”™  
  - æ–‡ä»¶æ ¼å¼é”™è¯¯ â†’ æŠ¥é”™  
  - éª¨éª¼ä¸å­˜åœ¨ â†’ æŠ¥é”™  
  - HardPoint åç§°é‡å¤ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 2901ï¼šæ–‡ä»¶ä¸å­˜åœ¨  
  - 2902ï¼šæ–‡ä»¶æ ¼å¼é”™è¯¯  
  - 2903ï¼šéª¨éª¼ä¸å­˜åœ¨  
  - 2904ï¼šåç§°é‡å¤  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`import/hardpoint_import.py`  
- **API æ˜ å°„**ï¼š  
  - `parseHardPointFile` â†’ Python `xml.etree.ElementTree` æˆ– `json`  
  - `createHardPointNode` â†’ Blender ä¸­åˆ›å»º Emptyï¼Œé™„åŠ è‡ªå®šä¹‰å±æ€§  
  - `attachHardPointToBone` â†’ å°† Empty è®¾ä¸º Armature çš„å­å¯¹è±¡ï¼ˆParent to Boneï¼‰  
  - `listHardPoints` â†’ éå†åœºæ™¯ä¸­å¸¦æœ‰ `hardpoint_type` å±æ€§çš„å¯¹è±¡  
- **é£é™©**ï¼š  
  - Blender ä¸ Max çš„éª¨éª¼ä½“ç³»ä¸åŒï¼Œéœ€è¦æ˜ å°„è¡¨  
  - HardPoint ç±»å‹ï¼ˆweapon/fx/camera/customï¼‰éœ€å›¢é˜Ÿç»Ÿä¸€è§„èŒƒ  

---

## æµ‹è¯•æ¸…å•
- å¯¼å…¥å•ä¸ª HardPoint æ–‡ä»¶ â†’ æ­£ç¡®ç”ŸæˆèŠ‚ç‚¹  
- å¯¼å…¥å¤šä¸ª HardPoint â†’ æ­£ç¡®ç»‘å®šéª¨éª¼  
- æ–‡ä»¶æ ¼å¼é”™è¯¯ â†’ æŠ¥é”™  
- éª¨éª¼ä¸å­˜åœ¨ â†’ æŠ¥é”™  
- åç§°é‡å¤ â†’ æŠ¥é”™  
- å¯¼å…¥å HardPoint èŠ‚ç‚¹èƒ½è¢«å¼•æ“æ­£ç¡®è¯†åˆ«  

---

## é£é™©ä¸ TODO
- HardPoint æ–‡ä»¶æ ¼å¼ï¼ˆXML/JSONï¼‰éœ€ç¡®è®¤å¼•æ“ç‰ˆæœ¬  
- éª¨éª¼å‘½åä¸€è‡´æ€§ï¼ˆMax vs Blender vs BigWorldï¼‰éœ€ç»Ÿä¸€  
- æ˜¯å¦éœ€è¦æ”¯æŒæ‰¹é‡å¯¼å…¥å¤šä¸ªæ–‡ä»¶  

---


---

# BigWorld_Make_BSP.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  å°† 3ds Max ä¸­çš„å‡ ä½•ä½“è½¬æ¢ä¸º BSP æ•°æ®ç»“æ„ï¼Œå¯¼å‡ºä¸º BigWorld å¼•æ“å¯è¯†åˆ«çš„ `.bsp` æ–‡ä»¶ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  å‡ ä½•å¤„ç†ç±»çš„æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼Œé€šå¸¸ä¸ Hullã€Normalsã€Divider é…åˆä½¿ç”¨ï¼Œç”¨äºåœºæ™¯ä¼˜åŒ–å’Œç‰©ç†è®¡ç®—ã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„å‡ ä½•ä½“ï¼ˆMesh/Polyï¼‰  
  - BSP æ·±åº¦ï¼ˆé€’å½’åˆ’åˆ†å±‚æ•°ï¼‰  
  - å®¹å·®ï¼ˆåˆ’åˆ†ç²¾åº¦é˜ˆå€¼ï¼‰  
  - ä¼˜åŒ–é€‰é¡¹ï¼ˆæ˜¯å¦åˆå¹¶å…±é¢ã€æ˜¯å¦ç§»é™¤å†—ä½™èŠ‚ç‚¹ï¼‰  
  - å¯¼å‡ºè·¯å¾„  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€æ–‡ä»¶å†™å…¥å·¥å…·ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒå‡ ä½•åˆæ³•æ€§ï¼‰  
  - å‡ ä½•ä½“å¿…é¡»æ˜¯å°é—­ä½“æˆ–å¯åˆ’åˆ†çš„ç½‘æ ¼  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `makeBSP()`ï¼šä¸»ç”Ÿæˆå…¥å£  
  - `collectGeometry()`ï¼šæ”¶é›†å‡ ä½•ä½“é¡¶ç‚¹ã€é¢æ•°æ®  
  - `buildBSPTree()`ï¼šé€’å½’æ„å»º BSP æ ‘  
  - `optimizeBSPTree()`ï¼šä¼˜åŒ–æ ‘ç»“æ„ï¼ˆåˆå¹¶ã€è£å‰ªï¼‰  
  - `writeBSPFile()`ï¼šå†™å‡º `.bsp` æ–‡ä»¶  
  - `validateBeforeExport()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `BSPNode`ï¼šåŒ…å« planeã€frontã€backã€polygons  
  - `BSPTree`ï¼šæ ¹èŠ‚ç‚¹ + èŠ‚ç‚¹é›†åˆ  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `makeBSP()`  
2. **æ”¶é›†å‡ ä½•ä½“**ï¼šè°ƒç”¨ `collectGeometry`  
3. **æ„å»ºæ ‘**ï¼šè°ƒç”¨ `buildBSPTree`ï¼Œé€’å½’åˆ’åˆ†ç©ºé—´  
4. **ä¼˜åŒ–**ï¼šè°ƒç”¨ `optimizeBSPTree`ï¼Œå‡å°‘å†—ä½™èŠ‚ç‚¹  
5. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateBeforeExport`ï¼Œæ£€æŸ¥æ ‘ç»“æ„åˆæ³•æ€§  
6. **å†™å‡ºæ–‡ä»¶**ï¼šè°ƒç”¨ `writeBSPFile`ï¼Œç”Ÿæˆ `.bsp` æ–‡ä»¶  
7. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **bsp_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "bsp_name": { "type": "string" },
      "nodes": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "plane": { "type": "array", "items": { "type": "number" }, "minItems": 4, "maxItems": 4 },
            "front": { "type": ["integer","null"] },
            "back": { "type": ["integer","null"] },
            "polygons": { "type": "array", "items": { "type": "integer" } }
          },
          "required": ["plane","polygons"]
        }
      },
      "export_path": { "type": "string" }
    },
    "required": ["bsp_name","nodes","export_path"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_BSPTools`  
- **æŒ‰é’®**ï¼š  
  - `btnMakeBSP` â†’ â€œMake BSPâ€  
  - `spnDepth` â†’ è®¾ç½® BSP æ·±åº¦  
  - `spnTolerance` â†’ è®¾ç½®å®¹å·®  
  - `chkOptimize` â†’ æ˜¯å¦ä¼˜åŒ–  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªé€‰æ‹©å‡ ä½•ä½“ â†’ æŠ¥é”™  
  - å‡ ä½•ä½“éå°é—­ â†’ æŠ¥é”™  
  - æ·±åº¦è¿‡å¤§ â†’ è­¦å‘Šï¼ˆæ€§èƒ½é—®é¢˜ï¼‰  
  - å¯¼å‡ºè·¯å¾„æ— æ•ˆ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 3001ï¼šæœªé€‰æ‹©å‡ ä½•ä½“  
  - 3002ï¼šå‡ ä½•ä½“éå°é—­  
  - 3003ï¼šæ·±åº¦è¿‡å¤§  
  - 3004ï¼šè·¯å¾„é”™è¯¯  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`geometry/make_bsp.py`  
- **API æ˜ å°„**ï¼š  
  - `collectGeometry` â†’ `bpy.data.objects[...]` + `mesh.vertices` / `mesh.polygons`  
  - `buildBSPTree` â†’ Python é€’å½’å®ç° BSP ç®—æ³•  
  - `optimizeBSPTree` â†’ åˆå¹¶å…±é¢ã€ç§»é™¤å†—ä½™èŠ‚ç‚¹  
  - `writeBSPFile` â†’ JSON/XML å†™å‡º  
- **é£é™©**ï¼š  
  - Blender æ²¡æœ‰å†…ç½® BSPï¼Œéœ€è¦è‡ªç ”ç®—æ³•  
  - å¤§åœºæ™¯æ€§èƒ½é—®é¢˜ï¼Œéœ€è¦ä¼˜åŒ–  

---

## æµ‹è¯•æ¸…å•
- ç®€å•ç«‹æ–¹ä½“ç”Ÿæˆ BSP â†’ æ­£ç¡®  
- éå°é—­å‡ ä½• â†’ æŠ¥é”™  
- æ·±åº¦è¿‡å¤§ â†’ è­¦å‘Š  
- ä¼˜åŒ–å¼€å…³ â†’ èŠ‚ç‚¹æ•°é‡å‡å°‘  
- å¯¼å‡ºå `.bsp` æ–‡ä»¶èƒ½è¢«å¼•æ“æ­£ç¡®åŠ è½½  

---

## é£é™©ä¸ TODO
- BSP ç®—æ³•å®ç°éœ€å›¢é˜Ÿç¡®è®¤ï¼ˆå¹³é¢é€‰æ‹©ç­–ç•¥ã€åˆ’åˆ†è§„åˆ™ï¼‰  
- å¯¼å‡ºæ–‡ä»¶æ ¼å¼ï¼ˆXML/JSON/äºŒè¿›åˆ¶ï¼‰éœ€ç¡®è®¤å¼•æ“ç‰ˆæœ¬  
- å¤§è§„æ¨¡åœºæ™¯çš„æ€§èƒ½ä¼˜åŒ–éœ€é¢å¤–è®¾è®¡  

---


---

# BigWorld_Make_CustomHull.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  å°† 3ds Max ä¸­çš„å‡ ä½•ä½“è½¬æ¢ä¸º **è‡ªå®šä¹‰ Hullï¼ˆå‡¸åŒ…/å‡¹å£³ï¼‰**ï¼Œç”¨äºç‰©ç†å¼•æ“çš„ç¢°æ’æ£€æµ‹ã€‚ä¸ BSP ä¸åŒï¼ŒHull æ›´é€‚åˆç‰©ç†æ¨¡æ‹Ÿï¼ˆå¦‚è§’è‰²ã€è½½å…·ã€é“å…·çš„ç¢°æ’ä½“ï¼‰ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  å‡ ä½•å¤„ç†ç±»çš„ç¬¬äºŒä¸ªæ¨¡å—ï¼Œé€šå¸¸ä¸ BSPã€Normalsã€Divider é…åˆä½¿ç”¨ã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„å‡ ä½•ä½“  
  - Hull ç±»å‹ï¼ˆConvex/Concaveï¼‰  
  - åˆ†è¾¨ç‡ï¼ˆé‡‡æ ·ç²¾åº¦ï¼‰  
  - å®¹å·®ï¼ˆå‡ ä½•ç®€åŒ–é˜ˆå€¼ï¼‰  
  - ä¼˜åŒ–é€‰é¡¹ï¼ˆæ˜¯å¦åˆå¹¶ã€æ˜¯å¦ç®€åŒ–ï¼‰  
  - å¯¼å‡ºè·¯å¾„  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€æ–‡ä»¶å†™å…¥å·¥å…·ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒå‡ ä½•åˆæ³•æ€§ï¼‰  
  - å‡ ä½•ä½“å¿…é¡»æ˜¯å¯ç”Ÿæˆ Hull çš„ç½‘æ ¼  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `makeCustomHull()`ï¼šä¸»ç”Ÿæˆå…¥å£  
  - `collectGeometry()`ï¼šæ”¶é›†å‡ ä½•ä½“é¡¶ç‚¹ã€é¢æ•°æ®  
  - `generateConvexHull()`ï¼šç”Ÿæˆå‡¸åŒ…  
  - `generateConcaveHull()`ï¼šç”Ÿæˆå‡¹å£³ï¼ˆé€šå¸¸åŸºäºåˆ†è§£ç®—æ³•ï¼‰  
  - `optimizeHull()`ï¼šä¼˜åŒ– Hullï¼ˆå‡å°‘å¤šè¾¹å½¢æ•°é‡ï¼‰  
  - `writeHullFile()`ï¼šå†™å‡º `.hull` æ–‡ä»¶  
  - `validateBeforeExport()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `HullData`ï¼šåŒ…å« hull_typeã€verticesã€facesã€toleranceã€resolutionã€export_path  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `makeCustomHull()`  
2. **æ”¶é›†å‡ ä½•ä½“**ï¼šè°ƒç”¨ `collectGeometry`  
3. **ç”Ÿæˆ Hull**ï¼šæ ¹æ®ç±»å‹è°ƒç”¨ `generateConvexHull` æˆ– `generateConcaveHull`  
4. **ä¼˜åŒ–**ï¼šè°ƒç”¨ `optimizeHull`ï¼Œå‡å°‘å†—ä½™é¢  
5. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateBeforeExport`ï¼Œæ£€æŸ¥ Hull åˆæ³•æ€§  
6. **å†™å‡ºæ–‡ä»¶**ï¼šè°ƒç”¨ `writeHullFile`ï¼Œç”Ÿæˆ `.hull` æ–‡ä»¶  
7. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **hull_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "hull_name": { "type": "string" },
      "hull_type": { "type": "string", "enum": ["convex","concave"] },
      "vertices": {
        "type": "array",
        "items": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 }
      },
      "faces": {
        "type": "array",
        "items": { "type": "array", "items": { "type": "integer" } }
      },
      "tolerance": { "type": "number" },
      "resolution": { "type": "integer" },
      "export_path": { "type": "string" }
    },
    "required": ["hull_name","hull_type","vertices","faces","export_path"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_HullTools`  
- **æŒ‰é’®**ï¼š  
  - `btnMakeHull` â†’ â€œMake Custom Hullâ€  
  - `ddlHullType` â†’ é€‰æ‹© Hull ç±»å‹ï¼ˆConvex/Concaveï¼‰  
  - `spnResolution` â†’ è®¾ç½®åˆ†è¾¨ç‡  
  - `spnTolerance` â†’ è®¾ç½®å®¹å·®  
  - `chkOptimize` â†’ æ˜¯å¦ä¼˜åŒ–  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªé€‰æ‹©å‡ ä½•ä½“ â†’ æŠ¥é”™  
  - å‡ ä½•ä½“è¿‡äºå¤æ‚ â†’ è­¦å‘Š  
  - å®¹å·®/åˆ†è¾¨ç‡éæ³• â†’ æŠ¥é”™  
  - å¯¼å‡ºè·¯å¾„æ— æ•ˆ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 3101ï¼šæœªé€‰æ‹©å‡ ä½•ä½“  
  - 3102ï¼šå‡ ä½•ä½“è¿‡äºå¤æ‚  
  - 3103ï¼šå‚æ•°éæ³•  
  - 3104ï¼šè·¯å¾„é”™è¯¯  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`geometry/make_hull.py`  
- **API æ˜ å°„**ï¼š  
  - `collectGeometry` â†’ `bpy.data.objects[...]` + `mesh.vertices` / `mesh.polygons`  
  - `generateConvexHull` â†’ Blender å†…ç½® `bpy.ops.mesh.convex_hull()`  
  - `generateConcaveHull` â†’ éœ€è‡ªç ”ç®—æ³•æˆ–è°ƒç”¨å¤–éƒ¨åº“ï¼ˆå¦‚ VHACDï¼‰  
  - `optimizeHull` â†’ Blender çš„ Decimate Modifier æˆ–è‡ªå®šä¹‰ç®€åŒ–ç®—æ³•  
  - `writeHullFile` â†’ JSON/XML å†™å‡º  
- **é£é™©**ï¼š  
  - Concave Hull ç”Ÿæˆå¤æ‚ï¼Œå¯èƒ½éœ€è¦å¤–éƒ¨åº“æ”¯æŒ  
  - å¤§è§„æ¨¡å‡ ä½•ä½“æ€§èƒ½é—®é¢˜  

---

## æµ‹è¯•æ¸…å•
- ç®€å•ç«‹æ–¹ä½“ç”Ÿæˆ Convex Hull â†’ æ­£ç¡®  
- å¤æ‚å‡ ä½•ä½“ç”Ÿæˆ Concave Hull â†’ æ­£ç¡®  
- å®¹å·®/åˆ†è¾¨ç‡å‚æ•°è°ƒæ•´ â†’ Hull ç²¾åº¦å˜åŒ–  
- ä¼˜åŒ–å¼€å…³ â†’ é¢æ•°å‡å°‘  
- å¯¼å‡ºå `.hull` æ–‡ä»¶èƒ½è¢«å¼•æ“æ­£ç¡®åŠ è½½  

---

## é£é™©ä¸ TODO
- Concave Hull ç®—æ³•å®ç°éœ€å›¢é˜Ÿç¡®è®¤ï¼ˆæ˜¯å¦ä½¿ç”¨ VHACDï¼‰  
- å¯¼å‡ºæ–‡ä»¶æ ¼å¼ï¼ˆXML/JSON/äºŒè¿›åˆ¶ï¼‰éœ€ç¡®è®¤å¼•æ“ç‰ˆæœ¬  
- å¤§è§„æ¨¡åœºæ™¯çš„æ€§èƒ½ä¼˜åŒ–éœ€é¢å¤–è®¾è®¡  

---


---

# BigWorld_Munge_Normals.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  å¯¹ 3ds Max ä¸­çš„å‡ ä½•ä½“æ³•çº¿è¿›è¡Œç»Ÿä¸€ã€é‡ç®—ã€å¹³æ»‘æˆ–ç¡¬åŒ–å¤„ç†ï¼Œç¡®ä¿å¯¼å‡ºçš„æ¨¡å‹åœ¨ BigWorld å¼•æ“ä¸­æ¸²æŸ“æ­£ç¡®ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  å‡ ä½•å¤„ç†ç±»çš„ç¬¬ä¸‰ä¸ªæ¨¡å—ï¼Œé€šå¸¸åœ¨å¯¼å‡º Visual å‰ä½¿ç”¨ï¼Œä»¥ä¿è¯æ³•çº¿æ•°æ®çš„æ­£ç¡®æ€§ã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„å‡ ä½•ä½“  
  - æ³•çº¿å¤„ç†æ¨¡å¼ï¼ˆé‡ç®—ã€ç»Ÿä¸€ã€å¹³æ»‘ã€ç¡¬è¾¹ï¼‰  
  - å¹³æ»‘è§’åº¦é˜ˆå€¼ï¼ˆå†³å®šå“ªäº›è¾¹ç•Œè¢«è§†ä¸ºç¡¬è¾¹ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆæ—¥å¿—ã€å·¥å…·å‡½æ•°ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒå‡ ä½•åˆæ³•æ€§ï¼‰  
  - å‡ ä½•ä½“å¿…é¡»æœ‰å¯ç¼–è¾‘çš„æ³•çº¿æ•°æ®  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `mungeNormals()`ï¼šä¸»å¤„ç†å…¥å£  
  - `recalculateNormals()`ï¼šé‡ç®—æ‰€æœ‰æ³•çº¿  
  - `unifyNormals()`ï¼šç»Ÿä¸€æ³•çº¿æ–¹å‘ï¼ˆé¿å…ç¿»è½¬ï¼‰  
  - `smoothNormals(angle)`ï¼šæŒ‰è§’åº¦é˜ˆå€¼å¹³æ»‘  
  - `hardenNormals(angle)`ï¼šæŒ‰è§’åº¦é˜ˆå€¼ç¡¬åŒ–  
  - `validateNormals()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `NormalData`ï¼šåŒ…å« vertex_normalsã€face_normalsã€smoothing_groups  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `mungeNormals()`  
2. **é€‰æ‹©æ¨¡å¼**ï¼šæ ¹æ®ç”¨æˆ·é€‰æ‹©è°ƒç”¨ `recalculateNormals`ã€`unifyNormals`ã€`smoothNormals` æˆ– `hardenNormals`  
3. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateNormals`ï¼Œæ£€æŸ¥æ³•çº¿æ–¹å‘ä¸€è‡´æ€§  
4. **æ›´æ–°å‡ ä½•ä½“**ï¼šå°†å¤„ç†åçš„æ³•çº¿å†™å›æ¨¡å‹  
5. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **normals_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "object_name": { "type": "string" },
      "mode": { "type": "string", "enum": ["recalculate","unify","smooth","harden"] },
      "angle_threshold": { "type": "number" },
      "vertex_normals": {
        "type": "array",
        "items": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 }
      },
      "face_normals": {
        "type": "array",
        "items": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 }
      }
    },
    "required": ["object_name","mode","vertex_normals","face_normals"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_NormalTools`  
- **æŒ‰é’®**ï¼š  
  - `btnRecalculateNormals` â†’ â€œRecalculate Normalsâ€  
  - `btnUnifyNormals` â†’ â€œUnify Normalsâ€  
  - `btnSmoothNormals` â†’ â€œSmooth Normalsâ€  
  - `btnHardenNormals` â†’ â€œHarden Normalsâ€  
  - `spnAngleThreshold` â†’ è®¾ç½®è§’åº¦é˜ˆå€¼  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªé€‰æ‹©å‡ ä½•ä½“ â†’ æŠ¥é”™  
  - æ³•çº¿æ•°æ®ç¼ºå¤± â†’ æŠ¥é”™  
  - é˜ˆå€¼éæ³•ï¼ˆè´Ÿæ•°æˆ–è¿‡å¤§ï¼‰ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 3201ï¼šæœªé€‰æ‹©å‡ ä½•ä½“  
  - 3202ï¼šæ³•çº¿æ•°æ®ç¼ºå¤±  
  - 3203ï¼šé˜ˆå€¼éæ³•  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`geometry/munge_normals.py`  
- **API æ˜ å°„**ï¼š  
  - `recalculateNormals` â†’ `bpy.ops.mesh.normals_make_consistent()`  
  - `unifyNormals` â†’ Blender å†…ç½® unify normals åŠŸèƒ½  
  - `smoothNormals(angle)` â†’ `bpy.ops.mesh.faces_shade_smooth()` + `obj.data.use_auto_smooth=True` + `obj.data.auto_smooth_angle`  
  - `hardenNormals(angle)` â†’ `bpy.ops.mesh.faces_shade_flat()` æˆ–è‡ªå®šä¹‰åˆ†ç»„  
- **é£é™©**ï¼š  
  - Blender çš„æ³•çº¿ç³»ç»Ÿä¸ Max ä¸å®Œå…¨ä¸€è‡´ï¼Œéœ€è¦é¢å¤–æµ‹è¯•  
  - å¹³æ»‘ç»„ï¼ˆSmoothing Groupsï¼‰åœ¨ Blender ä¸­éœ€è¦ç”¨ Auto Smooth æ¨¡æ‹Ÿ  

---

## æµ‹è¯•æ¸…å•
- ç®€å•ç«‹æ–¹ä½“ â†’ é‡ç®—æ³•çº¿  
- çƒä½“ â†’ å¹³æ»‘æ³•çº¿ï¼ˆè§’åº¦é˜ˆå€¼ 30Â°/60Â°/90Â°ï¼‰  
- æ¨¡å‹å¸¦ç¿»è½¬æ³•çº¿ â†’ ç»Ÿä¸€ä¿®æ­£  
- æ¨¡å‹å¸¦ç¡¬è¾¹ â†’ ç¡¬åŒ–å¤„ç†  
- å¯¼å‡ºå Visual æ–‡ä»¶åœ¨å¼•æ“ä¸­æ¸²æŸ“æ­£ç¡®  

---

## é£é™©ä¸ TODO
- å¹³æ»‘ç»„ä¸ Blender Auto Smooth çš„æ˜ å°„éœ€å›¢é˜Ÿç¡®è®¤  
- æ˜¯å¦éœ€è¦æ”¯æŒé€é¢æ³•çº¿ç¼–è¾‘ï¼ˆBlender æ”¯æŒï¼Œä½† Max è„šæœ¬å¯èƒ½æ²¡æœ‰ï¼‰  
- å¯¼å‡ºæ—¶æ˜¯å¦éœ€è¦å†™å…¥ç‹¬ç«‹çš„æ³•çº¿æ–‡ä»¶ï¼Œéœ€ç¡®è®¤å¼•æ“ç‰ˆæœ¬  

---


---

# BigWorld_Object_Divider.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  å°† 3ds Max ä¸­çš„å¤æ‚å‡ ä½•ä½“æŒ‰è§„åˆ™æ‹†åˆ†ä¸ºå¤šä¸ªå­å¯¹è±¡ï¼Œé¿å…å•ä¸ªå¯¹è±¡è¿‡å¤§å¯¼è‡´å¼•æ“æ€§èƒ½ä¸‹é™æˆ–æ— æ³•åŠ è½½ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  å‡ ä½•å¤„ç†ç±»çš„æœ€åä¸€ä¸ªæ¨¡å—ï¼Œé€šå¸¸åœ¨å¯¼å‡º Visual å‰ä½¿ç”¨ï¼Œä¿è¯å¯¹è±¡è§„æ¨¡ç¬¦åˆ BigWorld å¼•æ“è¦æ±‚ã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - ç”¨æˆ·åœ¨ Max ä¸­é€‰æ‹©çš„å‡ ä½•ä½“  
  - æœ€å¤§é¡¶ç‚¹æ•°ï¼ˆå¦‚ 65535ï¼‰  
  - æœ€å¤§é¢æ•°ï¼ˆå¦‚ 65535ï¼‰  
  - æ˜¯å¦ä¿ç•™å±‚çº§ç»“æ„  
  - å‘½åè§„åˆ™ï¼ˆå­å¯¹è±¡å‘½åæ–¹å¼ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆæ—¥å¿—ã€å·¥å…·å‡½æ•°ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒå‡ ä½•åˆæ³•æ€§ï¼‰  
  - å‡ ä½•ä½“å¿…é¡»æ˜¯å¯ç¼–è¾‘ç½‘æ ¼  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `divideObject()`ï¼šä¸»æ‹†åˆ†å…¥å£  
  - `collectGeometry()`ï¼šæ”¶é›†å‡ ä½•ä½“æ•°æ®  
  - `splitByVertexLimit(limit)`ï¼šæŒ‰é¡¶ç‚¹æ•°æ‹†åˆ†  
  - `splitByFaceLimit(limit)`ï¼šæŒ‰é¢æ•°æ‹†åˆ†  
  - `applyNamingRule()`ï¼šå¯¹å­å¯¹è±¡å‘½å  
  - `validateDividedObjects()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `DividedObjectData`ï¼šåŒ…å« original_nameã€sub_objectsã€vertex_countã€face_countã€naming_rule  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `divideObject()`  
2. **æ”¶é›†å‡ ä½•ä½“**ï¼šè°ƒç”¨ `collectGeometry`  
3. **åˆ¤æ–­é™åˆ¶**ï¼šæ£€æŸ¥é¡¶ç‚¹/é¢æ•°æ˜¯å¦è¶…é™  
4. **æ‹†åˆ†**ï¼šè°ƒç”¨ `splitByVertexLimit` æˆ– `splitByFaceLimit`  
5. **å‘½å**ï¼šè°ƒç”¨ `applyNamingRule`ï¼Œç”Ÿæˆå­å¯¹è±¡åç§°  
6. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validateDividedObjects`ï¼Œæ£€æŸ¥å­å¯¹è±¡åˆæ³•æ€§  
7. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **divider_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "original_name": { "type": "string" },
      "sub_objects": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "vertex_count": { "type": "integer" },
            "face_count": { "type": "integer" }
          },
          "required": ["name","vertex_count","face_count"]
        }
      },
      "max_vertices": { "type": "integer" },
      "max_faces": { "type": "integer" },
      "naming_rule": { "type": "string" }
    },
    "required": ["original_name","sub_objects","max_vertices","max_faces"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_ObjectDividerTools`  
- **æŒ‰é’®**ï¼š  
  - `btnDivideObject` â†’ â€œDivide Objectâ€  
  - `spnMaxVertices` â†’ è®¾ç½®æœ€å¤§é¡¶ç‚¹æ•°  
  - `spnMaxFaces` â†’ è®¾ç½®æœ€å¤§é¢æ•°  
  - `chkPreserveHierarchy` â†’ æ˜¯å¦ä¿ç•™å±‚çº§  
  - `ddlNamingRule` â†’ å‘½åè§„åˆ™é€‰æ‹©  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªé€‰æ‹©å‡ ä½•ä½“ â†’ æŠ¥é”™  
  - é¡¶ç‚¹/é¢æ•°é™åˆ¶éæ³• â†’ æŠ¥é”™  
  - æ‹†åˆ†å¤±è´¥ï¼ˆå‡ ä½•ä½“è¿‡äºå¤æ‚ï¼‰ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 3301ï¼šæœªé€‰æ‹©å‡ ä½•ä½“  
  - 3302ï¼šå‚æ•°éæ³•  
  - 3303ï¼šæ‹†åˆ†å¤±è´¥  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`geometry/object_divider.py`  
- **API æ˜ å°„**ï¼š  
  - `collectGeometry` â†’ `bpy.data.objects[...]` + `mesh.vertices` / `mesh.polygons`  
  - `splitByVertexLimit` / `splitByFaceLimit` â†’ Python è„šæœ¬æ‹†åˆ† Meshï¼ˆå¯ç”¨ BMesh APIï¼‰  
  - `applyNamingRule` â†’ Blender å¯¹è±¡å‘½åè§„åˆ™  
- **é£é™©**ï¼š  
  - Blender æ²¡æœ‰å†…ç½®â€œæŒ‰é¡¶ç‚¹/é¢æ•°æ‹†åˆ†â€åŠŸèƒ½ï¼Œéœ€è¦è‡ªç ”ç®—æ³•  
  - å¤§è§„æ¨¡æ¨¡å‹æ‹†åˆ†æ€§èƒ½éœ€ä¼˜åŒ–  

---

## æµ‹è¯•æ¸…å•
- ç®€å•ç«‹æ–¹ä½“ â†’ ä¸æ‹†åˆ†ï¼ˆé¡¶ç‚¹/é¢æ•°æœªè¶…é™ï¼‰  
- å¤§å‹æ¨¡å‹ â†’ è‡ªåŠ¨æ‹†åˆ†ä¸ºå¤šä¸ªå­å¯¹è±¡  
- å‘½åè§„åˆ™ â†’ å­å¯¹è±¡å‘½åæ­£ç¡®  
- ä¿ç•™å±‚çº§ â†’ å­å¯¹è±¡ä¿æŒçˆ¶å­å…³ç³»  
- éæ³•å‚æ•°ï¼ˆè´Ÿæ•°ã€é›¶ï¼‰ â†’ æŠ¥é”™  

---

## é£é™©ä¸ TODO
- æ‹†åˆ†ç®—æ³•å®ç°éœ€å›¢é˜Ÿç¡®è®¤ï¼ˆæŒ‰é¢æ•°ä¼˜å…ˆè¿˜æ˜¯é¡¶ç‚¹æ•°ä¼˜å…ˆï¼‰  
- å‘½åè§„åˆ™éœ€ç»Ÿä¸€ï¼ˆå¦‚ `object_01`, `object_02`ï¼‰  
- æ˜¯å¦éœ€è¦æ”¯æŒæ‰¹é‡æ‹†åˆ†å¤šä¸ªå¯¹è±¡  

---


---

# BigWorld_Prefab_Assembler.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  å°†åœºæ™¯ä¸­çš„å¤šä¸ªå¯¹è±¡ï¼ˆæ¨¡å‹ã€å­èŠ‚ç‚¹ã€æŒ‚ç‚¹ç­‰ï¼‰ç»„åˆæˆä¸€ä¸ª **Prefab**ï¼Œå¹¶å¯¼å‡ºä¸º `.prefab` æ–‡ä»¶ã€‚Prefab æ˜¯ä¸€ç§å¯å¤ç”¨çš„èµ„æºå•å…ƒï¼Œä¾¿äºåœ¨å¼•æ“ä¸­å¿«é€ŸåŠ è½½å’Œå®ä¾‹åŒ–ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  Prefab å·¥å…·ç±»çš„å”¯ä¸€æ¨¡å—ï¼Œé€šå¸¸åœ¨å¯¼å‡º Visual/Animation/HitBox ä¹‹åä½¿ç”¨ï¼Œç”¨äºæ‰“åŒ…å®Œæ•´çš„èµ„æºå•å…ƒã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - æ ¹èŠ‚ç‚¹ï¼ˆPrefab çš„ä¸»å¯¹è±¡ï¼‰  
  - å­å¯¹è±¡é›†åˆï¼ˆæ¨¡å‹ã€æŒ‚ç‚¹ã€ç‰¹æ•ˆèŠ‚ç‚¹ç­‰ï¼‰  
  - å˜æ¢ä¿¡æ¯ï¼ˆä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰  
  - æ˜¯å¦åˆå¹¶å¯¼å‡ºä¸ºå•æ–‡ä»¶  
  - å¯¼å‡ºè·¯å¾„  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€æ–‡ä»¶å†™å…¥å·¥å…·ï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒ Prefab æ•°æ®åˆæ³•æ€§ï¼‰  
  - åœºæ™¯ä¸­å­˜åœ¨è‡³å°‘ä¸€ä¸ªæ ¹èŠ‚ç‚¹  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `assemblePrefab()`ï¼šä¸»ç»„è£…å…¥å£  
  - `collectPrefabObjects()`ï¼šæ”¶é›†æ ¹èŠ‚ç‚¹åŠå­å¯¹è±¡  
  - `applyTransforms()`ï¼šåº”ç”¨ä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾  
  - `mergeObjects()`ï¼šå¯é€‰ï¼Œåˆå¹¶ä¸ºå•ä¸€å¯¹è±¡  
  - `writePrefabFile()`ï¼šå†™å‡º `.prefab` æ–‡ä»¶  
  - `validatePrefab()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `PrefabData`ï¼šåŒ…å« prefab_nameã€rootã€childrenã€transformsã€export_path  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `assemblePrefab()`  
2. **æ”¶é›†å¯¹è±¡**ï¼šè°ƒç”¨ `collectPrefabObjects`  
3. **åº”ç”¨å˜æ¢**ï¼šè°ƒç”¨ `applyTransforms`  
4. **åˆå¹¶ï¼ˆå¯é€‰ï¼‰**ï¼šè°ƒç”¨ `mergeObjects`  
5. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validatePrefab`ï¼Œæ£€æŸ¥ç»“æ„å®Œæ•´æ€§  
6. **å†™å‡ºæ–‡ä»¶**ï¼šè°ƒç”¨ `writePrefabFile`ï¼Œç”Ÿæˆ `.prefab` æ–‡ä»¶  
7. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **prefab_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "prefab_name": { "type": "string" },
      "root": { "type": "string" },
      "children": {
        "type": "array",
        "items": { "type": "string" }
      },
      "transforms": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "object": { "type": "string" },
            "position": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 },
            "rotation": { "type": "array", "items": { "type": "number" }, "minItems": 4, "maxItems": 4 },
            "scale": { "type": "array", "items": { "type": "number" }, "minItems": 3, "maxItems": 3 }
          },
          "required": ["object","position","rotation","scale"]
        }
      },
      "export_path": { "type": "string" }
    },
    "required": ["prefab_name","root","children","export_path"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_PrefabAssemblerTools`  
- **æŒ‰é’®**ï¼š  
  - `btnAssemblePrefab` â†’ â€œAssemble Prefabâ€  
  - `btnSetRoot` â†’ è®¾ç½®æ ¹èŠ‚ç‚¹  
  - `btnAddChild` â†’ æ·»åŠ å­å¯¹è±¡  
  - `btnRemoveChild` â†’ ç§»é™¤å­å¯¹è±¡  
  - `chkMergeObjects` â†’ æ˜¯å¦åˆå¹¶ä¸ºå•æ–‡ä»¶  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªè®¾ç½®æ ¹èŠ‚ç‚¹ â†’ æŠ¥é”™  
  - å­å¯¹è±¡ä¸ºç©º â†’ æŠ¥é”™  
  - å˜æ¢æ•°æ®ç¼ºå¤± â†’ æŠ¥é”™  
  - å¯¼å‡ºè·¯å¾„æ— æ•ˆ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 3401ï¼šæœªè®¾ç½®æ ¹èŠ‚ç‚¹  
  - 3402ï¼šå­å¯¹è±¡ä¸ºç©º  
  - 3403ï¼šå˜æ¢æ•°æ®ç¼ºå¤±  
  - 3404ï¼šè·¯å¾„é”™è¯¯  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`prefab/prefab_assembler.py`  
- **API æ˜ å°„**ï¼š  
  - `collectPrefabObjects` â†’ Blender ä¸­ Collection æˆ– Parent-Child å…³ç³»  
  - `applyTransforms` â†’ `obj.location` / `obj.rotation_quaternion` / `obj.scale`  
  - `mergeObjects` â†’ `bpy.ops.object.join()`  
  - `writePrefabFile` â†’ JSON/XML å†™å‡º  
- **é£é™©**ï¼š  
  - Blender ä¸­ Prefab æ¦‚å¿µéœ€å›¢é˜Ÿå®šä¹‰ï¼ˆæ¨è Collection + è‡ªå®šä¹‰å±æ€§ï¼‰  
  - åˆå¹¶å¯¹è±¡å¯èƒ½å¯¼è‡´æè´¨ä¸¢å¤±ï¼Œéœ€è¦é¢å¤–å¤„ç†  

---

## æµ‹è¯•æ¸…å•
- å•æ ¹èŠ‚ç‚¹ + å¤šå­å¯¹è±¡ â†’ æ­£ç¡®ç»„è£…  
- åº”ç”¨ä½ç½®/æ—‹è½¬/ç¼©æ”¾ â†’ æ­£ç¡®å†™å…¥  
- åˆå¹¶å¼€å…³ â†’ å¯¼å‡ºæ–‡ä»¶å·®å¼‚  
- å­å¯¹è±¡ä¸ºç©º â†’ æŠ¥é”™  
- å¯¼å‡ºå `.prefab` æ–‡ä»¶èƒ½è¢«å¼•æ“æ­£ç¡®åŠ è½½  

---

## é£é™©ä¸ TODO
- Prefab åœ¨ Blender ä¸­çš„è¡¨ç¤ºæ–¹å¼éœ€å›¢é˜Ÿç¡®è®¤ï¼ˆCollection vs Empty Rootï¼‰  
- åˆå¹¶å¯¹è±¡æ—¶çš„æè´¨/UV ä¿ç•™ç­–ç•¥éœ€æ˜ç¡®  
- Prefab æ–‡ä»¶æ ¼å¼ï¼ˆXML/JSON/äºŒè¿›åˆ¶ï¼‰éœ€ç¡®è®¤å¼•æ“ç‰ˆæœ¬  

---

---

# BigWorld_Modify_Res_Paths.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  åœ¨ 3ds Max åœºæ™¯ä¸­æ‰¹é‡ä¿®æ”¹èµ„æºè·¯å¾„ï¼ˆè´´å›¾ã€æ¨¡å‹ã€åŠ¨ç”»ç­‰ï¼‰ï¼Œè§£å†³è·¯å¾„é”™è¯¯ã€ç›®å½•è¿ç§»æˆ–èµ„æºé‡æ„æ—¶çš„å¼•ç”¨é—®é¢˜ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  è·¯å¾„å·¥å…·ç±»çš„ç¬¬ä¸€ä¸ªæ¨¡å—ï¼Œé€šå¸¸ä¸ `Verify_File_Paths.mcr` é…åˆä½¿ç”¨ï¼šå‰è€…è´Ÿè´£ä¿®æ”¹ï¼Œåè€…è´Ÿè´£æ ¡éªŒã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - æ—§è·¯å¾„ï¼ˆOldPathï¼‰  
  - æ–°è·¯å¾„ï¼ˆNewPathï¼‰  
  - è·¯å¾„ç±»å‹ï¼ˆTexture/Model/Animï¼‰  
  - æ˜¯å¦é€’å½’ä¿®æ”¹å­ç›®å½•  
  - æ˜¯å¦åœ¨ä¿®æ”¹å‰å¤‡ä»½  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€æ–‡ä»¶æ“ä½œï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒè·¯å¾„åˆæ³•æ€§ï¼‰  
  - åœºæ™¯ä¸­å­˜åœ¨å¼•ç”¨èµ„æº  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `modifyResPaths()`ï¼šä¸»ä¿®æ”¹å…¥å£  
  - `findResourcesByPath(oldPath)`ï¼šæŸ¥æ‰¾å¼•ç”¨æ—§è·¯å¾„çš„èµ„æº  
  - `replaceResourcePath(oldPath,newPath)`ï¼šæ›¿æ¢è·¯å¾„  
  - `backupResourceFiles()`ï¼šä¿®æ”¹å‰å¤‡ä»½èµ„æºæ–‡ä»¶  
  - `validatePaths()`ï¼šè°ƒç”¨ Validator æ ¡éªŒ  
- **æ•°æ®ç»“æ„**ï¼š
  - `ResPathData`ï¼šåŒ…å« old_pathã€new_pathã€path_typeã€recursiveã€backup  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `modifyResPaths()`  
2. **æŸ¥æ‰¾èµ„æº**ï¼šè°ƒç”¨ `findResourcesByPath`  
3. **å¤‡ä»½ï¼ˆå¯é€‰ï¼‰**ï¼šè°ƒç”¨ `backupResourceFiles`  
4. **æ›¿æ¢è·¯å¾„**ï¼šè°ƒç”¨ `replaceResourcePath`  
5. **æ ¡éªŒ**ï¼šè°ƒç”¨ `validatePaths`ï¼Œæ£€æŸ¥æ–°è·¯å¾„æ˜¯å¦å­˜åœ¨  
6. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **respath_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "old_path": { "type": "string" },
      "new_path": { "type": "string" },
      "path_type": { "type": "string", "enum": ["texture","model","anim"] },
      "recursive": { "type": "boolean" },
      "backup": { "type": "boolean" }
    },
    "required": ["old_path","new_path","path_type"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_PathTools`  
- **æŒ‰é’®**ï¼š  
  - `btnModifyPaths` â†’ â€œModify Pathsâ€  
  - `btnFindResources` â†’ æŸ¥æ‰¾èµ„æº  
  - `chkApplyRecursively` â†’ æ˜¯å¦é€’å½’  
  - `chkBackupBeforeModify` â†’ æ˜¯å¦å¤‡ä»½  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æœªæŒ‡å®šæ—§è·¯å¾„/æ–°è·¯å¾„ â†’ æŠ¥é”™  
  - æ–°è·¯å¾„ä¸å­˜åœ¨ â†’ æŠ¥é”™  
  - æ›¿æ¢å¤±è´¥ï¼ˆæ–‡ä»¶è¢«å ç”¨ï¼‰ â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 3501ï¼šè·¯å¾„ç¼ºå¤±  
  - 3502ï¼šæ–°è·¯å¾„ä¸å­˜åœ¨  
  - 3503ï¼šæ›¿æ¢å¤±è´¥  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`paths/modify_res_paths.py`  
- **API æ˜ å°„**ï¼š  
  - `findResourcesByPath` â†’ éå† `bpy.data.images`ã€`bpy.data.meshes`ã€`bpy.data.actions` ç­‰  
  - `replaceResourcePath` â†’ ä¿®æ”¹ `image.filepath`ã€`mesh.library`ã€`action.library`  
  - `backupResourceFiles` â†’ Python `shutil.copy`  
- **é£é™©**ï¼š  
  - Blender çš„èµ„æºè·¯å¾„å¯èƒ½æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œéœ€è¦ç»Ÿä¸€ç­–ç•¥  
  - æ‰¹é‡ä¿®æ”¹æ—¶éœ€é¿å…ç ´å Asset Browser çš„å¼•ç”¨  

---

## æµ‹è¯•æ¸…å•
- ä¿®æ”¹å•ä¸ªè´´å›¾è·¯å¾„ â†’ æ­£ç¡®æ›´æ–°  
- ä¿®æ”¹å¤šä¸ªæ¨¡å‹è·¯å¾„ â†’ æ­£ç¡®æ›´æ–°  
- é€’å½’ä¿®æ”¹å­ç›®å½• â†’ æ­£ç¡®è¦†ç›–  
- æ–°è·¯å¾„ä¸å­˜åœ¨ â†’ æŠ¥é”™  
- ä¿®æ”¹å‰å¤‡ä»½ â†’ ç”Ÿæˆå¤‡ä»½æ–‡ä»¶  

---

## é£é™©ä¸ TODO
- è·¯å¾„ç›¸å¯¹/ç»å¯¹çš„ç­–ç•¥éœ€å›¢é˜Ÿç¡®è®¤  
- æ˜¯å¦æ”¯æŒç½‘ç»œè·¯å¾„ï¼ˆUNCï¼‰éœ€ç¡®è®¤  
- å¤‡ä»½æ–‡ä»¶çš„å­˜æ”¾ä½ç½®éœ€ç»Ÿä¸€è§„èŒƒ  

---


---

# BigWorld_Verify_File_Paths.mcr æ·±åº¦æŠ¥å‘Š

## æ¦‚è¿°
- **æ¨¡å—èŒè´£**ï¼š  
  æ ¡éªŒåœºæ™¯ä¸­æ‰€æœ‰èµ„æºæ–‡ä»¶è·¯å¾„çš„åˆæ³•æ€§ï¼ŒåŒ…æ‹¬å­˜åœ¨æ€§ã€å¤§å°å†™ä¸€è‡´æ€§ã€ç›¸å¯¹è·¯å¾„åˆæ³•æ€§ç­‰ï¼Œé¿å…å¯¼å‡ºåå¼•æ“åŠ è½½å¤±è´¥ã€‚  
- **ä¸Šä¸‹æ–‡ä½ç½®**ï¼š  
  è·¯å¾„å·¥å…·ç±»çš„æœ€åä¸€ä¸ªæ¨¡å—ï¼Œé€šå¸¸ä¸ `Modify_Res_Paths.mcr` é…åˆä½¿ç”¨ï¼šå‰è€…ä¿®æ”¹ï¼Œåè€…éªŒè¯ã€‚  

---

## è¾“å…¥ä¸å‰ç½®æ¡ä»¶
- **è¾“å…¥æ•°æ®**ï¼š  
  - æ–‡ä»¶è·¯å¾„ï¼ˆå•ä¸ªæˆ–æ‰¹é‡ï¼‰  
  - è·¯å¾„ç±»å‹ï¼ˆTexture/Model/Animï¼‰  
  - æ ¡éªŒé€‰é¡¹ï¼ˆå­˜åœ¨æ€§ã€å¤§å°å†™ã€ç›¸å¯¹è·¯å¾„ï¼‰  
- **å‰ç½®æ¡ä»¶**ï¼š  
  - Common æ¨¡å—å¯ç”¨ï¼ˆè·¯å¾„ã€æ—¥å¿—ã€æ–‡ä»¶æ“ä½œï¼‰  
  - Validator æ¨¡å—å¯ç”¨ï¼ˆæ ¡éªŒç»“æœè¾“å‡ºï¼‰  
  - åœºæ™¯ä¸­å­˜åœ¨å¼•ç”¨èµ„æº  

---

## å¯¼å‡ºçš„æ¥å£
- **å‡½æ•°**ï¼š
  - `verifyFilePaths()`ï¼šä¸»æ ¡éªŒå…¥å£  
  - `checkExistence(path)`ï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨  
  - `checkCaseSensitivity(path)`ï¼šæ£€æŸ¥è·¯å¾„å¤§å°å†™ä¸€è‡´æ€§  
  - `checkRelativePaths(path)`ï¼šæ£€æŸ¥ç›¸å¯¹è·¯å¾„åˆæ³•æ€§  
  - `reportInvalidPaths()`ï¼šè¾“å‡ºé”™è¯¯è·¯å¾„æŠ¥å‘Š  
- **æ•°æ®ç»“æ„**ï¼š
  - `FilePathData`ï¼šåŒ…å« file_pathã€path_typeã€check_existenceã€check_caseã€check_relative  

---

## å†…éƒ¨æµç¨‹ä¸è°ƒç”¨å…³ç³»
1. **ç”¨æˆ·ç‚¹å‡» UI æŒ‰é’®** â†’ è§¦å‘ `verifyFilePaths()`  
2. **éå†è·¯å¾„**ï¼šé€ä¸ªè°ƒç”¨ `checkExistence`ã€`checkCaseSensitivity`ã€`checkRelativePaths`  
3. **æ”¶é›†ç»“æœ**ï¼šå°†é”™è¯¯è·¯å¾„å­˜å…¥åˆ—è¡¨  
4. **è¾“å‡ºæŠ¥å‘Š**ï¼šè°ƒç”¨ `reportInvalidPaths`  
5. **æ—¥å¿—**ï¼šè°ƒç”¨ `log_info` æˆ– `log_error` è¾“å‡ºç»“æœ  

---

## æ•°æ®å¥‘çº¦ä¸ Schema å¯¹é½
- **filepath_schema.json**ï¼ˆå»ºè®®å­—æ®µï¼‰ï¼š  
  ```json
  {
    "type": "object",
    "properties": {
      "file_path": { "type": "string" },
      "path_type": { "type": "string", "enum": ["texture","model","anim"] },
      "check_existence": { "type": "boolean" },
      "check_case": { "type": "boolean" },
      "check_relative": { "type": "boolean" }
    },
    "required": ["file_path","path_type"],
    "additionalProperties": false
  }
  ```

---

## UI / æŒ‡ä»¤å…¥å£
- **Rollout é¢æ¿**ï¼š`rollout_VerifyPathsTools`  
- **æŒ‰é’®**ï¼š  
  - `btnVerifyPaths` â†’ â€œVerify Pathsâ€  
  - `chkCheckExistence` â†’ æ˜¯å¦æ£€æŸ¥å­˜åœ¨æ€§  
  - `chkCaseSensitive` â†’ æ˜¯å¦åŒºåˆ†å¤§å°å†™  
  - `chkRelativePaths` â†’ æ˜¯å¦æ£€æŸ¥ç›¸å¯¹è·¯å¾„  

---

## æ ¡éªŒä¸é”™è¯¯å¤„ç†
- **å¸¸è§é”™è¯¯**ï¼š  
  - æ–‡ä»¶ä¸å­˜åœ¨ â†’ æŠ¥é”™  
  - è·¯å¾„å¤§å°å†™ä¸ä¸€è‡´ï¼ˆWindows/Unix å·®å¼‚ï¼‰ â†’ æŠ¥é”™  
  - ç›¸å¯¹è·¯å¾„éæ³• â†’ æŠ¥é”™  
- **é”™è¯¯ç å»ºè®®**ï¼š  
  - 3601ï¼šæ–‡ä»¶ä¸å­˜åœ¨  
  - 3602ï¼šå¤§å°å†™é”™è¯¯  
  - 3603ï¼šç›¸å¯¹è·¯å¾„éæ³•  

---

## è¿ç§»åˆ° Blender çš„å®ç°è¦ç‚¹
- **Python æ¨¡å—**ï¼š`paths/verify_file_paths.py`  
- **API æ˜ å°„**ï¼š  
  - `checkExistence` â†’ Python `os.path.exists()`  
  - `checkCaseSensitivity` â†’ è‡ªå®šä¹‰å‡½æ•°ï¼ˆåœ¨åŒºåˆ†å¤§å°å†™çš„ç³»ç»Ÿä¸Šæ¯”å¯¹å®é™…è·¯å¾„ï¼‰  
  - `checkRelativePaths` â†’ `os.path.isabs()` åˆ¤æ–­ + é¡¹ç›®æ ¹ç›®å½•è§„åˆ™  
  - `reportInvalidPaths` â†’ Blender æ§åˆ¶å°æˆ–æ—¥å¿—é¢æ¿è¾“å‡º  
- **é£é™©**ï¼š  
  - Windows ä¸ Linux çš„å¤§å°å†™æ•æ„Ÿæ€§å·®å¼‚  
  - Blender Asset Browser çš„è·¯å¾„å¯èƒ½æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œéœ€è¦ç»Ÿä¸€ç­–ç•¥  

---

## æµ‹è¯•æ¸…å•
- æ–‡ä»¶å­˜åœ¨ â†’ æ ¡éªŒé€šè¿‡  
- æ–‡ä»¶ä¸å­˜åœ¨ â†’ æŠ¥é”™  
- å¤§å°å†™é”™è¯¯ï¼ˆå¦‚ `Textures/wood.png` vs `textures/wood.png`ï¼‰ â†’ æŠ¥é”™  
- ç›¸å¯¹è·¯å¾„éæ³• â†’ æŠ¥é”™  
- æ‰¹é‡è·¯å¾„æ ¡éªŒ â†’ è¾“å‡ºå®Œæ•´æŠ¥å‘Š  

---

## é£é™©ä¸ TODO
- è·¯å¾„å¤§å°å†™æ ¡éªŒéœ€è·¨å¹³å°æµ‹è¯•ï¼ˆWindows vs Linuxï¼‰  
- ç›¸å¯¹è·¯å¾„ç­–ç•¥éœ€å›¢é˜Ÿç¡®è®¤ï¼ˆæ˜¯å¦å¼ºåˆ¶ç›¸å¯¹é¡¹ç›®æ ¹ç›®å½•ï¼‰  
- æŠ¥å‘Šè¾“å‡ºæ ¼å¼éœ€ç»Ÿä¸€ï¼ˆæ§åˆ¶å° vs æ–‡ä»¶ vs UI é¢æ¿ï¼‰  

---

**æ‰€æœ‰ BigWorld MaxScript æ–‡ä»¶çš„é€ä¸ªæ·±åº¦æŠ¥å‘Šå·²ç»å®Œæˆ** ğŸ‰ã€‚  





---

# ğŸ“Š BigWorld æ¨¡å—ä¾èµ–å…³ç³»å›¾ï¼ˆè°ƒç”¨å…³ç³»å›¾ï¼‰

```
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   BigWorld_Startup  â”‚
                â”‚ (åˆå§‹åŒ–/æ³¨å†ŒUIå…¥å£) â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   BigWorld_Common   â”‚
                â”‚ (å…¬å…±å¸¸é‡/å·¥å…·å‡½æ•°) â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ BigWorld_Validator  â”‚
                â”‚ (ç»Ÿä¸€æ ¡éªŒ/æ—¥å¿—ç³»ç»Ÿ) â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚                   â”‚
        â–¼                 â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Export ç³»åˆ—    â”‚  â”‚ Geometry ç³»åˆ— â”‚   â”‚ Portal ç³»åˆ—    â”‚
â”‚ (Visual/Anim/ â”‚  â”‚ (BSP/Hull/    â”‚   â”‚ (Exit/Heaven/  â”‚
â”‚ HitBox)       â”‚  â”‚ Normals/Div)  â”‚   â”‚ Standard/Label)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚                    â”‚
        â–¼                  â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Prefab ç³»åˆ—    â”‚  â”‚ Path ç³»åˆ—     â”‚   â”‚ Import ç³»åˆ—    â”‚
â”‚ (Assembler)   â”‚  â”‚ (Modify/Verify)â”‚   â”‚ (HardPoint)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# ğŸ”¹ ä¾èµ–è¯´æ˜

1. **Startup â†’ Common â†’ Validator**  
   - æ‰€æœ‰æ¨¡å—éƒ½ä¾èµ– Commonï¼ˆè·¯å¾„ã€æ—¥å¿—ã€å·¥å…·å‡½æ•°ï¼‰ã€‚  
   - æ‰€æœ‰å¯¼å‡º/å‡ ä½•/Portal/è·¯å¾„æ¨¡å—éƒ½ä¾èµ– Validatorï¼ˆæ ¡éªŒä¸é”™è¯¯å¤„ç†ï¼‰ã€‚  

2. **Export ç³»åˆ—**  
   - Visualã€Animationã€HitBox â†’ ä¾èµ– Common + Validatorã€‚  
   - HitBox å¯¼å‡ºè¿˜ä¾èµ– Define_Hitboxes çš„æ•°æ®ã€‚  

3. **Geometry ç³»åˆ—**  
   - BSPã€Hullã€Normalsã€Divider â†’ ä¾èµ– Common + Validatorã€‚  
   - Normals é€šå¸¸åœ¨ Visual å¯¼å‡ºå‰è°ƒç”¨ã€‚  
   - Divider åœ¨å¤§æ¨¡å‹å¯¼å‡ºå‰è°ƒç”¨ã€‚  

4. **Portal ç³»åˆ—**  
   - Exit/Heaven/Standard/Label â†’ ä¾èµ– Common + Validatorã€‚  
   - å››ç±» Portal ç»“æ„ä¸€è‡´ï¼Œä»… type ä¸åŒã€‚  

5. **Prefab ç³»åˆ—**  
   - Prefab Assembler â†’ ä¾èµ– Exportï¼ˆVisual/Anim/HitBoxï¼‰å’Œ Importï¼ˆHardPointï¼‰çš„ç»“æœã€‚  
   - Prefab æ˜¯èµ„æºæ‰“åŒ…çš„æœ€åç¯èŠ‚ã€‚  

6. **Path ç³»åˆ—**  
   - Modify_Res_Paths â†’ ä¿®æ”¹èµ„æºè·¯å¾„ã€‚  
   - Verify_File_Paths â†’ æ ¡éªŒèµ„æºè·¯å¾„ã€‚  
   - ä¸¤è€…äº’ä¸ºå‰åå¤„ç†å…³ç³»ã€‚  

7. **Import ç³»åˆ—**  
   - HardPoint Import â†’ ä¾èµ– Common + Validatorã€‚  
   - å¯¼å…¥çš„ HardPoint å¯ä½œä¸º Prefab çš„å­å¯¹è±¡ã€‚  

---

# ğŸ”¹ è¿ç§»é¡ºåºå»ºè®®ï¼ˆåŸºäºä¾èµ–å…³ç³»ï¼‰

1. **æ ¸å¿ƒå±‚**ï¼šCommon â†’ Validator  
2. **å¯¼å‡ºä¸»é“¾è·¯**ï¼šVisual â†’ Animation â†’ HitBox  
3. **å‡ ä½•å¤„ç†**ï¼šNormals â†’ Divider â†’ BSP â†’ Hull  
4. **Portal ç³»åˆ—**ï¼šExit â†’ Heaven â†’ Standard â†’ Label  
5. **è·¯å¾„å·¥å…·**ï¼šModify â†’ Verify  
6. **å¯¼å…¥å·¥å…·**ï¼šHardPoint  
7. **Prefab æ‰“åŒ…**ï¼šAssemblerï¼ˆæœ€åæ•´åˆæ‰€æœ‰èµ„æºï¼‰  

---

 **å…¨å±€ä¾èµ–å…³ç³»å›¾ + è¿ç§»é¡ºåº**ã€‚  


---

# ğŸ“Š BigWorld æ¨¡å—æµ‹è¯•è¦†ç›–çŸ©é˜µ

| æ¨¡å—ç±»åˆ« | æ¨¡å—åç§° | è¾“å…¥æ•°æ® | è¾“å‡ºæ•°æ® | å…³é”®æ ¡éªŒç‚¹ | æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹ |
|----------|----------|----------|----------|------------|--------------|
| **æ ¸å¿ƒå±‚** | Common | è·¯å¾„ã€æ—¥å¿—è°ƒç”¨ | å·¥å…·å‡½æ•°è¿”å›å€¼ | å·¥å…·å‡½æ•°æ­£ç¡®æ€§ã€æ—¥å¿—è¾“å‡ºä¸€è‡´æ€§ | è°ƒç”¨è·¯å¾„æ‹¼æ¥å‡½æ•°ï¼Œæ£€æŸ¥ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ |
|          | Validator | ä»»æ„æ¨¡å—æ•°æ® | æ ¡éªŒç»“æœï¼ˆé€šè¿‡/é”™è¯¯ç ï¼‰ | é”™è¯¯ç è¦†ç›–ã€è¾¹ç•Œæ¡ä»¶ | è¾“å…¥éæ³•å°ºå¯¸ â†’ è¿”å›å¯¹åº”é”™è¯¯ç  |
| **å¯¼å‡ºç±»** | Export Visual | Meshã€æè´¨ã€åŠ¨ç”»å¼•ç”¨ | `.visual` æ–‡ä»¶ | Mesh å®Œæ•´æ€§ã€æè´¨è·¯å¾„æ­£ç¡® | å¯¼å‡ºå¸¦å¤šæè´¨æ¨¡å‹ï¼Œæ£€æŸ¥ `.visual` æ–‡ä»¶ |
|          | Export Animation | éª¨éª¼ã€åŠ¨ä½œæ•°æ® | `.animation` æ–‡ä»¶ | éª¨éª¼ç»‘å®šä¸€è‡´æ€§ã€å¸§æ•°æ­£ç¡® | å¯¼å‡ºåŠ¨ä½œå¸§æ•°ä¸ Max ä¸€è‡´ |
|          | Define Hitboxes | éª¨éª¼ã€å°ºå¯¸ã€ä½ç½® | HitBox èŠ‚ç‚¹ | åç§°å”¯ä¸€æ€§ã€éª¨éª¼å­˜åœ¨æ€§ | åˆ›å»ºé‡å¤åç§° â†’ æŠ¥é”™ |
|          | Export HitBox XML | HitBox èŠ‚ç‚¹ | `.xml` æ–‡ä»¶ | å­—æ®µå®Œæ•´æ€§ã€éª¨éª¼æ˜ å°„æ­£ç¡® | å¯¼å‡ºå XML èƒ½è¢«å¼•æ“åŠ è½½ |
| **å‡ ä½•ç±»** | Make BSP | Mesh | `.bsp` æ–‡ä»¶ | å°é—­æ€§ã€æ ‘ç»“æ„åˆæ³•æ€§ | éå°é—­å‡ ä½• â†’ æŠ¥é”™ |
|          | Make CustomHull | Mesh | `.hull` æ–‡ä»¶ | Hull ç±»å‹æ­£ç¡®ã€é¢æ•°ä¼˜åŒ– | å‡¸åŒ…/å‡¹å£³ç”Ÿæˆæ­£ç¡® |
|          | Munge Normals | Mesh | æ›´æ–°åçš„æ³•çº¿ | æ³•çº¿æ–¹å‘ä¸€è‡´æ€§ã€å¹³æ»‘è§’åº¦ | ç¿»è½¬æ³•çº¿ â†’ è‡ªåŠ¨ä¿®æ­£ |
|          | Object Divider | å¤§å‹ Mesh | å¤šä¸ªå­å¯¹è±¡ | å­å¯¹è±¡é¡¶ç‚¹/é¢æ•° â‰¤ é™åˆ¶ | è¶…è¿‡ 65535 é¢ â†’ è‡ªåŠ¨æ‹†åˆ† |
| **Portal ç±»** | Exit Portal | ä½ç½®ã€æ³•çº¿ã€å°ºå¯¸ | Portal èŠ‚ç‚¹ | æ³•çº¿åˆæ³•æ€§ã€å°ºå¯¸æ­£ç¡® | æ³•çº¿ä¸ºé›¶å‘é‡ â†’ æŠ¥é”™ |
|          | Heaven Portal | åŒä¸Š | Portal èŠ‚ç‚¹ | ç±»å‹=heaven | å¯¼å‡ºåæ ‡è®°æ­£ç¡® |
|          | Standard Portal | åŒä¸Š | Portal èŠ‚ç‚¹ | ç±»å‹=standard | å¤šä¸ª Portal æ­£ç¡®åˆ—å‡º |
|          | Label Portal | åŒä¸Š + æ ‡ç­¾ | Portal èŠ‚ç‚¹ | æ ‡ç­¾å”¯ä¸€æ€§ | æ ‡ç­¾ä¸ºç©º/é‡å¤ â†’ æŠ¥é”™ |
| **è·¯å¾„ç±»** | Modify Res Paths | æ—§è·¯å¾„ã€æ–°è·¯å¾„ | æ›´æ–°åçš„è·¯å¾„ | æ–°è·¯å¾„å­˜åœ¨æ€§ã€æ›¿æ¢æ­£ç¡®æ€§ | ä¿®æ”¹è´´å›¾è·¯å¾„åèƒ½æ­£ç¡®åŠ è½½ |
|          | Verify File Paths | æ–‡ä»¶è·¯å¾„é›†åˆ | æ ¡éªŒæŠ¥å‘Š | æ–‡ä»¶å­˜åœ¨æ€§ã€å¤§å°å†™ä¸€è‡´æ€§ | Linux ä¸‹å¤§å°å†™é”™è¯¯ â†’ æŠ¥é”™ |
| **å¯¼å…¥ç±»** | Import HardPoint | `.xml`/`.json` æ–‡ä»¶ | HardPoint èŠ‚ç‚¹ | éª¨éª¼å­˜åœ¨æ€§ã€åç§°å”¯ä¸€æ€§ | å¯¼å…¥æŒ‚ç‚¹ç»‘å®šåˆ°æ­£ç¡®éª¨éª¼ |
| **Prefab ç±»** | Prefab Assembler | æ ¹èŠ‚ç‚¹ã€å­å¯¹è±¡ | `.prefab` æ–‡ä»¶ | ç»“æ„å®Œæ•´æ€§ã€å˜æ¢æ­£ç¡®æ€§ | Prefab å¯¼å‡ºåèƒ½è¢«å¼•æ“å®ä¾‹åŒ– |

---

# ğŸ”¹ æµ‹è¯•è¦†ç›–ç­–ç•¥

1. **åŠŸèƒ½è¦†ç›–**ï¼šæ¯ä¸ªæ¨¡å—çš„ä¸»è¦åŠŸèƒ½ï¼ˆå¯¼å…¥/å¯¼å‡º/ç”Ÿæˆ/æ ¡éªŒï¼‰è‡³å°‘æœ‰ 1 ä¸ªæ­£å‘ç”¨ä¾‹ + 1 ä¸ªåå‘ç”¨ä¾‹ã€‚  
2. **è¾¹ç•Œè¦†ç›–**ï¼šé¡¶ç‚¹æ•°ã€é¢æ•°ã€è§’åº¦é˜ˆå€¼ã€è·¯å¾„é•¿åº¦ç­‰è¾¹ç•Œæ¡ä»¶å¿…é¡»æµ‹è¯•ã€‚  
3. **é”™è¯¯è¦†ç›–**ï¼šæ‰€æœ‰é”™è¯¯ç ï¼ˆå¦‚ 2301, 3102, 3603ï¼‰å¿…é¡»æœ‰å¯¹åº”è§¦å‘ç”¨ä¾‹ã€‚  
4. **é›†æˆè¦†ç›–**ï¼šè·¨æ¨¡å—é“¾è·¯ï¼ˆå¦‚ HitBox å®šä¹‰ â†’ å¯¼å‡º XML â†’ Prefab ç»„è£…ï¼‰å¿…é¡»æµ‹è¯•å…¨é“¾è·¯ä¸€è‡´æ€§ã€‚  
5. **å¹³å°è¦†ç›–**ï¼šè·¯å¾„æ ¡éªŒéœ€åœ¨ Windows/Linux åŒå¹³å°æµ‹è¯•ï¼ˆå¤§å°å†™æ•æ„Ÿæ€§ï¼‰ã€‚  

---


---

# ğŸ“‘ é”™è¯¯ç è§„èŒƒè¡¨ï¼ˆError Code Standardï¼‰

ä¸ºäº†é¿å…å„æ¨¡å—éšæ„å®šä¹‰é”™è¯¯ç ï¼Œå»ºè®®å»ºç«‹ä¸€ä¸ª **ç»Ÿä¸€çš„é”™è¯¯ç åŒºé—´åˆ†é…è¡¨**ï¼Œä¿è¯å”¯ä¸€æ€§å’Œå¯è¿½æº¯æ€§ã€‚

| æ¨¡å—ç±»åˆ« | é”™è¯¯ç åŒºé—´ | ç¤ºä¾‹é”™è¯¯ç  | å«ä¹‰ |
|----------|------------|------------|------|
| **æ ¸å¿ƒå±‚** | 1000â€“1999 | 1001 | Common å·¥å…·å‡½æ•°è°ƒç”¨å¤±è´¥ |
|          |            | 1101 | Validator æ ¡éªŒå¤±è´¥ï¼ˆé€šç”¨ï¼‰ |
| **å¯¼å‡ºç±»** | 2000â€“2499 | 2301 | HitBox æœªå®šä¹‰ |
|          |            | 2302 | éª¨éª¼ä¸å­˜åœ¨ |
|          |            | 2402 | HitBox åç§°é‡å¤ |
| **å‡ ä½•ç±»** | 3000â€“3499 | 3001 | BSPï¼šæœªé€‰æ‹©å‡ ä½•ä½“ |
|          |            | 3102 | Hullï¼šå‡ ä½•ä½“è¿‡äºå¤æ‚ |
|          |            | 3203 | Normalsï¼šé˜ˆå€¼éæ³• |
|          |            | 3303 | Dividerï¼šæ‹†åˆ†å¤±è´¥ |
| **Portal ç±»** | 2500â€“2899 | 2501 | Exit Portalï¼šæœªæŒ‡å®šæ³•çº¿ |
|          |            | 2603 | Heaven Portalï¼šåç§°é‡å¤ |
|          |            | 2702 | Standard Portalï¼šå°ºå¯¸éæ³• |
|          |            | 2804 | Label Portalï¼šæ ‡ç­¾é”™è¯¯ |
| **è·¯å¾„ç±»** | 3500â€“3699 | 3502 | Modifyï¼šæ–°è·¯å¾„ä¸å­˜åœ¨ |
|          |            | 3602 | Verifyï¼šå¤§å°å†™é”™è¯¯ |
| **å¯¼å…¥ç±»** | 2900â€“2999 | 2901 | HardPointï¼šæ–‡ä»¶ä¸å­˜åœ¨ |
|          |            | 2904 | HardPointï¼šåç§°é‡å¤ |
| **Prefab ç±»** | 3400â€“3499 | 3401 | Prefabï¼šæœªè®¾ç½®æ ¹èŠ‚ç‚¹ |
|          |            | 3403 | Prefabï¼šå˜æ¢æ•°æ®ç¼ºå¤± |

ğŸ‘‰ è¿™æ ·æ¯ä¸ªæ¨¡å—éƒ½æœ‰ç‹¬ç«‹çš„åŒºé—´ï¼Œé”™è¯¯ç ä¸€çœ¼å°±èƒ½å®šä½åˆ°æ¨¡å—å’Œé—®é¢˜ç±»å‹ã€‚

---

# ğŸ“‚ ç»Ÿä¸€çš„ Schema ä»“åº“ï¼ˆSchema Repositoryï¼‰

å»ºè®®åœ¨é¡¹ç›®ä¸­å»ºç«‹ä¸€ä¸ªç‹¬ç«‹ç›®å½•ï¼Œä¾‹å¦‚ï¼š

```
/schemas
   /export
      visual_schema.json
      animation_schema.json
      hitbox_schema.json
   /geometry
      bsp_schema.json
      hull_schema.json
      normals_schema.json
      divider_schema.json
   /portal
      portal_exit_schema.json
      portal_heaven_schema.json
      portal_standard_schema.json
      portal_label_schema.json
   /paths
      respath_schema.json
      filepath_schema.json
   /import
      hardpoint_schema.json
   /prefab
      prefab_schema.json
```

## è§„èŒƒè¦æ±‚
1. **å‘½åè§„åˆ™**ï¼š`æ¨¡å—å_schema.json`ï¼Œä¿æŒä¸ä»£ç æ¨¡å—ä¸€ä¸€å¯¹åº”ã€‚  
2. **ç‰ˆæœ¬ç®¡ç†**ï¼š  
   - æ¯ä¸ª Schema æ–‡ä»¶åŒ…å« `"schema_version": "v1.0"` å­—æ®µã€‚  
   - ä¿®æ”¹å­—æ®µæ—¶å¿…é¡»æ›´æ–°ç‰ˆæœ¬å·ï¼Œå¹¶åœ¨ `CHANGELOG.md` ä¸­è®°å½•ã€‚  
3. **æ ¡éªŒå·¥å…·**ï¼š  
   - åœ¨ CI/CD ä¸­ä½¿ç”¨ `jsonschema` æˆ– `pydantic` è‡ªåŠ¨æ ¡éªŒå¯¼å‡ºæ–‡ä»¶ã€‚  
   - æ¯æ¬¡æäº¤ä»£ç æ—¶ï¼Œè‡ªåŠ¨è·‘ Schema æ ¡éªŒï¼Œé˜²æ­¢ä¸ç¬¦åˆè§„èŒƒçš„æ–‡ä»¶è¿›å…¥ä»“åº“ã€‚  
4. **æ–‡æ¡£åŒ–**ï¼š  
   - æ¯ä¸ª Schema æ–‡ä»¶éœ€é…å¥—ä¸€ä»½ Markdown æ–‡æ¡£ï¼Œè¯´æ˜å­—æ®µå«ä¹‰ã€ç¤ºä¾‹ã€å¿…å¡«é¡¹ã€‚  
   - ç¤ºä¾‹ï¼š  
     ```json
     {
       "hitbox_name": "head_hitbox",
       "bone": "Bip01_Head",
       "dimensions": [0.2,0.3,0.4],
       "position": [0,1.2,0],
       "rotation": [0,0,0,1],
       "type": "box"
     }
     ```

---

# ğŸ”¹ å»ºè®®çš„è½åœ°æ­¥éª¤

1. **å»ºç«‹ `/schemas` ä»“åº“ç›®å½•**ï¼Œåˆå§‹å¯¼å…¥æ‰€æœ‰æ¨¡å—çš„ Schemaã€‚  
2. **å®šä¹‰é”™è¯¯ç è¡¨**ï¼Œæ”¾åœ¨ `/docs/error_codes.md`ï¼Œå›¢é˜Ÿç»Ÿä¸€å¼•ç”¨ã€‚  
3. **åœ¨ CI/CD ä¸­é›†æˆ Schema æ ¡éªŒ**ï¼Œä¿è¯å¯¼å‡ºæ–‡ä»¶ç¬¦åˆè§„èŒƒã€‚  
4. **å®šæœŸç‰ˆæœ¬å®¡æŸ¥**ï¼šæ¯æ¬¡å¼•æ“å‡çº§æˆ–è¿ç§»æ–°åŠŸèƒ½æ—¶ï¼Œæ›´æ–° Schema ä¸é”™è¯¯ç ã€‚  

---
https://github.com/howarduong/BigWorld_MAXScripts 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MAXScripts/BigWorld_Common.ms 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Cue_Track.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Define_Hitboxes.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Exit_Portal.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Export_Animation.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Export_HitBox_to_xml.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Export_Visual.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Heaven_Portal.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Import_HardPoint.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Label_Portal.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Make_BSP.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Make_CustomHull.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Modify_Res_Paths.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Munge_Normals.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Object_Divider.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Prefab_Assembler.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Standard_Portal.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_MacroScripts/BigWorld_Verify_File_Paths.mcr 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/BigWorld_StartupScripts/BigWorld_Startup.ms 
https://github.com/howarduong/BigWorld_MAXScripts/blob/main/help/BigWorld%20MAXScripts.pdf 